[0;36må¼€å§‹ç»¼åˆæµ‹è¯•...[0m
æ—¶é—´: 2025å¹´ 5æœˆ14æ—¥ æ˜ŸæœŸä¸‰ 14æ—¶40åˆ†16ç§’ CST
æ•°æ®åº“URL: postgresql://postgres:810705@localhost:5432/salary_system_v2
APIåŸºç¡€URL: http://localhost:8080
APIç”¨æˆ·å: admin
APIå¯†ç : ********
æµ‹è¯•åˆ†ç±»: 'æ‰€æœ‰åˆ†ç±»'
æ—¥å¿—æ–‡ä»¶: test_logs/test_log_20250514_144016.txt

[0;36m=== æ­¥éª¤1: æµ‹è¯•æ•°æ®åº“è¿æ¥ ===[0m
ä½¿ç”¨æä¾›çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²: postgresql://postgres:810705@localhost:5432/salary_system_v2
å°è¯•è¿æ¥æ•°æ®åº“...
æ•°æ®åº“è¿æ¥æˆåŠŸ!
æµ‹è¯•æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬...
æ•°æ®åº“ç‰ˆæœ¬: PostgreSQL 17.4 (Debian 17.4-1.pgdg120+2) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit

æµ‹è¯•æŸ¥è¯¢security.usersè¡¨...
security.usersè¡¨å­˜åœ¨

æŸ¥è¯¢security.usersè¡¨ç»“æ„...
è¡¨ç»“æ„:
  id (bigint, éç©º)
  username (character varying, éç©º)
  password_hash (character varying, éç©º)
  employee_id (bigint, å¯ç©º)
  is_active (boolean, éç©º)
  created_at (timestamp with time zone, éç©º)

æŸ¥è¯¢security.usersè¡¨æ•°æ®...
æ‰¾åˆ°2æ¡è®°å½•:
  ID: 1, ç”¨æˆ·å: admin, æ˜¯å¦æ¿€æ´»: True
  ID: 2, ç”¨æˆ·å: testuser, æ˜¯å¦æ¿€æ´»: True

æµ‹è¯•æŸ¥è¯¢security.rolesè¡¨...
security.rolesè¡¨å­˜åœ¨

æŸ¥è¯¢security.rolesè¡¨æ•°æ®...
æ‰¾åˆ°1æ¡è®°å½•:
  ID: 1, ä»£ç : SUPER_ADMIN, åç§°: Super Admin

æµ‹è¯•æŸ¥è¯¢security.user_rolesè¡¨...
security.user_rolesè¡¨å­˜åœ¨

æŸ¥è¯¢security.user_rolesè¡¨æ•°æ®...
æ‰¾åˆ°1æ¡è®°å½•:
  ç”¨æˆ·ID: 1, è§’è‰²ID: 1

æ•°æ®åº“è¿æ¥æµ‹è¯•å®Œæˆ
[0;32mâœ“ æ•°æ®åº“è¿æ¥æµ‹è¯•é€šè¿‡[0m

[0;36m=== æ­¥éª¤2: æµ‹è¯•åç«¯æœåŠ¡çŠ¶æ€ ===[0m
æµ‹è¯•åç«¯æœåŠ¡çŠ¶æ€...
æœåŠ¡å™¨URL: http://localhost:8080
å“åº”çŠ¶æ€ç : 200
å“åº”æ—¶é—´: 0.01ç§’
âœ“ æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
æœåŠ¡å™¨ä¿¡æ¯: {
  "message": "Welcome to the Salary Information Management System API"
}

æµ‹è¯•APIæ–‡æ¡£ç«¯ç‚¹...
å“åº”çŠ¶æ€ç : 200
âœ“ APIæ–‡æ¡£å¯è®¿é—®

æµ‹è¯•v2 APIç«¯ç‚¹...
å“åº”çŠ¶æ€ç : 403
âš  v2 APIç«¯ç‚¹ä¸å¯è®¿é—®
[0;32mâœ“ åç«¯æœåŠ¡çŠ¶æ€æµ‹è¯•é€šè¿‡[0m

[0;36m=== æ­¥éª¤3: æµ‹è¯•APIæ¥å£ ===[0m
å¼€å§‹ç»¼åˆæµ‹è¯•...

=== æ­¥éª¤1: æµ‹è¯•æ•°æ®åº“è¿æ¥ ===
æ•°æ®åº“URL: postgresql://postgres:810705@localhost:5432/salary_system_v2
è¿æ¥å‚æ•°: host=localhost, port=5432, dbname=salary_system_v2, user=postgres
âœ“ æˆåŠŸè¿æ¥åˆ°æ•°æ®åº“ (0.01ç§’)
âœ“ å®‰å…¨æ¨¡å¼è¡¨å­˜åœ¨: permissions, roles, users
âœ“ ç®¡ç†å‘˜ç”¨æˆ·å­˜åœ¨
âš  SUPER_ADMINè§’è‰²ä¸å­˜åœ¨

=== æ­¥éª¤2: æµ‹è¯•åç«¯æœåŠ¡çŠ¶æ€ ===
æœåŠ¡å™¨URL: http://localhost:8080
âœ“ æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œå“åº”æ—¶é—´: 0.00ç§’
æœåŠ¡å™¨ä¿¡æ¯: {
  "message": "Welcome to the Salary Information Management System API"
}

=== æ­¥éª¤3: æµ‹è¯•è®¤è¯æ¥å£ ===
è®¤è¯URL: http://localhost:8080/v2/token
ç”¨æˆ·å: admin
å¯†ç : *****
å“åº”çŠ¶æ€ç : 500
å“åº”JSON: {
  "detail": {
    "error": {
      "code": 500,
      "message": "Internal Server Error",
      "details": "(psycopg2.errors.UndefinedTable) relation \"security.users\" does not exist\nLINE 2: FROM security.users \n             ^\n\n[SQL: SELECT security.users.id AS security_users_id, security.users.username AS security_users_username, security.users.password_hash AS security_users_password_hash, security.users.employee_id AS security_users_employee_id, security.users.is_active AS security_users_is_active, security.users.created_at AS security_users_created_at \nFROM security.users \nWHERE security.users.username = %(username_1)s \n LIMIT %(param_1)s]\n[parameters: {'username_1': 'admin', 'param_1': 1}]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
    }
  }
}
âœ— ç™»å½•å¤±è´¥: 500 - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
å“åº”å†…å®¹: {"detail":{"error":{"code":500,"message":"Internal Server Error","details":"(psycopg2.errors.UndefinedTable) relation \"security.users\" does not exist\nLINE 2: FROM security.users \n             ^\n\n[SQL: SELECT security.users.id AS security_users_id, security.users.username AS security_users_username, security.users.password_hash AS security_users_password_hash, security.users.employee_id AS security_users_employee_id, security.users.is_active AS security_users_is_active, security.users.created_at AS security_users_created_at \nFROM security.users \nWHERE security.users.username = %(username_1)s \n LIMIT %(param_1)s]\n[parameters: {'username_1': 'admin', 'param_1': 1}]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}}}
âš  è®¤è¯å¤±è´¥ï¼Œå°†ç»§ç»­æµ‹è¯•ä¸éœ€è¦è®¤è¯çš„APIç«¯ç‚¹

=== æ­¥éª¤4: æµ‹è¯•APIç«¯ç‚¹ ===

æµ‹è¯•åˆ†ç±»: employees

æµ‹è¯•: GET /v2/employees
æè¿°: è·å–å‘˜å·¥åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/employees
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0021ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: departments

æµ‹è¯•: GET /v2/departments
æè¿°: è·å–éƒ¨é—¨åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/departments
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0019ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: job_titles

æµ‹è¯•: GET /v2/job-titles
æè¿°: è·å–èŒä½åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/job-titles
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0024ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: lookup

æµ‹è¯•: GET /v2/lookup/types
æè¿°: è·å–æŸ¥æ‰¾ç±»å‹åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/lookup/types
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0014ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: config

æµ‹è¯•: GET /v2/config/parameters
æè¿°: è·å–ç³»ç»Ÿå‚æ•°åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/config/parameters
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0016ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: payroll

æµ‹è¯•: GET /v2/payroll-periods
æè¿°: è·å–å·¥èµ„å‘¨æœŸåˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/payroll-periods
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0028ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•: GET /v2/payroll-entries
æè¿°: è·å–å·¥èµ„æ˜ç»†åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/payroll-entries
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0031ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

æµ‹è¯•åˆ†ç±»: security

æµ‹è¯•: GET /v2/permissions
æè¿°: è·å–æƒé™åˆ—è¡¨
è¯·æ±‚URL: http://localhost:8080/v2/permissions
çŠ¶æ€ç : 403
å“åº”æ—¶é—´: 0.0020ç§’
å“åº”å†…å®¹:
{
  "detail": "Not authenticated"
}

APIæµ‹è¯•æ‘˜è¦:
æ€»æµ‹è¯•æ•°: 8
é€šè¿‡æµ‹è¯•: 0
å¤±è´¥æµ‹è¯•: 8
é€šè¿‡ç‡: 0.00%

ç»¼åˆæµ‹è¯•ç»“æœ:
æ•°æ®åº“è¿æ¥: æˆåŠŸ
åç«¯æœåŠ¡çŠ¶æ€: æ­£å¸¸
è®¤è¯æ¥å£: å¤±è´¥
APIç«¯ç‚¹æµ‹è¯•: å…¨éƒ¨å¤±è´¥
[0;31mâœ— APIæµ‹è¯•å¤±è´¥[0m

[0;36mç»¼åˆæµ‹è¯•ç»“æœ:[0m
æ•°æ®åº“è¿æ¥: [0;32mé€šè¿‡[0m
åç«¯æœåŠ¡çŠ¶æ€: [0;32mé€šè¿‡[0m
APIæµ‹è¯•: [0;31må¤±è´¥[0m
[0;31méƒ¨åˆ†æµ‹è¯•å¤±è´¥![0m
