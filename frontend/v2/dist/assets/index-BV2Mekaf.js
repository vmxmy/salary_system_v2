const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/payroll-management-BhhUn9Iu.js","assets/hr-management-Bxz25n3J.js","assets/react-vendor-D9vUlElp.js","assets/antd-vendor-C1V4cVms.js","assets/employee-service-EoGCXWnj.js","assets/state-vendor-BIBp6L7x.js","assets/utils-vendor-CFhz7Dje.js","assets/i18n-vendor-DF0Yg0Xi.js","assets/hr-management-DTNwHUu_.css","assets/payroll-management-Bl2KAowS.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{s as n,M as r,Z as i,j as o,bq as a,br as l,bs as s,bt as c,bu as u,bv as d,bw as f,bx as p,by as h,bz as y,bA as m,bB as v,bC as g,bD as b,bE as x,bF as j,bG as w,bH as O,bI as S,bJ as _,bK as P,bL as k,bM as A,bN as C,bO as E,bP as T,bQ as N,bR as M,bS as D,bT as I,bU as R,bV as B,bW as z,bX as L,bY as F,bZ as $,b_ as U,n as W,T as V,L as q,_ as H,b$ as G,F as Y,J as X,c0 as K,d as Z,B as Q,az as J,aT as ee,c1 as te,b as ne,c2 as re,c3 as ie,c4 as oe,bi as ae,b6 as le,C as se,c5 as ce,S as ue,c6 as de,c7 as fe,c8 as pe,Q as he,r as ye,t as me,N as ve,U as ge,k as be,R as xe,au as je,aV as we,aH as Oe,l as Se,ax as _e,aq as Pe,ay as ke,I as Ae,u as Ce,b8 as Ee,v as Te,c9 as Ne,h as Me,ca as De,bh as Ie,cb as Re,m as Be,o as ze,V as Le,x as Fe,y as $e,z as Ue,cc as We,aR as Ve,ba as qe,G as He,cd as Ge,ce as Ye,cf as Xe,e as Ke,at as Ze,a1 as Qe,cg as Je,X as et,bd as tt,ch as nt,aK as rt,aw as it,g as ot,ci as at,D as lt,aC as st,cj as ct,ck as ut,a3 as dt,cl as ft,a as pt,cm as ht,cn as yt,co as mt,c as vt,cp as gt,cq as bt,cr as xt,cs as jt,a8 as wt,aA as Ot,ct as St,b5 as _t,cu as Pt,cv as kt,aO as At,cw as Ct,P as Et,cx as Tt,cy as Nt,E as Mt,aP as Dt}from"./antd-vendor-C1V4cVms.js";import{b as It,u as Rt,g as Bt,R as zt}from"./react-vendor-D9vUlElp.js";import{s as Lt,P as Ft}from"./index-CNoCQzrU.js";import{L as $t,b as Ut}from"./employee-service-EoGCXWnj.js";import{u as Wt}from"./i18n-vendor-DF0Yg0Xi.js";import{e as Vt,_ as qt,T as Ht}from"./hr-management-Bxz25n3J.js";import{I as Gt,J as Yt,q as Xt,v as Kt}from"./payroll-management-BhhUn9Iu.js";import{b as Zt,u as Qt}from"./admin-management-B_B4TQCC.js";import{S as Jt,P as en,s as tn,c as nn,l as rn,F as on}from"./FileSaver.min-BepjGbTF.js";import{a as an}from"./exceljs.min-BdG9S1UE.js";import"./state-vendor-BIBp6L7x.js";import"./utils-vendor-CFhz7Dje.js";import"./excel-vendor-BHR_E30J.js";const ln=()=>{const{t:e}=Wt(["simplePayroll","common"]),t=Rt(),[a,l]=It.useState(),[s,c]=It.useState(),[u,d]=It.useState(0),[f,p]=It.useState("workflow"),[h,y]=It.useState(!1),[m,v]=It.useState(!1),[g,b]=It.useState(!1),[x,j]=It.useState({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1}),[w,O]=It.useState({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1}),{periods:S,loading:_,refetch:P}=(()=>{const[e,t]=It.useState([]),[r,i]=It.useState(!1),[o,a]=It.useState(null),l=async()=>{var e,r,o,l;try{i(!0),a(null),$t.getState().auth.authToken;const e=((await Lt.getPayrollPeriods({is_active:!0,page:1,size:50})).data||[]).map((e=>({...e})));t(e)}catch(s){const i=(null==(l=null==(o=null==(r=null==(e=null==s?void 0:s.response)?void 0:e.data)?void 0:r.detail)?void 0:o.error)?void 0:l.message)||"获取工资期间失败";a(i),n.error(i),t([])}finally{i(!1)}};return It.useEffect((()=>{l()}),[]),{periods:e,loading:r,error:o,refetch:async()=>{await l()}}})(),{versions:k,loading:A,refetch:C}=(e=>{const[t,r]=It.useState([]),[i,o]=It.useState(!1),[a,l]=It.useState(null),s=async()=>{var t,i,a,s;if(e)try{o(!0),l(null);const t=((await Lt.getPayrollVersions({period_id:e,page:1,size:20})).data||[]).sort(((e,t)=>new Date(t.initiated_at).getTime()-new Date(e.initiated_at).getTime()));r(t)}catch(c){const e=(null==(s=null==(a=null==(i=null==(t=null==c?void 0:c.response)?void 0:t.data)?void 0:i.detail)?void 0:a.error)?void 0:s.message)||"获取工资运行失败";l(e),n.error(e),r([])}finally{o(!1)}else r([])};return It.useEffect((()=>{s()}),[e]),{versions:t,loading:i,error:a,refetch:async()=>{await s()}}})(a),{auditSummary:E,loading:T,refresh:N}=(e=>{const[t,n]=It.useState(null),[r,i]=It.useState(!1),[o,a]=It.useState(null),l=It.useCallback((async e=>{i(!0),a(null);try{const t=await Lt.getAuditSummary(e);t.data?n(t.data):n(null)}catch(t){a(t instanceof Error?t.message:"Unknown error"),n(null)}finally{i(!1)}}),[]),s=It.useCallback((()=>{e&&l(e)}),[e,l]);return It.useEffect((()=>{e?l(e):(n(null),a(null))}),[e,l]),{auditSummary:t,loading:r,error:o,refresh:s,fetchAuditSummary:l}})(s),M=async e=>{O((e=>({...e,loading:!0})));const t=setTimeout((()=>{O((e=>({...e,loading:!1})))}),5e3);try{const n=await Lt.getDataIntegrityStats(e);if(clearTimeout(t),n.data){const e=n.data.data_integrity;O({socialInsuranceBaseCount:e.social_insurance_base_count||0,housingFundBaseCount:e.housing_fund_base_count||0,occupationalPensionBaseCount:e.occupational_pension_base_count||0,incomeTaxPositiveCount:e.income_tax_positive_count||0,loading:!1})}else O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}catch(n){clearTimeout(t),O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}},D=async e=>{j((e=>({...e,loading:!0})));const t=setTimeout((()=>{j((e=>({...e,loading:!1})))}),5e3);try{const n=await Lt.getPayrollVersion(e);if(clearTimeout(t),n.data){const e=n.data;j({recordCount:e.total_entries||0,totalGrossPay:Number(Number(e.total_gross_pay||0).toFixed(2)),totalDeductions:Number(Number(e.total_deductions||0).toFixed(2)),totalNetPay:Number(Number(e.total_net_pay||0).toFixed(2)),loading:!1})}else j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}catch(n){clearTimeout(t),j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}},I=()=>{if(d((e=>e+1)),P(),a){S.some((e=>e.id===a))?(C(),M(a)):(l(void 0),c(void 0))}if(s){k.some((e=>e.id===s))?D(s):c(void 0)}},R=S.find((e=>e.id===a)),B=k.find((e=>e.id===s));return It.useEffect((()=>{s?D(s):j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}),[s]),It.useEffect((()=>{a?M(a):O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}),[a]),It.useEffect((()=>{}),[S,_]),It.useEffect((()=>{if(!_&&S.length>0&&!a){const e=async()=>{try{const e=await Lt.getLatestPayrollPeriodWithData();e.data?l(e.data.id):t()}catch(e){t()}},t=()=>{const e=i(),t=e.year(),n=e.month()+1,r=`${t}年${n.toString().padStart(2,"0")}月`;let o=S.find((e=>e.name.includes(r)));if(!o){const e=[`${t}年${n}月`,`${t}-${n.toString().padStart(2,"0")}`,`${t}-${n}`];for(const t of e)if(o=S.find((e=>e.name.includes(t))),o)break}l(o?o.id:S[0].id)};e()}}),[S,_]),It.useEffect((()=>{!A&&k.length>0&&!s&&c(k[0].id)}),[A,k.length,s]),It.useEffect((()=>{}),[k,A,a,R]),It.useEffect((()=>{c(void 0)}),[a]),It.useEffect((()=>{const e=setTimeout((async()=>{if(!a||!R||A)return;if(!(R.runs_count>0)&&0===k.length)try{(await Lt.createPayrollRun({payroll_period_id:a,description:`${R.name} 工资运行`})).data&&(n.success(`已为 ${R.name} 自动创建工资运行`),C(),P())}catch(e){n.warning(`为 ${R.name} 创建工资运行失败: ${e.message}`)}}),800);return()=>clearTimeout(e)}),[a,R,k.length,A]),It.useEffect((()=>{if(!A&&k.length>0&&!s&&a){let e=k.find((e=>"已计算"===e.status_name))||null;e||(e=k.find((e=>"草稿"===e.status_name||"DRAFT"===e.status_name))||null),e||(e=k[0]),c(e.id)}}),[k,A,s,a]),{selectedPeriodId:a,selectedVersionId:s,refreshTrigger:u,activeTab:f,isCreating:h,createPeriodModalVisible:m,payrollDataModalVisible:g,payrollStats:x,dataIntegrityStats:w,periods:S,versions:k,auditSummary:E,currentPeriod:R,currentVersion:B,periodsLoading:_,versionsLoading:A,auditLoading:T,setSelectedPeriodId:l,setSelectedVersionId:c,setActiveTab:p,setCreatePeriodModalVisible:v,setPayrollDataModalVisible:b,handleRefresh:I,handleRefreshAfterDelete:()=>{l(void 0),c(void 0),d((e=>e+1)),P(),j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1}),O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})},handleVersionRefresh:()=>{a&&C(),s&&D(s)},handleAuditRefresh:()=>{N()},resetLoadingStates:()=>{j((e=>({...e,loading:!1}))),O((e=>({...e,loading:!1}))),n.info("已重置加载状态")},handleNavigateToBulkImport:()=>{t("/finance/payroll/universal-import")},handleImportTaxData:()=>{n.info(e("simplePayroll:quickActions.importTaxDataMessage"))},handleCreateNewPeriod:()=>{v(!0)},handleDateChange:async(t,a)=>{try{const e=`${t}年${a.toString().padStart(2,"0")}月`,s=S.find((t=>t.name.includes(e)));if(s)l(s.id);else{const s=await Lt.getPayrollPeriods({year:t,month:a,page:1,size:10});s.data&&s.data.length>0?(l(s.data[0].id),P()):r.confirm({title:"🗓️ 创建新的工资期间",content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsxs("div",{style:{marginBottom:"16px",fontSize:"14px"},children:["系统中还没有 ",o.jsx("strong",{children:e})," 的工资数据"]}),o.jsx("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#1890ff"},children:"我来帮您快速创建："}),o.jsxs("div",{style:{backgroundColor:"#f6ffed",padding:"12px",borderRadius:"6px",marginBottom:"16px",border:"1px solid #b7eb8f"},children:[o.jsxs("div",{style:{marginBottom:"8px"},children:["📅 新建工资期间：",e]}),o.jsx("div",{style:{marginBottom:"8px"},children:"💼 准备工资计算环境"}),o.jsx("div",{children:"⚙️ 配置基础薪资设置"})]}),o.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[o.jsx("div",{style:{marginBottom:"8px",fontWeight:"bold"},children:"创建完成后，您就可以："}),o.jsxs("div",{style:{paddingLeft:"16px"},children:[o.jsx("div",{children:"• 导入员工工资数据"}),o.jsx("div",{children:"• 设置缴费基数"}),o.jsx("div",{children:"• 开始工资计算"})]})]})]}),okText:"立即创建",cancelText:"取消",width:450,onOk:async()=>{var r,s,c;try{const r=i().year(t).month(a-1).startOf("month"),s=i().year(t).month(a-1).endOf("month"),c=(await Lt.createPayrollPeriod({name:e,start_date:r.format("YYYY-MM-DD"),end_date:s.format("YYYY-MM-DD"),pay_date:s.add(5,"day").format("YYYY-MM-DD"),frequency_lookup_value_id:117})).data.id,u=await Lt.createPayrollRun({payroll_period_id:c,description:`自动创建的 ${e} 初始版本`});await P(),l(c),n.success({content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"12px",color:"#52c41a"},children:"🎉 工资期间创建成功！"}),o.jsxs("div",{style:{backgroundColor:"#f6ffed",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #b7eb8f"},children:[o.jsxs("div",{style:{marginBottom:"6px"},children:["📅 ",e," 工资期间已准备就绪"]}),o.jsx("div",{style:{marginBottom:"6px"},children:"💼 工资计算环境已配置完成"}),o.jsxs("div",{children:["📊 当前状态：",u.data.status_name||"等待数据导入"]})]}),o.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[o.jsx("div",{style:{marginBottom:"6px",fontWeight:"bold"},children:"接下来您可以："}),o.jsxs("div",{style:{paddingLeft:"12px"},children:[o.jsx("div",{children:"• 批量导入员工工资数据"}),o.jsx("div",{children:"• 设置员工缴费基数"}),o.jsx("div",{children:"• 开始进行工资计算"})]})]})]}),duration:8})}catch(u){const t=(null==(c=null==(s=null==(r=null==u?void 0:u.response)?void 0:r.data)?void 0:s.detail)?void 0:c.message)||(null==u?void 0:u.message)||"创建失败";n.error({content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"12px",color:"#ff4d4f"},children:"❌ 工资期间创建失败"}),o.jsxs("div",{style:{marginBottom:"12px",fontSize:"14px"},children:["抱歉，创建 ",o.jsx("strong",{children:e})," 工资期间时出现问题："]}),o.jsx("div",{style:{backgroundColor:"#fff2f0",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #ffccc7",color:"#cf1322"},children:t}),o.jsx("div",{style:{fontSize:"13px",color:"#666"},children:"请稍后重试，或联系系统管理员"})]}),duration:10})}},onCancel:()=>{l(void 0)}})}}catch(s){n.error(e("simplePayroll:errors.fetchPeriodFailed"))}},handleCreateFirstVersion:async()=>{const e=S.find((e=>e.id===a));if(a&&e){y(!0);try{const t={period_id:a,generation_type:"manual",source_data:{initial_entries:[]},description:`手动为 ${e.name} 创建第一个版本`};await Lt.generatePayroll(t),n.success("成功创建第一个版本"),I()}catch(t){n.error(t.message||"创建第一个版本失败")}finally{y(!1)}}else n.warning("请先选择一个有效的工资期间")},handleDeleteVersion:async e=>{try{await Lt.deletePayrollRun(e),n.success("版本删除成功"),s===e&&c(void 0),I()}catch(t){n.error(t.message||"删除版本失败")}},handleVersionChange:e=>{c(e)},handleQuickCreateCurrentMonth:async()=>{try{const e=new Date,t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");n.success(`正在创建 ${t}年${r}月 薪资周期...`),I()}catch(e){n.error("创建薪资周期失败")}},fetchPayrollStats:D,fetchDataIntegrityStats:M}};function sn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sn(e))&&(r&&(r+=" "),r+=t);return r}const un=Bt(a());var dn,fn;const pn=Bt(fn?dn:(fn=1,dn=function(e){return null==e}));const hn=Bt(l());const yn=Bt(s());const mn=Bt(c());var vn,gn,bn,xn;function jn(){if(gn)return vn;gn=1;var e=u(),t=d();return vn=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const wn=Bt(function(){if(xn)return bn;xn=1;var e=jn();return bn=function(t){return e(t)&&t!=+t}}());const On=Bt(jn());var Sn=function(e){return 0===e?0:e>0?1:-1},_n=function(e){return hn(e)&&e.indexOf("%")===e.length-1},Pn=function(e){return On(e)&&!wn(e)},kn=function(e){return Pn(e)||hn(e)},An=0,Cn=function(e){var t=++An;return"".concat(e||"").concat(t)},En=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Pn(e)&&!hn(e))return r;if(_n(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return wn(n)&&(n=r),i&&n>t&&(n=t),n},Tn=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Nn=function(e,t){return Pn(e)&&Pn(t)?function(n){return e+n*(t-e)}:function(){return t}};function Mn(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):un(e,t))===n})):null}var Dn=function(e,t){return Pn(e)&&Pn(t)?e-t:hn(e)&&hn(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function In(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bn=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zn=["points","pathLength"],Ln={svg:["viewBox","children"],polygon:zn,polyline:zn},Fn=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$n=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(It.isValidElement(e)&&(n=e.props),!mn(n))return null;var r={};return Object.keys(n).forEach((function(e){Fn.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Un=function(e,t,n){if(!mn(e)||"object"!==Rn(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Fn.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Wn=["children"],Vn=["children"];function qn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Gn={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yn=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Xn=null,Kn=null,Zn=function e(t){if(t===Xn&&Array.isArray(Kn))return Kn;var n=[];return It.Children.forEach(t,(function(t){pn(t)||(f.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))})),Kn=n,Xn=t,n};function Qn(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return Yn(e)})):[Yn(t)],Zn(e).forEach((function(e){var t=un(e,"type.displayName")||un(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function Jn(e,t){var n=Qn(e,t);return n&&n[0]}var er=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Pn(n)||n<=0||!Pn(r)||r<=0)},tr=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nr=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(It.isValidElement(e)&&(r=e.props),!mn(r))return null;var i={};return Object.keys(r).forEach((function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==Ln?void 0:Ln[r])&&void 0!==i?i:[];return t.startsWith("data-")||!yn(e)&&(r&&o.includes(t)||Bn.includes(t))||n&&Fn.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])})),i},rr=function e(t,n){if(t===n)return!0;var r=It.Children.count(t);if(r!==It.Children.count(n))return!1;if(0===r)return!0;if(1===r)return ir(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!ir(o,a))return!1}return!0},ir=function(e,t){if(pn(e)&&pn(t))return!0;if(!pn(e)&&!pn(t)){var n=e.props||{},r=n.children,i=qn(n,Wn),o=t.props||{},a=o.children,l=qn(o,Vn);return r&&a?In(i,l)&&rr(r,a):!r&&!a&&In(i,l)}return!1},or=function(e,t){var n=[],r={};return Zn(e).forEach((function(e,i){if(function(e){return e&&e.type&&hn(e.type)&&tr.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=Yn(e.type),a=t[o]||{},l=a.handler,s=a.once;if(l&&(!s||!r[o])){var c=l(e,o,i);n.push(c),r[o]=!0}}})),n},ar=["children","width","height","viewBox","className","style","title","desc"];function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function sr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cr(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,l=e.title,s=e.desc,c=sr(e,ar),u=i||{width:n,height:r,x:0,y:0},d=cn("recharts-surface",o);return zt.createElement("svg",lr({},nr(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),zt.createElement("title",null,l),zt.createElement("desc",null,s),t)}var ur=["children","className"];function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pr,hr,yr,mr,vr,gr,br,xr,jr,wr,Or,Sr,_r,Pr,kr,Ar,Cr=zt.forwardRef((function(e,t){var n=e.children,r=e.className,i=fr(e,ur),o=cn("recharts-layer",r);return zt.createElement("g",dr({className:o},nr(i,!0),{ref:t}),n)})),Er=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function Tr(){if(mr)return yr;mr=1;var e=hr?pr:(hr=1,pr=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o});return yr=function(t,n,r){var i=t.length;return r=void 0===r?i:r,!n&&r>=i?t:e(t,n,r)}}function Nr(){if(gr)return vr;gr=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return vr=function(t){return e.test(t)}}function Mr(){if(Sr)return Or;Sr=1;var e=xr?br:(xr=1,br=function(e){return e.split("")}),t=Nr(),n=function(){if(wr)return jr;wr=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+r+")?",s="[\\ufe0e\\ufe0f]?",c=s+l+"(?:\\u200d(?:"+[i,o,a].join("|")+")"+s+l+")*",u="(?:"+[i+n+"?",n,o,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+u+c,"g");return jr=function(e){return e.match(d)||[]}}();return Or=function(r){return t(r)?n(r):e(r)}}const Dr=Bt(function(){if(Ar)return kr;Ar=1;var e=function(){if(Pr)return _r;Pr=1;var e=Tr(),t=Nr(),n=Mr(),r=p();return _r=function(i){return function(o){o=r(o);var a=t(o)?n(o):void 0,l=a?a[0]:o.charAt(0),s=a?e(a,1).join(""):o.slice(1);return l[i]()+s}}}()("toUpperCase");return kr=e}());function Ir(e){return function(){return e}}const Rr=Math.cos,Br=Math.sin,zr=Math.sqrt,Lr=Math.PI,Fr=2*Lr,$r=Math.PI,Ur=2*$r,Wr=1e-6,Vr=Ur-Wr;function qr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Hr{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?qr:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qr;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,l=n-e,s=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Wr)if(Math.abs(u*l-s*c)>Wr&&i){let f=n-o,p=r-a,h=l*l+s*s,y=f*f+p*p,m=Math.sqrt(h),v=Math.sqrt(d),g=i*Math.tan(($r-Math.acos((h+d-y)/(2*m*v)))/2),b=g/v,x=g/m;Math.abs(b-1)>Wr&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*f>c*p)},${this._x1=e+x*l},${this._y1=t+x*s}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),l=n*Math.sin(r),s=e+a,c=t+l,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Wr||Math.abs(this._y1-c)>Wr)&&this._append`L${s},${c}`,n&&(d<0&&(d=d%Ur+Ur),d>Vr?this._append`A${n},${n},0,1,${u},${e-a},${t-l}A${n},${n},0,1,${u},${this._x1=s},${this._y1=c}`:d>Wr&&this._append`A${n},${n},0,${+(d>=$r)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Gr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Hr(t)}function Yr(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Xr(e){this._context=e}function Kr(e){return new Xr(e)}function Zr(e){return e[0]}function Qr(e){return e[1]}function Jr(e,t){var n=Ir(!0),r=null,i=Kr,o=null,a=Gr(l);function l(l){var s,c,u,d=(l=Yr(l)).length,f=!1;for(null==r&&(o=i(u=a())),s=0;s<=d;++s)!(s<d&&n(c=l[s],s,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,s,l),+t(c,s,l));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Zr:Ir(e),t="function"==typeof t?t:void 0===t?Qr:Ir(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:Ir(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Ir(+e),l):t},l.defined=function(e){return arguments.length?(n="function"==typeof e?e:Ir(!!e),l):n},l.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),l):i},l.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),l):r},l}function ei(e,t,n){var r=null,i=Ir(!0),o=null,a=Kr,l=null,s=Gr(c);function c(c){var u,d,f,p,h,y=(c=Yr(c)).length,m=!1,v=new Array(y),g=new Array(y);for(null==o&&(l=a(h=s())),u=0;u<=y;++u){if(!(u<y&&i(p=c[u],u,c))===m)if(m=!m)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=u-1;f>=d;--f)l.point(v[f],g[f]);l.lineEnd(),l.areaEnd()}m&&(v[u]=+e(p,u,c),g[u]=+t(p,u,c),l.point(r?+r(p,u,c):v[u],n?+n(p,u,c):g[u]))}if(h)return l=null,h+""||null}function u(){return Jr().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Zr:Ir(+e),t="function"==typeof t?t:Ir(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Qr:Ir(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Ir(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Ir(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Ir(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Ir(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Ir(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Ir(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Ir(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(l=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=l=null:l=a(o=e),c):o},c}Xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class ti{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const ni={draw(e,t){const n=zr(t/Lr);e.moveTo(n,0),e.arc(0,0,n,0,Fr)}},ri={draw(e,t){const n=zr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ii=zr(1/3),oi=2*ii,ai={draw(e,t){const n=zr(t/oi),r=n*ii;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},li={draw(e,t){const n=zr(t),r=-n/2;e.rect(r,r,n,n)}},si=Br(Lr/10)/Br(7*Lr/10),ci=Br(Fr/10)*si,ui=-Rr(Fr/10)*si,di={draw(e,t){const n=zr(.8908130915292852*t),r=ci*n,i=ui*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Fr*o/5,a=Rr(t),l=Br(t);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},fi=zr(3),pi={draw(e,t){const n=-zr(t/(3*fi));e.moveTo(0,2*n),e.lineTo(-fi*n,-n),e.lineTo(fi*n,-n),e.closePath()}},hi=-.5,yi=zr(3)/2,mi=1/zr(12),vi=3*(mi/2+1),gi={draw(e,t){const n=zr(t/vi),r=n/2,i=n*mi,o=r,a=n*mi+n,l=-o,s=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(l,s),e.lineTo(hi*r-yi*i,yi*r+hi*i),e.lineTo(hi*o-yi*a,yi*o+hi*a),e.lineTo(hi*l-yi*s,yi*l+hi*s),e.lineTo(hi*r+yi*i,hi*i-yi*r),e.lineTo(hi*o+yi*a,hi*a-yi*o),e.lineTo(hi*l+yi*s,hi*s-yi*l),e.closePath()}};function bi(){}function xi(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ji(e){this._context=e}function wi(e){this._context=e}function Oi(e){this._context=e}function Si(e){this._context=e}function _i(e){return e<0?-1:1}function Pi(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(_i(o)+_i(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function ki(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ai(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,a-l*n,o,a)}function Ci(e){this._context=e}function Ei(e){this._context=new Ti(e)}function Ti(e){this._context=e}function Ni(e){this._context=e}function Mi(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Di(e,t){this._context=e,this._t=t}function Ii(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],l=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ri(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Bi(e,t){return e[t]}function zi(e){const t=[];return t.key=e,t}function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wi.prototype={areaStart:bi,areaEnd:bi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Si.prototype={areaStart:bi,areaEnd:bi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ai(this,this._t0,ki(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ai(this,ki(this,n=Pi(this,e,t)),n);break;default:Ai(this,this._t0,n=Pi(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ei.prototype=Object.create(Ci.prototype)).point=function(e,t){Ci.prototype.point.call(this,t,e)},Ti.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Mi(e),i=Mi(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Fi=["type","size","sizeType"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){var r;return r=function(e,t){if("object"!=Li(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Li(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hi={symbolCircle:ni,symbolCross:ri,symbolDiamond:ai,symbolSquare:li,symbolStar:di,symbolTriangle:pi,symbolWye:gi},Gi=Math.PI/180,Yi=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,l=e.sizeType,s=void 0===l?"area":l,c=Wi(Wi({},qi(e,Fi)),{},{type:i,size:a,sizeType:s}),u=c.className,d=c.cx,f=c.cy,p=nr(c,!0);return d===+d&&f===+f&&a===+a?zt.createElement("path",$i({},p,{className:cn("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(Dr(e));return Hi[t]||ni}(i),n=function(e,t){let n=null,r=Gr(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Ir(e||ni),t="function"==typeof t?t:Ir(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Ir(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Ir(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Gi;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,i)),n())})):null};function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,io(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ji(e,t,n){return t=to(t),function(e,t){if(t&&("object"===Xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eo()?Reflect.construct(t,n||[],to(e).constructor):t.apply(e,n))}function eo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eo=function(){return!!e})()}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t){return(no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ro(e,t,n){return(t=io(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e){var t=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Xi(t)?t:t+""}Yi.registerSymbol=function(e,t){Hi["symbol".concat(Dr(e))]=t};var oo,ao,lo,so,co,uo,fo,po,ho,yo,mo,vo,go,bo,xo,jo,wo,Oo,So,_o,Po=32,ko=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ji(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&no(e,t)}(e,It.PureComponent),Qi(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Po/6,i=Po/3,o=e.inactive?t:e.color;if("plainline"===e.type)return zt.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Po,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return zt.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(Po,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return zt.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Po,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(zt.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete a.legendIcon,zt.cloneElement(e.legendIcon,a)}return zt.createElement(Yi,{fill:o,cx:n,cy:n,size:Po,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,l={x:0,y:0,width:Po,height:Po},s={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||o,u=cn(ro(ro({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=yn(t.value)?null:t.value;Er(!yn(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?a:t.color;return zt.createElement("li",Ki({className:u,style:s,key:"legend-item-".concat(n)},Un(e.props,t,n)),zt.createElement(cr,{width:r,height:r,viewBox:l,style:c},e.renderIcon(t)),zt.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return zt.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();function Ao(){if(ao)return oo;return ao=1,oo=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}function Co(){if(po)return fo;po=1;var e=Ao(),t=so?lo:(so=1,lo=function(e){return e!=e}),n=uo?co:(uo=1,co=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1});return fo=function(r,i,o){return i==i?n(r,i,o):e(r,t,o)}}function Eo(){if(jo)return xo;jo=1;var e=h(),t=bo?go:(bo=1,go=function(){}),n=y(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return xo=r}function To(){if(Oo)return wo;Oo=1;var e=m(),t=function(){if(yo)return ho;yo=1;var e=Co();return ho=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=vo?mo:(vo=1,mo=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}),r=v(),i=Eo(),o=y();return wo=function(a,l,s){var c=-1,u=t,d=a.length,f=!0,p=[],h=p;if(s)f=!1,u=n;else if(d>=200){var y=l?null:i(a);if(y)return o(y);f=!1,u=r,h=new e}else h=l?[]:p;e:for(;++c<d;){var m=a[c],v=l?l(m):m;if(m=s||0!==m?m:0,f&&v==v){for(var g=h.length;g--;)if(h[g]===v)continue e;l&&h.push(v),p.push(m)}else u(h,v,s)||(h!==p&&h.push(v),p.push(m))}return p}}ro(ko,"displayName","Legend"),ro(ko,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});const No=Bt(function(){if(_o)return So;_o=1;var e=g(),t=To();return So=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function Mo(e,t,n){return!0===t?No(e,n):yn(t)?No(e,t):e}function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Io=["ref"];function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vo(r.key),r)}}function Lo(e,t,n){return t=$o(t),function(e,t){if(t&&("object"===Do(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fo()?Reflect.construct(t,n||[],$o(e).constructor):t.apply(e,n))}function Fo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fo=function(){return!!e})()}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e,t,n){return(t=Vo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e){var t=function(e,t){if("object"!=Do(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Do(t)?t:t+""}function qo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ho(e){return e.value}var Go,Yo,Xo,Ko,Zo,Qo,Jo,ea,ta,na,ra,ia,oa,aa,la=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wo(t=Lo(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uo(e,t)}(e,It.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=Bo(Bo({},this.defaultProps),e.props).layout;return"vertical"===n&&Pn(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,l=r.margin,s=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((s||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:l&&l.right||0}:{left:l&&l.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:l&&l.bottom||0}:{top:l&&l.top||0}),Bo(Bo({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,l=t.payload,s=Bo(Bo({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return zt.createElement("div",{className:"recharts-legend-wrapper",style:s,ref:function(t){e.wrapperNode=t}},function(e,t){if(zt.isValidElement(e))return zt.cloneElement(e,t);if("function"==typeof e)return zt.createElement(e,t);t.ref;var n=qo(t,Io);return zt.createElement(ko,n)}(n,Bo(Bo({},this.props),{},{payload:Mo(l,a,Ho)})))}}])&&zo(t.prototype,n),r&&zo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function sa(){if(Ko)return Xo;Ko=1;var e=w(),t=function(){if(Yo)return Go;Yo=1;var e=b(),t=x(),n=j(),r=e?e.isConcatSpreadable:void 0;return Go=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return Xo=function n(r,i,o,a,l){var s=-1,c=r.length;for(o||(o=t),l||(l=[]);++s<c;){var u=r[s];i>0&&o(u)?i>1?n(u,i-1,o,a,l):e(l,u):a||(l[l.length]=u)}return l},Xo}function ca(){if(na)return ta;na=1;var e=function(){if(ea)return Jo;ea=1;var e=O();return Jo=function(t,n){if(t!==n){var r=void 0!==t,i=null===t,o=t==t,a=e(t),l=void 0!==n,s=null===n,c=n==n,u=e(n);if(!s&&!u&&!a&&t>n||a&&l&&c&&!s&&!u||i&&l&&c||!r&&c||!o)return 1;if(!i&&!a&&!u&&t<n||u&&r&&o&&!i&&!a||s&&r&&o||!l&&o||!c)return-1}return 0}}();return ta=function(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,l=o.length,s=r.length;++i<l;){var c=e(o[i],a[i]);if(c)return i>=s?c:c*("desc"==r[i]?-1:1)}return t.index-n.index}}function ua(){if(ia)return ra;ia=1;var e=P(),t=S(),n=g(),r=_(),i=Qo?Zo:(Qo=1,Zo=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),o=A(),a=ca(),l=k(),s=j();return ra=function(c,u,d){u=u.length?e(u,(function(e){return s(e)?function(n){return t(n,1===e.length?e[0]:e)}:e})):[l];var f=-1;u=e(u,o(n));var p=r(c,(function(t,n,r){return{criteria:e(u,(function(e){return e(t)})),index:++f,value:t}}));return i(p,(function(e,t){return a(e,t,d)}))}}Wo(la,"displayName","Legend"),Wo(la,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const da=Bt(function(){if(aa)return oa;aa=1;var e=sa(),t=ua(),n=C(),r=E(),i=n((function(n,i){if(null==n)return[];var o=i.length;return o>1&&r(n,i[0],i[1])?i=[]:o>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(n,e(i,1),[])}));return oa=i}());function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(e,t,n){var r;return r=function(e,t){if("object"!=fa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fa(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ba(e){return Array.isArray(e)&&kn(e[0])&&kn(e[1])?e.join(" ~ "):e}var xa=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,l=e.labelStyle,s=void 0===l?{}:l,c=e.payload,u=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,h=e.label,y=e.labelFormatter,m=e.accessibilityLayer,v=void 0!==m&&m,g=va({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=va({margin:0},s),x=!pn(h),j=x?h:"",w=cn("recharts-default-tooltip",f),O=cn("recharts-tooltip-label",p);x&&y&&null!=c&&(j=y(h,c));var S=v?{role:"status","aria-live":"assertive"}:{};return zt.createElement("div",pa({className:w,style:g},S),zt.createElement("p",{className:O,style:b},zt.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(d?da(c,d):c).map((function(e,t){if("none"===e.type)return null;var r=va({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||u||ba,o=e.value,l=e.name,s=o,d=l;if(i&&null!=s&&null!=d){var f=i(o,l,e,t,c);if(Array.isArray(f)){var p=ha(f,2);s=p[0],d=p[1]}else s=f}return zt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},kn(d)?zt.createElement("span",{className:"recharts-tooltip-item-name"},d):null,kn(d)?zt.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,zt.createElement("span",{className:"recharts-tooltip-item-value"},s),zt.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return zt.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t,n){var r;return r=function(e,t){if("object"!=ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ja(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa="recharts-tooltip-wrapper",Sa={visibility:"hidden"};function _a(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return cn(Oa,wa(wa(wa(wa({},"".concat(Oa,"-right"),Pn(n)&&t&&Pn(t.x)&&n>=t.x),"".concat(Oa,"-left"),Pn(n)&&t&&Pn(t.x)&&n<t.x),"".concat(Oa,"-bottom"),Pn(r)&&t&&Pn(t.y)&&r>=t.y),"".concat(Oa,"-top"),Pn(r)&&t&&Pn(t.y)&&r<t.y))}function Pa(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,l=e.tooltipDimension,s=e.viewBox,c=e.viewBoxDimension;if(o&&Pn(o[r]))return o[r];var u=n[r]-l-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<s[r]?Math.max(d,s[r]):Math.max(u,s[r]):d+l>s[r]+c?Math.max(u,s[r]):Math.max(d,s[r])}function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ra(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ta(e,t,n){return t=Ma(t),function(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Na()?Reflect.construct(t,n||[],Ma(e).constructor):t.apply(e,n))}function Na(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Na=function(){return!!e})()}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t){return(Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e,t,n){return(t=Ra(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(e){var t=function(e,t){if("object"!=ka(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ka(t)?t:t+""}var Ba=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ia(t=Ta(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ia(t,"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Da(e,t)}(e,It.PureComponent),Ea(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,l=t.coordinate,s=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,f=t.reverseDirection,p=t.useTranslate3d,h=t.viewBox,y=t.wrapperStyle,m=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,l=e.reverseDirection,s=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:s.height>0&&s.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Pa({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:l,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Pa({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:l,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Sa,cssClasses:_a({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:h}),v=m.cssClasses,g=m.cssProperties,b=Ca(Ca({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&s?"visible":"hidden",position:"absolute",top:0,left:0},y);return zt.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},a)}}])}(),za=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ya(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wa(e,t,n){return t=qa(t),function(e,t){if(t&&("object"===La(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Va()?Reflect.construct(t,n||[],qa(e).constructor):t.apply(e,n))}function Va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Va=function(){return!!e})()}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ha(e,t){return(Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ga(e,t,n){return(t=Ya(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e){var t=function(e,t){if("object"!=La(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=La(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==La(t)?t:t+""}function Xa(e){return e.dataKey}var Ka=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wa(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(e,It.PureComponent),Ua(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,l=t.coordinate,s=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,f=t.payloadUniqBy,p=t.position,h=t.reverseDirection,y=t.useTranslate3d,m=t.viewBox,v=t.wrapperStyle,g=null!=d?d:[];s&&g.length&&(g=Mo(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Xa));var b=g.length>0;return zt.createElement(Ba,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:l,hasPayload:b,offset:u,position:p,reverseDirection:h,useTranslate3d:y,viewBox:m,wrapperStyle:v},function(e,t){return zt.isValidElement(e)?zt.cloneElement(e,t):"function"==typeof e?zt.createElement(e,t):zt.createElement(xa,t)}(a,$a($a({},this.props),{},{payload:g})))}}])}();function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){el(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e,t,n){var r;return r=function(e,t){if("object"!=Za(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Za(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ga(Ka,"displayName","Tooltip"),Ga(Ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!za,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rl=It.forwardRef((function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,a=void 0===o?"100%":o,l=e.height,s=void 0===l?"100%":l,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,f=e.maxHeight,p=e.children,h=e.debounce,y=void 0===h?0:h,m=e.id,v=e.className,g=e.onResize,b=e.style,x=void 0===b?{}:b,j=It.useRef(null),w=It.useRef();w.current=g,It.useImperativeHandle(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return j.current},configurable:!0})}));var O=tl(It.useState({containerWidth:i.width,containerHeight:i.height}),2),S=O[0],_=O[1],P=It.useCallback((function(e,t){_((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);It.useEffect((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;P(r,i),null===(t=w.current)||void 0===t||t.call(w,r,i)};y>0&&(e=T(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return P(r,i),t.observe(j.current),function(){t.disconnect()}}),[P,y]);var k=It.useMemo((function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;Er(_n(a)||_n(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),Er(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=_n(a)?e:a,i=_n(s)?t:s;n&&n>0&&(r?i=r/n:i&&(r=i*n),f&&i>f&&(i=f)),Er(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,a,s,u,d,n);var o=!Array.isArray(p)&&Yn(p.type).endsWith("Chart");return zt.Children.map(p,(function(e){return zt.isValidElement(e)?It.cloneElement(e,Ja({width:r,height:i},o?{style:Ja({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e}))}),[n,p,s,f,d,u,S,a]);return zt.createElement("div",{id:m?"".concat(m):void 0,className:cn("recharts-responsive-container",v),style:Ja(Ja({},x),{},{width:a,height:s,minWidth:u,minHeight:d,maxHeight:f}),ref:j},k)})),il=function(e){return null};function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sl(e,t,n){var r;return r=function(e,t){if("object"!=ol(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ol(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ol(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}il.displayName="Cell";var cl={widthCache:{},cacheCount:0},ul={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dl="recharts_measurement_span";var fl=function(e){if(null==e||za)return{width:0,height:0};var t,n=(t=ll({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t),r=JSON.stringify({text:e,copyStyle:n});if(cl.widthCache[r])return cl.widthCache[r];try{var i=document.getElementById(dl);i||((i=document.createElement("span")).setAttribute("id",dl),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ll(ll({},ul),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),l={width:a.width,height:a.height};return cl.widthCache[r]=l,++cl.cacheCount>2e3&&(cl.cacheCount=0,cl.widthCache={}),l}catch(s){return{width:0,height:0}}};function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vl(r.key),r)}}function vl(e){var t=function(e,t){if("object"!=pl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=pl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==pl(t)?t:t+""}var gl=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bl=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xl=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jl=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wl={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ol=Object.keys(wl),Sl="NaN";var _l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||xl.test(n)||(this.num=NaN,this.unit=""),Ol.includes(n)&&(this.num=function(e,t){return e*wl[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=hl(null!==(n=jl.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&ml(t.prototype,n),r&&ml(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Pl(e){if(e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var n,r=hl(null!==(n=gl.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],l=_l.parse(null!=i?i:""),s=_l.parse(null!=a?a:""),c="*"===o?l.multiply(s):l.divide(s);if(c.isNaN())return Sl;t=t.replace(gl,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=hl(null!==(u=bl.exec(t))&&void 0!==u?u:[],4),f=d[1],p=d[2],h=d[3],y=_l.parse(null!=f?f:""),m=_l.parse(null!=h?h:""),v="+"===p?y.add(m):y.subtract(m);if(v.isNaN())return Sl;t=t.replace(bl,v.toString())}return t}var kl=/\(([^()]*)\)/;function Al(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=hl(kl.exec(t),2)[1];t=t.replace(kl,Pl(n))}return t}(t),t=Pl(t)}function Cl(e){var t=function(e){try{return Al(e)}catch(t){return Sl}}(e.slice(5,-1));return t===Sl?"":t}var El=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tl=["dx","dy","angle","className","breakAll"];function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}function Ml(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rl=/[ \f\n\r\t\v\u2028\u2029]+/,Bl=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return pn(t)||(i=n?t.toString().split(""):t.toString().split(Rl)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:fl(e,r).width}})),spaceWidth:n?0:fl(" ",r).width}}catch(o){return null}},zl=function(e){return[{words:pn(e)?[]:e.toString().split(Rl)}]},Ll=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!za){var l=Bl({breakAll:o,children:r,style:i});return l?function(e,t,n,r,i){var o=e.maxLines,a=e.children,l=e.style,s=e.breakAll,c=Pn(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,l=e[e.length-1];if(l&&(null==r||i||l.width+a+n<Number(r)))l.words.push(o),l.width+=a+n;else{var s={words:[o],width:a};e.push(s)}return e}),[])},f=d(t);if(!c)return f;for(var p,h=function(e){var t=u.slice(0,e),n=Bl({breakAll:s,style:l,children:t+"…"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},y=0,m=u.length-1,v=0;y<=m&&v<=u.length-1;){var g=Math.floor((y+m)/2),b=Dl(h(g-1),2),x=b[0],j=b[1],w=Dl(h(g),1)[0];if(x||w||(y=g+1),x&&w&&(m=g-1),!x&&w){p=j;break}v++}return p||f}({breakAll:o,children:r,maxLines:a,style:i},l.wordsWithComputedWidth,l.spaceWidth,t,n):zl(r)}return zl(r)},Fl="#808080",$l=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,a=void 0===o?"1em":o,l=e.capHeight,s=void 0===l?"0.71em":l,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,f=void 0===d?"start":d,p=e.verticalAnchor,h=void 0===p?"end":p,y=e.fill,m=void 0===y?Fl:y,v=Ml(e,El),g=It.useMemo((function(){return Ll({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:u,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,u,v.style,v.width]),b=v.dx,x=v.dy,j=v.angle,w=v.className,O=v.breakAll,S=Ml(v,Tl);if(!kn(n)||!kn(i))return null;var _,P=n+(Pn(b)?b:0),k=i+(Pn(x)?x:0);switch(h){case"start":_=Cl("calc(".concat(s,")"));break;case"middle":_=Cl("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:_=Cl("calc(".concat(g.length-1," * -").concat(a,")"))}var A=[];if(u){var C=g[0].width,E=v.width;A.push("scale(".concat((Pn(E)?E/C:1)/C,")"))}return j&&A.push("rotate(".concat(j,", ").concat(P,", ").concat(k,")")),A.length&&(S.transform=A.join(" ")),zt.createElement("text",Nl({},nr(S,!0),{x:P,y:k,className:cn("recharts-text",w),textAnchor:f,fill:m.includes("url")?Fl:m}),g.map((function(e,t){var n=e.words.join(O?"":" ");return zt.createElement("tspan",{x:P,dy:0===t?_:a,key:"".concat(n,"-").concat(t)},n)})))};function Ul(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wl(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vl(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Ul,n=(t,n)=>Ul(e(t),n),r=(t,n)=>e(t)-n):(t=e===Ul||e===Wl?e:ql,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function ql(){return 0}function Hl(e){return null===e?NaN:+e}const Gl=Vl(Ul).right;Vl(Hl).center;class Yl extends Map{constructor(e,t=Kl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Xl(this,e))}has(e){return super.has(Xl(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function Xl({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kl(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Zl(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Ql=Math.sqrt(50),Jl=Math.sqrt(10),es=Math.sqrt(2);function ts(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ql?10:o>=Jl?5:o>=es?2:1;let l,s,c;return i<0?(c=Math.pow(10,-i)/a,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,i)*a,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?ts(e,t,2*n):[l,s,c]}function ns(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?ts(t,e,n):ts(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)s[c]=(o-c)/-a;else for(let c=0;c<l;++c)s[c]=(o-c)*a;else if(a<0)for(let c=0;c<l;++c)s[c]=(i+c)/-a;else for(let c=0;c<l;++c)s[c]=(i+c)*a;return s}function rs(e,t,n){return ts(e=+e,t=+t,n=+n)[2]}function is(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?rs(t,e,n):rs(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function os(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function as(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function ls(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Zl:function(e=Ul){if(e===Ul)return Zl;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,l=Math.log(o),s=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*s*(o-s)/o)*(a-o/2<0?-1:1);ls(e,t,Math.max(n,Math.floor(t-a*s/o+c)),Math.min(r,Math.floor(t+(o-a)*s/o+c)),i)}const o=e[t];let a=n,l=r;for(ss(e,n,t),i(e[r],o)>0&&ss(e,n,r);a<l;){for(ss(e,a,l),++a,--l;i(e[a],o)<0;)++a;for(;i(e[l],o)>0;)--l}0===i(e[n],o)?ss(e,n,l):(++l,ss(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ss(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function cs(e,t,n=Hl){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ds(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const fs=Symbol("implicit");function ps(){var e=new Yl,t=[],n=[],r=fs;function i(i){let o=e.get(i);if(void 0===o){if(r!==fs)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Yl;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return ps(t,n).unknown(r)},us.apply(i,arguments),i}function hs(){var e,t,n=ps().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,l=!1,s=0,c=0,u=.5;function d(){var n=r().length,d=a<o,f=d?a:o,p=d?o:a;e=(p-f)/Math.max(1,n-s+2*c),l&&(e=Math.floor(e)),f+=(p-f-e*(n-s))*u,t=e*(1-s),l&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return f+e*t}));return i(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,l=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,d()):l},n.padding=function(e){return arguments.length?(s=Math.min(1,c=+e),d()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),d()):s},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return hs(r(),[o,a]).round(l).paddingInner(s).paddingOuter(c).align(u)},us.apply(d(),arguments)}function ys(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ys(t())},e}function ms(){return ys(hs.apply(null,arguments).paddingInner(1))}function vs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bs(){}var xs=.7,js=1/xs,ws="\\s*([+-]?\\d+)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_s=/^#([0-9a-f]{3,8})$/,Ps=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),ks=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),As=new RegExp(`^rgba\\(${ws},${ws},${ws},${Os}\\)$`),Cs=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Os}\\)$`),Es=new RegExp(`^hsl\\(${Os},${Ss},${Ss}\\)$`),Ts=new RegExp(`^hsla\\(${Os},${Ss},${Ss},${Os}\\)$`),Ns={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ms(){return this.rgb().formatHex()}function Ds(){return this.rgb().formatRgb()}function Is(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_s.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Rs(t):3===n?new Ls(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Bs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ps.exec(e))?new Ls(t[1],t[2],t[3],1):(t=ks.exec(e))?new Ls(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=As.exec(e))?Bs(t[1],t[2],t[3],t[4]):(t=Cs.exec(e))?Bs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Es.exec(e))?qs(t[1],t[2]/100,t[3]/100,1):(t=Ts.exec(e))?qs(t[1],t[2]/100,t[3]/100,t[4]):Ns.hasOwnProperty(e)?Rs(Ns[e]):"transparent"===e?new Ls(NaN,NaN,NaN,0):null}function Rs(e){return new Ls(e>>16&255,e>>8&255,255&e,1)}function Bs(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ls(e,t,n,r)}function zs(e,t,n,r){return 1===arguments.length?((i=e)instanceof bs||(i=Is(i)),i?new Ls((i=i.rgb()).r,i.g,i.b,i.opacity):new Ls):new Ls(e,t,n,null==r?1:r);var i}function Ls(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Fs(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}`}function $s(){const e=Us(this.opacity);return`${1===e?"rgb(":"rgba("}${Ws(this.r)}, ${Ws(this.g)}, ${Ws(this.b)}${1===e?")":`, ${e})`}`}function Us(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ws(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vs(e){return((e=Ws(e))<16?"0":"")+e.toString(16)}function qs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gs(e,t,n,r)}function Hs(e){if(e instanceof Gs)return new Gs(e.h,e.s,e.l,e.opacity);if(e instanceof bs||(e=Is(e)),!e)return new Gs;if(e instanceof Gs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new Gs(a,l,s,e.opacity)}function Gs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ys(e){return(e=(e||0)%360)<0?e+360:e}function Xs(e){return Math.max(0,Math.min(1,e||0))}function Ks(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}vs(bs,Is,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ms,formatHex:Ms,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Hs(this).formatHsl()},formatRgb:Ds,toString:Ds}),vs(Ls,zs,gs(bs,{brighter(e){return e=null==e?js:Math.pow(js,e),new Ls(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?xs:Math.pow(xs,e),new Ls(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ls(Ws(this.r),Ws(this.g),Ws(this.b),Us(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fs,formatHex:Fs,formatHex8:function(){return`#${Vs(this.r)}${Vs(this.g)}${Vs(this.b)}${Vs(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:$s,toString:$s})),vs(Gs,(function(e,t,n,r){return 1===arguments.length?Hs(e):new Gs(e,t,n,null==r?1:r)}),gs(bs,{brighter(e){return e=null==e?js:Math.pow(js,e),new Gs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?xs:Math.pow(xs,e),new Gs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ls(Ks(e>=240?e-240:e+120,i,r),Ks(e,i,r),Ks(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Gs(Ys(this.h),Xs(this.s),Xs(this.l),Us(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Us(this.opacity);return`${1===e?"hsl(":"hsla("}${Ys(this.h)}, ${100*Xs(this.s)}%, ${100*Xs(this.l)}%${1===e?")":`, ${e})`}`}}));const Zs=e=>()=>e;function Qs(e){return 1===(e=+e)?Js:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Zs(isNaN(t)?n:t)}}function Js(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Zs(isNaN(e)?t:e)}const ec=function e(t){var n=Qs(t);function r(e,t){var r=n((e=zs(e)).r,(t=zs(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Js(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function tc(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function nc(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=cc(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function rc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ic(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oc(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=cc(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lc=new RegExp(ac.source,"g");function sc(e,t){var n,r,i,o=ac.lastIndex=lc.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=ac.exec(e))&&(r=lc.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:ic(n,r)})),o=lc.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function cc(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Zs(t):("number"===i?ic:"string"===i?(n=Is(t))?(t=n,ec):sc:t instanceof Is?ec:t instanceof Date?rc:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?nc:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?oc:ic:tc))(e,t)}function uc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dc(e){return+e}var fc=[0,1];function pc(e){return e}function hc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function yc(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=hc(i,r),o=n(a,o)):(r=hc(r,i),o=n(o,a)),function(e){return o(r(e))}}function mc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=hc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Gl(e,t,1,r)-1;return o[n](i[n](t))}}function vc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gc(){var e,t,n,r,i,o,a=fc,l=fc,s=cc,c=pc;function u(){var e,t,n,s=Math.min(a.length,l.length);return c!==pc&&(e=a[0],t=a[s-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?mc:yc,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),l,s)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(l,a.map(e),ic)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,dc),u()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=uc,u()},d.clamp=function(e){return arguments.length?(c=!!e||pc,u()):c!==pc},d.interpolate=function(e){return arguments.length?(s=e,u()):s},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function bc(){return gc()(pc,pc)}function xc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jc(e){return(e=xc(Math.abs(e)))?e[1]:NaN}var wc,Oc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(e){if(!(t=Oc.exec(e)))throw new Error("invalid format: "+e);var t;return new _c({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _c(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Pc(e,t){var n=xc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Sc.prototype=_c.prototype,_c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const kc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pc(100*e,t),r:Pc,s:function(e,t){var n=xc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(wc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xc(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ac(e){return e}var Cc,Ec,Tc,Nc=Array.prototype.map,Mc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dc(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Ac:(t=Nc.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Ac:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Nc.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Sc(e)).fill,n=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,y=e.comma,m=e.precision,v=e.trim,g=e.type;"n"===g?(y=!0,g="g"):kc[g]||(void 0===m&&(m=12),v=!0,g="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",x="$"===f?o:/[%p]/.test(g)?s:"",j=kc[g],w=/[defgprs%]/.test(g);function O(e){var i,o,s,f=b,O=x;if("c"===g)O=j(e)+O,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),f=(S?"("===d?d:c:"-"===d||"("===d?"":d)+f,O=("s"===g?Mc[8+wc/3]:"")+O+(S&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(s=e.charCodeAt(i))||s>57){O=(46===s?a+e.slice(i+1):e.slice(i))+O,e=e.slice(0,i);break}}y&&!p&&(e=r(e,1/0));var _=f.length+e.length+O.length,P=_<h?new Array(h-_+1).join(t):"";switch(y&&p&&(e=r(P+e,P.length?h-O.length:1/0),P=""),n){case"<":e=f+e+O+P;break;case"=":e=f+P+e+O;break;case"^":e=P.slice(0,_=P.length>>1)+f+e+O+P.slice(_);break;default:e=P+f+e+O}return l(e)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),O.toString=function(){return e+""},O}return{format:d,formatPrefix:function(e,t){var n=d(((e=Sc(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(jc(t)/3))),i=Math.pow(10,-r),o=Mc[8+r/3];return function(e){return n(i*e)+o}}}}function Ic(e,t,n,r){var i,o=is(e,t,n);switch((r=Sc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jc(t)/3)))-jc(Math.abs(e)))}(o,a))||(r.precision=i),Tc(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jc(t)-jc(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-jc(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Ec(r)}function Rc(e){var t=e.domain;return e.ticks=function(e){var n=t();return ns(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ic(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,l=o.length-1,s=o[a],c=o[l],u=10;for(c<s&&(i=s,s=c,c=i,i=a,a=l,l=i);u-- >0;){if((i=rs(s,c,n))===r)return o[a]=s,o[l]=c,t(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Bc(){var e=bc();return e.copy=function(){return vc(e,Bc())},us.apply(e,arguments),Rc(e)}function zc(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Lc(e){return Math.log(e)}function Fc(e){return Math.exp(e)}function $c(e){return-Math.log(-e)}function Uc(e){return-Math.exp(-e)}function Wc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vc(e){return(t,n)=>-e(-t,n)}function qc(e){const t=e(Lc,Fc),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Wc:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Vc(r),i=Vc(i),e($c,Uc)):e(Lc,Fc),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],l=t[t.length-1];const s=l<a;s&&([a,l]=[l,a]);let c,u,d=r(a),f=r(l);const p=null==e?10:+e;let h=[];if(!(o%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>l)break;h.push(u)}}else for(;d<=f;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>l)break;h.push(u)}2*h.length<p&&(h=ns(a,l,p))}else h=ns(d,f,Math.min(f-d,p)).map(i);return s?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Sc(n)).precision||(n.trim=!0),n=Ec(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(zc(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Hc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Gc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yc(e){var t=1,n=e(Hc(t),Gc(t));return n.constant=function(n){return arguments.length?e(Hc(t=+n),Gc(t)):t},Rc(n)}function Xc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zc(e){return e<0?-e*e:e*e}function Qc(e){var t=e(pc,pc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(pc,pc):.5===n?e(Kc,Zc):e(Xc(n),Xc(1/n)):n},Rc(t)}function Jc(){var e=Qc(gc());return e.copy=function(){return vc(e,Jc()).exponent(e.exponent())},us.apply(e,arguments),e}function eu(e){return Math.sign(e)*e*e}Cc=Dc({thousands:",",grouping:[3],currency:["$",""]}),Ec=Cc.format,Tc=Cc.formatPrefix;const tu=new Date,nu=new Date;function ru(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let l;do{a.push(l=new Date(+n)),t(n,o),e(n)}while(l<n&&n<r);return a},i.filter=n=>ru((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(tu.setTime(+t),nu.setTime(+r),e(tu),e(nu),Math.floor(n(tu,nu))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const iu=ru((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));iu.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ru((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):iu:null),iu.range;const ou=1e3,au=6e4,lu=36e5,su=864e5,cu=6048e5,uu=2592e6,du=31536e6,fu=ru((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*ou)}),((e,t)=>(t-e)/ou),(e=>e.getUTCSeconds()));fu.range;const pu=ru((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ou)}),((e,t)=>{e.setTime(+e+t*au)}),((e,t)=>(t-e)/au),(e=>e.getMinutes()));pu.range;const hu=ru((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*au)}),((e,t)=>(t-e)/au),(e=>e.getUTCMinutes()));hu.range;const yu=ru((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ou-e.getMinutes()*au)}),((e,t)=>{e.setTime(+e+t*lu)}),((e,t)=>(t-e)/lu),(e=>e.getHours()));yu.range;const mu=ru((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*lu)}),((e,t)=>(t-e)/lu),(e=>e.getUTCHours()));mu.range;const vu=ru((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*au)/su),(e=>e.getDate()-1));vu.range;const gu=ru((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/su),(e=>e.getUTCDate()-1));gu.range;const bu=ru((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/su),(e=>Math.floor(e/su)));function xu(e){return ru((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*au)/cu))}bu.range;const ju=xu(0),wu=xu(1),Ou=xu(2),Su=xu(3),_u=xu(4),Pu=xu(5),ku=xu(6);function Au(e){return ru((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/cu))}ju.range,wu.range,Ou.range,Su.range,_u.range,Pu.range,ku.range;const Cu=Au(0),Eu=Au(1),Tu=Au(2),Nu=Au(3),Mu=Au(4),Du=Au(5),Iu=Au(6);Cu.range,Eu.range,Tu.range,Nu.range,Mu.range,Du.range,Iu.range;const Ru=ru((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));Ru.range;const Bu=ru((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));Bu.range;const zu=ru((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));zu.every=e=>isFinite(e=Math.floor(e))&&e>0?ru((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,zu.range;const Lu=ru((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function Fu(e,t,n,r,i,o){const a=[[fu,1,ou],[fu,5,5e3],[fu,15,15e3],[fu,30,3e4],[o,1,au],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,lu],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,su],[r,2,1728e5],[n,1,cu],[t,1,uu],[t,3,7776e6],[e,1,du]];function l(t,n,r){const i=Math.abs(n-t)/r,o=Vl((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(is(t/du,n/du,r));if(0===o)return iu.every(Math.max(is(t,n,r),1));const[l,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return l.every(s)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:l(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},l]}Lu.every=e=>isFinite(e=Math.floor(e))&&e>0?ru((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,Lu.range;const[$u,Uu]=Fu(Lu,Bu,Cu,bu,mu,hu),[Wu,Vu]=Fu(zu,Ru,ju,vu,yu,pu);function qu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Yu,Xu,Ku,Zu={"-":"",_:" ",0:"0"},Qu=/^\s*\d+/,Ju=/^%/,ed=/[\\^$*+?|[\]().{}]/g;function td(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function nd(e){return e.replace(ed,"\\$&")}function rd(e){return new RegExp("^(?:"+e.map(nd).join("|")+")","i")}function id(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function od(e,t,n){var r=Qu.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ad(e,t,n){var r=Qu.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ld(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ud(e,t,n){var r=Qu.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pd(e,t,n){var r=Qu.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function hd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function md(e,t,n){var r=Qu.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function vd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bd(e,t,n){var r=Qu.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xd(e,t,n){var r=Qu.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jd(e,t,n){var r=Qu.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wd(e,t,n){var r=Ju.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Od(e,t,n){var r=Qu.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Sd(e,t,n){var r=Qu.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _d(e,t){return td(e.getDate(),t,2)}function Pd(e,t){return td(e.getHours(),t,2)}function kd(e,t){return td(e.getHours()%12||12,t,2)}function Ad(e,t){return td(1+vu.count(zu(e),e),t,3)}function Cd(e,t){return td(e.getMilliseconds(),t,3)}function Ed(e,t){return Cd(e,t)+"000"}function Td(e,t){return td(e.getMonth()+1,t,2)}function Nd(e,t){return td(e.getMinutes(),t,2)}function Md(e,t){return td(e.getSeconds(),t,2)}function Dd(e){var t=e.getDay();return 0===t?7:t}function Id(e,t){return td(ju.count(zu(e)-1,e),t,2)}function Rd(e){var t=e.getDay();return t>=4||0===t?_u(e):_u.ceil(e)}function Bd(e,t){return e=Rd(e),td(_u.count(zu(e),e)+(4===zu(e).getDay()),t,2)}function zd(e){return e.getDay()}function Ld(e,t){return td(wu.count(zu(e)-1,e),t,2)}function Fd(e,t){return td(e.getFullYear()%100,t,2)}function $d(e,t){return td((e=Rd(e)).getFullYear()%100,t,2)}function Ud(e,t){return td(e.getFullYear()%1e4,t,4)}function Wd(e,t){var n=e.getDay();return td((e=n>=4||0===n?_u(e):_u.ceil(e)).getFullYear()%1e4,t,4)}function Vd(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+td(t/60|0,"0",2)+td(t%60,"0",2)}function qd(e,t){return td(e.getUTCDate(),t,2)}function Hd(e,t){return td(e.getUTCHours(),t,2)}function Gd(e,t){return td(e.getUTCHours()%12||12,t,2)}function Yd(e,t){return td(1+gu.count(Lu(e),e),t,3)}function Xd(e,t){return td(e.getUTCMilliseconds(),t,3)}function Kd(e,t){return Xd(e,t)+"000"}function Zd(e,t){return td(e.getUTCMonth()+1,t,2)}function Qd(e,t){return td(e.getUTCMinutes(),t,2)}function Jd(e,t){return td(e.getUTCSeconds(),t,2)}function ef(e){var t=e.getUTCDay();return 0===t?7:t}function tf(e,t){return td(Cu.count(Lu(e)-1,e),t,2)}function nf(e){var t=e.getUTCDay();return t>=4||0===t?Mu(e):Mu.ceil(e)}function rf(e,t){return e=nf(e),td(Mu.count(Lu(e),e)+(4===Lu(e).getUTCDay()),t,2)}function of(e){return e.getUTCDay()}function af(e,t){return td(Eu.count(Lu(e)-1,e),t,2)}function lf(e,t){return td(e.getUTCFullYear()%100,t,2)}function sf(e,t){return td((e=nf(e)).getUTCFullYear()%100,t,2)}function cf(e,t){return td(e.getUTCFullYear()%1e4,t,4)}function uf(e,t){var n=e.getUTCDay();return td((e=n>=4||0===n?Mu(e):Mu.ceil(e)).getUTCFullYear()%1e4,t,4)}function df(){return"+0000"}function ff(){return"%"}function pf(e){return+e}function hf(e){return Math.floor(+e/1e3)}function yf(e){return new Date(e)}function mf(e){return e instanceof Date?+e:+new Date(+e)}function vf(e,t,n,r,i,o,a,l,s,c){var u=bc(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),y=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),x=c("%Y");function j(e){return(s(e)<e?p:l(e)<e?h:a(e)<e?y:o(e)<e?m:r(e)<e?i(e)<e?v:g:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,mf)):f().map(yf)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(zc(n,e)):u},u.copy=function(){return vc(u,vf(e,t,n,r,i,o,a,l,s,c))},u}function gf(){var e,t,n,r,i,o=0,a=1,l=pc,s=!1;function c(t){return null==t||isNaN(t=+t)?i:l(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,l=e(n,r),c):[l(0),l(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=u(cc),c.rangeRound=u(uc),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function bf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xf(){var e=Qc(gf());return e.copy=function(){return bf(e,xf()).exponent(e.exponent())},ds.apply(e,arguments)}function jf(){var e,t,n,r,i,o,a,l=0,s=.5,c=1,u=1,d=pc,f=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=cc);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([l,s,c]=a,e=o(l=+l),t=o(s=+s),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[l,s,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(cc),p.rangeRound=h(uc),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(l),t=a(s),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function wf(){var e=Qc(jf());return e.copy=function(){return bf(e,wf()).exponent(e.exponent())},ds.apply(e,arguments)}!function(e){Yu=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,l=e.months,s=e.shortMonths,c=rd(i),u=id(i),d=rd(o),f=id(o),p=rd(a),h=id(a),y=rd(l),m=id(l),v=rd(s),g=id(s),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:_d,e:_d,f:Ed,g:$d,G:Wd,H:Pd,I:kd,j:Ad,L:Cd,m:Td,M:Nd,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:pf,s:hf,S:Md,u:Dd,U:Id,V:Bd,w:zd,W:Ld,x:null,X:null,y:Fd,Y:Ud,Z:Vd,"%":ff},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:qd,e:qd,f:Kd,g:sf,G:uf,H:Hd,I:Gd,j:Yd,L:Xd,m:Zd,M:Qd,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:pf,s:hf,S:Jd,u:ef,U:tf,V:rf,w:of,W:af,x:null,X:null,y:lf,Y:cf,Z:df,"%":ff},j={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:yd,e:yd,f:jd,g:dd,G:ud,H:vd,I:vd,j:md,L:xd,m:hd,M:gd,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:pd,Q:Od,s:Sd,S:bd,u:ad,U:ld,V:sd,w:od,W:cd,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:dd,Y:ud,Z:fd,"%":wd};function w(e,t){return function(n){var r,i,o,a=[],l=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=Zu[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),s=l+1);return a.push(e.slice(s,l)),a.join("")}}function O(e,t){return function(n){var r,i,o=Gu(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Hu(Gu(o.y,0,1))).getUTCDay(),r=i>4||0===i?Eu.ceil(r):Eu(r),r=gu.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=qu(Gu(o.y,0,1))).getDay(),r=i>4||0===i?wu.ceil(r):wu(r),r=vu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Hu(Gu(o.y,0,1)).getUTCDay():qu(Gu(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Hu(o)):qu(o)}}function S(e,t,n,r){for(var i,o,a=0,l=t.length,s=n.length;a<l;){if(r>=s)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=j[i in Zu?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}(e),Xu=Yu.format,Yu.parse,Ku=Yu.utcFormat,Yu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hs,scaleDiverging:function e(){var t=Rc(jf()(pc));return t.copy=function(){return bf(t,e())},ds.apply(t,arguments)},scaleDivergingLog:function e(){var t=qc(jf()).domain([.1,1,10]);return t.copy=function(){return bf(t,e()).base(t.base())},ds.apply(t,arguments)},scaleDivergingPow:wf,scaleDivergingSqrt:function(){return wf.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Yc(jf());return t.copy=function(){return bf(t,e()).constant(t.constant())},ds.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,dc),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,dc):[0,1],Rc(r)},scaleImplicit:fs,scaleLinear:Bc,scaleLog:function e(){const t=qc(gc()).domain([1,10]);return t.copy=()=>vc(t,e()).base(t.base()),us.apply(t,arguments),t},scaleOrdinal:ps,scalePoint:ms,scalePow:Jc,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=cs(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[Gl(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(Ul),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},us.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function l(e){return null!=e&&e<=e?a[Gl(o,e,0,i)]:t}function s(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return l}return l.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,s()):[n,r]},l.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,s()):a.slice()},l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},l.unknown=function(e){return arguments.length?(t=e,l):l},l.thresholds=function(){return o.slice()},l.copy=function(){return e().domain([n,r]).range(a).unknown(t)},us.apply(Rc(l),arguments)},scaleRadial:function e(){var t,n=bc(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(eu(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,dc)).map(eu)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},us.apply(o,arguments),Rc(o)},scaleSequential:function e(){var t=Rc(gf()(pc));return t.copy=function(){return bf(t,e())},ds.apply(t,arguments)},scaleSequentialLog:function e(){var t=qc(gf()).domain([1,10]);return t.copy=function(){return bf(t,e()).base(t.base())},ds.apply(t,arguments)},scaleSequentialPow:xf,scaleSequentialQuantile:function e(){var t=[],n=pc;function r(e){if(null!=e&&!isNaN(e=+e))return n((Gl(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ul),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return as(e);if(t>=1)return os(e);var n,r=(n-1)*t,i=Math.floor(r),o=os(ls(e,i).subarray(0,i+1));return o+(as(e.subarray(i+1))-o)*(r-i)}}(t,r/e)))},r.copy=function(){return e(n).domain(t)},ds.apply(r,arguments)},scaleSequentialSqrt:function(){return xf.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Yc(gf());return t.copy=function(){return bf(t,e()).constant(t.constant())},ds.apply(t,arguments)},scaleSqrt:function(){return Jc.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Yc(gc());return t.copy=function(){return vc(t,e()).constant(t.constant())},us.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[Gl(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},us.apply(o,arguments)},scaleTime:function(){return us.apply(vf(Wu,Vu,zu,Ru,ju,vu,yu,pu,fu,Xu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return us.apply(vf($u,Uu,Lu,Bu,Cu,gu,mu,hu,fu,Ku).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Ic},Symbol.toStringTag,{value:"Module"}));var Sf,_f,Pf,kf,Af,Cf;function Ef(){if(_f)return Sf;_f=1;var e=O();return Sf=function(t,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],l=n(a);if(null!=l&&(void 0===s?l==l&&!e(l):r(l,s)))var s=l,c=a}return c}}function Tf(){if(kf)return Pf;return kf=1,Pf=function(e,t){return e>t}}const Nf=Bt(function(){if(Cf)return Af;Cf=1;var e=Ef(),t=Tf(),n=k();return Af=function(r){return r&&r.length?e(r,n,t):void 0}}());var Mf,Df,If,Rf;function Bf(){if(Df)return Mf;return Df=1,Mf=function(e,t){return e<t}}const zf=Bt(function(){if(Rf)return If;Rf=1;var e=Ef(),t=Bf(),n=k();return If=function(r){return r&&r.length?e(r,n,t):void 0}}());var Lf,Ff;const $f=Bt(function(){if(Ff)return Lf;Ff=1;var e=sa(),t=N();return Lf=function(n,r){return e(t(n,r),1)}}());var Uf,Wf;const Vf=Bt(function(){if(Wf)return Uf;Wf=1;var e=M();return Uf=function(t,n){return e(t,n)}}());var qf,Hf=1e9,Gf=!0,Yf="[DecimalError] ",Xf=Yf+"Invalid argument: ",Kf=Yf+"Exponent out of range: ",Zf=Math.floor,Qf=Math.pow,Jf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ep=1e7,tp=9007199254740991,np=Zf(1286742750677284.5),rp={};function ip(e,t){var n,r,i,o,a,l,s,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Gf?hp(t,d):t;if(s=e.d,c=t.d,a=e.e,i=t.e,s=s.slice(),o=a-i){for(o<0?(r=s,o=-o,l=c.length):(r=c,i=a,l=s.length),o>(l=(a=Math.ceil(d/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=s.length)-(o=c.length)<0&&(o=l,r=c,c=s,s=r),n=0;o;)n=(s[--o]=s[o]+c[o]+n)/ep|0,s[o]%=ep;for(n&&(s.unshift(n),++i),l=s.length;0==s[--l];)s.pop();return t.d=s,t.e=i,Gf?hp(t,d):t}function op(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xf+e)}function ap(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=dp(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=dp(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}rp.absoluteValue=rp.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},rp.comparedTo=rp.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},rp.decimalPlaces=rp.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},rp.dividedBy=rp.div=function(e){return lp(this,new this.constructor(e))},rp.dividedToIntegerBy=rp.idiv=function(e){var t=this.constructor;return hp(lp(this,new t(e),0,1),t.precision)},rp.equals=rp.eq=function(e){return!this.cmp(e)},rp.exponent=function(){return cp(this)},rp.greaterThan=rp.gt=function(e){return this.cmp(e)>0},rp.greaterThanOrEqualTo=rp.gte=function(e){return this.cmp(e)>=0},rp.isInteger=rp.isint=function(){return this.e>this.d.length-2},rp.isNegative=rp.isneg=function(){return this.s<0},rp.isPositive=rp.ispos=function(){return this.s>0},rp.isZero=function(){return 0===this.s},rp.lessThan=rp.lt=function(e){return this.cmp(e)<0},rp.lessThanOrEqualTo=rp.lte=function(e){return this.cmp(e)<1},rp.logarithm=rp.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(qf))throw Error(Yf+"NaN");if(n.s<1)throw Error(Yf+(n.s?"NaN":"-Infinity"));return n.eq(qf)?new r(0):(Gf=!1,t=lp(fp(n,o),fp(e,o),o),Gf=!0,hp(t,i))},rp.minus=rp.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yp(t,e):ip(t,(e.s=-e.s,e))},rp.modulo=rp.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(Yf+"NaN");return n.s?(Gf=!1,t=lp(n,e,0,1).times(e),Gf=!0,n.minus(t)):hp(new r(n),i)},rp.naturalExponential=rp.exp=function(){return sp(this)},rp.naturalLogarithm=rp.ln=function(){return fp(this)},rp.negated=rp.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},rp.plus=rp.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ip(t,e):yp(t,(e.s=-e.s,e))},rp.precision=rp.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Xf+e);if(t=cp(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},rp.squareRoot=rp.sqrt=function(){var e,t,n,r,i,o,a,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Yf+"NaN")}for(e=cp(l),Gf=!1,0==(i=Math.sqrt(+l))||i==1/0?(((t=ap(l.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zf((e+1)/2)-(e<0||e%2),r=new s(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new s(i.toString()),i=a=(n=s.precision)+3;;)if(r=(o=r).plus(lp(l,o,a+2)).times(.5),ap(o.d).slice(0,a)===(t=ap(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(hp(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if("9999"!=t)break;a+=4}return Gf=!0,hp(r,n)},rp.times=rp.mul=function(e){var t,n,r,i,o,a,l,s,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(s=f.length)<(c=p.length)&&(o=f,f=p,p=o,a=s,s=c,c=a),o=[],r=a=s+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=s+r;i>r;)l=o[i]+p[r]*f[i-r-1]+t,o[i--]=l%ep|0,t=l/ep|0;o[i]=(o[i]+t)%ep|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Gf?hp(e,d.precision):e},rp.toDecimalPlaces=rp.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(op(e,0,Hf),void 0===t?t=r.rounding:op(t,0,8),hp(n,e+cp(n)+1,t))},rp.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=mp(r,!0):(op(e,0,Hf),void 0===t?t=i.rounding:op(t,0,8),n=mp(r=hp(new i(r),e+1,t),!0,e+1)),n},rp.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?mp(i):(op(e,0,Hf),void 0===t?t=o.rounding:op(t,0,8),n=mp((r=hp(new o(i),e+cp(i)+1,t)).abs(),!1,e+cp(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},rp.toInteger=rp.toint=function(){var e=this,t=e.constructor;return hp(new t(e),cp(e)+1,t.rounding)},rp.toNumber=function(){return+this},rp.toPower=rp.pow=function(e){var t,n,r,i,o,a,l=this,s=l.constructor,c=+(e=new s(e));if(!e.s)return new s(qf);if(!(l=new s(l)).s){if(e.s<1)throw Error(Yf+"Infinity");return l}if(l.eq(qf))return l;if(r=s.precision,e.eq(qf))return hp(l,r);if(a=(t=e.e)>=(n=e.d.length-1),o=l.s,a){if((n=c<0?-c:c)<=tp){for(i=new s(qf),t=Math.ceil(r/7+4),Gf=!1;n%2&&vp((i=i.times(l)).d,t),0!==(n=Zf(n/2));)vp((l=l.times(l)).d,t);return Gf=!0,e.s<0?new s(qf).div(i):hp(i,r)}}else if(o<0)throw Error(Yf+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,Gf=!1,i=e.times(fp(l,r+12)),Gf=!0,(i=sp(i)).s=o,i},rp.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=mp(i,(n=cp(i))<=o.toExpNeg||n>=o.toExpPos):(op(e,1,Hf),void 0===t?t=o.rounding:op(t,0,8),r=mp(i=hp(new o(i),e,t),e<=(n=cp(i))||n<=o.toExpNeg,e)),r},rp.toSignificantDigits=rp.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(op(e,1,Hf),void 0===t?t=n.rounding:op(t,0,8)),hp(new n(this),e,t)},rp.toString=rp.valueOf=rp.val=rp.toJSON=rp[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cp(e),n=e.constructor;return mp(e,t<=n.toExpNeg||t>=n.toExpPos)};var lp=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%ep|0,r=n/ep|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*ep+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var l,s,c,u,d,f,p,h,y,m,v,g,b,x,j,w,O,S,_=r.constructor,P=r.s==i.s?1:-1,k=r.d,A=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Yf+"Division by zero");for(s=r.e-i.e,O=A.length,j=k.length,h=(p=new _(P)).d=[],c=0;A[c]==(k[c]||0);)++c;if(A[c]>(k[c]||0)&&--s,(g=null==o?o=_.precision:a?o+(cp(r)-cp(i))+1:o)<0)return new _(0);if(g=g/7+2|0,c=0,1==O)for(u=0,A=A[0],g++;(c<j||u)&&g--;c++)b=u*ep+(k[c]||0),h[c]=b/A|0,u=b%A|0;else{for((u=ep/(A[0]+1)|0)>1&&(A=e(A,u),k=e(k,u),O=A.length,j=k.length),x=O,m=(y=k.slice(0,O)).length;m<O;)y[m++]=0;(S=A.slice()).unshift(0),w=A[0],A[1]>=ep/2&&++w;do{u=0,(l=t(A,y,O,m))<0?(v=y[0],O!=m&&(v=v*ep+(y[1]||0)),(u=v/w|0)>1?(u>=ep&&(u=ep-1),1==(l=t(d=e(A,u),y,f=d.length,m=y.length))&&(u--,n(d,O<f?S:A,f))):(0==u&&(l=u=1),d=A.slice()),(f=d.length)<m&&d.unshift(0),n(y,d,m),-1==l&&(l=t(A,y,O,m=y.length))<1&&(u++,n(y,O<m?S:A,m)),m=y.length):0===l&&(u++,y=[0]),h[c++]=u,l&&y[0]?y[m++]=k[x]||0:(y=[k[x]],m=1)}while((x++<j||void 0!==y[0])&&g--)}return h[0]||h.shift(),p.e=s,hp(p,a?o+cp(p)+1:o)}}();function sp(e,t){var n,r,i,o,a,l=0,s=0,c=e.constructor,u=c.precision;if(cp(e)>16)throw Error(Kf+cp(e));if(!e.s)return new c(qf);for(Gf=!1,a=u,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),s+=5;for(a+=Math.log(Qf(2,s))/Math.LN10*2+5|0,n=r=i=new c(qf),c.precision=a;;){if(r=hp(r.times(e),a),n=n.times(++l),ap((o=i.plus(lp(r,n,a))).d).slice(0,a)===ap(i.d).slice(0,a)){for(;s--;)i=hp(i.times(i),a);return c.precision=u,null==t?(Gf=!0,hp(i,u)):i}i=o}}function cp(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function up(e,t,n){if(t>e.LN10.sd())throw Gf=!0,n&&(e.precision=n),Error(Yf+"LN10 precision limit exceeded");return hp(new e(e.LN10),t)}function dp(e){for(var t="";e--;)t+="0";return t}function fp(e,t){var n,r,i,o,a,l,s,c,u,d=1,f=e,p=f.d,h=f.constructor,y=h.precision;if(f.s<1)throw Error(Yf+(f.s?"NaN":"-Infinity"));if(f.eq(qf))return new h(0);if(null==t?(Gf=!1,c=y):c=t,f.eq(10))return null==t&&(Gf=!0),up(h,c);if(c+=10,h.precision=c,r=(n=ap(p)).charAt(0),o=cp(f),!(Math.abs(o)<15e14))return s=up(h,c+2,y).times(o+""),f=fp(new h(r+"."+n.slice(1)),c-10).plus(s),h.precision=y,null==t?(Gf=!0,hp(f,y)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=ap((f=f.times(e)).d)).charAt(0),d++;for(o=cp(f),r>1?(f=new h("0."+n),o++):f=new h(r+"."+n.slice(1)),l=a=f=lp(f.minus(qf),f.plus(qf),c),u=hp(f.times(f),c),i=3;;){if(a=hp(a.times(u),c),ap((s=l.plus(lp(a,new h(i),c))).d).slice(0,c)===ap(l.d).slice(0,c))return l=l.times(2),0!==o&&(l=l.plus(up(h,c+2,y).times(o+""))),l=lp(l,new h(d),c),h.precision=y,null==t?(Gf=!0,hp(l,y)):l;l=s,i+=2}}function pp(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=Zf(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Gf&&(e.e>np||e.e<-np))throw Error(Kf+n)}else e.s=0,e.e=0,e.d=[0];return e}function hp(e,t,n){var r,i,o,a,l,s,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=c/(o=Qf(10,a-i-1))%10|0,s=t<0||void 0!==d[u+1]||c%o,s=n<4?(l||s)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||s||6==n&&(r>0?i>0?c/Qf(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return s?(o=cp(e),d.length=1,t=t-o-1,d[0]=Qf(10,(7-t%7)%7),e.e=Zf(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=Qf(10,7-r),d[u]=i>0?(c/Qf(10,a-i)%Qf(10,i)|0)*o:0),s)for(;;){if(0==u){(d[0]+=o)==ep&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=ep)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(Gf&&(e.e>np||e.e<-np))throw Error(Kf+cp(e));return e}function yp(e,t){var n,r,i,o,a,l,s,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Gf?hp(t,p):t;if(s=e.d,d=t.d,r=t.e,c=e.e,s=s.slice(),a=c-r){for((u=a<0)?(n=s,a=-a,l=d.length):(n=d,r=c,l=s.length),a>(i=Math.max(Math.ceil(p/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=s.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(s[i]!=d[i]){u=s[i]<d[i];break}a=0}for(u&&(n=s,s=d,d=n,t.s=-t.s),l=s.length,i=d.length-l;i>0;--i)s[l++]=0;for(i=d.length;i>a;){if(s[--i]<d[i]){for(o=i;o&&0===s[--o];)s[o]=ep-1;--s[o],s[i]+=ep}s[i]-=d[i]}for(;0===s[--l];)s.pop();for(;0===s[0];s.shift())--r;return s[0]?(t.d=s,t.e=r,Gf?hp(t,p):t):new f(0)}function mp(e,t,n){var r,i=cp(e),o=ap(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+dp(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+dp(-i-1)+o,n&&(r=n-a)>0&&(o+=dp(r))):i>=a?(o+=dp(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+dp(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=dp(r))),e.s<0?"-"+o:o}function vp(e,t){if(e.length>t)return e.length=t,!0}function gp(e){if(!e||"object"!=typeof e)throw Error(Yf+"Object expected");var t,n,r,i=["precision",1,Hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(Zf(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Xf+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Xf+n+": "+r);this[n]=new this(r)}return this}var bp=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Xf+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):pp(t,e.toString())}if("string"!=typeof e)throw Error(Xf+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Jf.test(e))throw Error(Xf+e);pp(t,e)}if(o.prototype=rp,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=gp,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});qf=new bp(1);const xp=bp;function jp(e){return function(e){if(Array.isArray(e))return wp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Op=function(e){return e},Sp={},_p=function(e){return e===Sp},Pp=function(e){return function t(){return 0===arguments.length||1===arguments.length&&_p(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},kp=function e(t,n){return 1===t?n:Pp((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==Sp})).length;return a>=t?n.apply(void 0,i):e(t-a,Pp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return _p(e)?t.shift():e}));return n.apply(void 0,jp(o).concat(t))})))}))},Ap=function(e){return kp(e.length,e)},Cp=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Ep=Ap((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),Tp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Np=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};const Mp={rangeStep:function(e,t,n){for(var r=new xp(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new xp(e).abs().log(10).toNumber())+1},interpolateNumber:Ap((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:Ap((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:Ap((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function Dp(e){return function(e){if(Array.isArray(e))return Bp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Rp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||Rp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rp(e,t){if(e){if("string"==typeof e)return Bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bp(e,t):void 0}}function Bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zp(e){var t=Ip(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Lp(e,t,n){if(e.lte(0))return new xp(0);var r=Mp.getDigitCount(e.toNumber()),i=new xp(10).pow(r),o=e.div(i),a=1!==r?.05:.1,l=new xp(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?l:new xp(Math.ceil(l))}function Fp(e,t,n){var r=1,i=new xp(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new xp(10).pow(Mp.getDigitCount(e)-1),i=new xp(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new xp(Math.floor(e)))}else 0===e?i=new xp(Math.floor((t-1)/2)):n||(i=new xp(Math.floor(e)));var a=Math.floor((t-1)/2),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Op;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}}(Ep((function(e){return i.add(new xp(e-a).mul(r)).toNumber()})),Cp);return l(0,t)}function $p(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new xp(0),tickMin:new xp(0),tickMax:new xp(0)};var o,a=Lp(new xp(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new xp(0):(o=new xp(e).add(t).div(2)).sub(new xp(o).mod(a));var l=Math.ceil(o.sub(e).div(a).toNumber()),s=Math.ceil(new xp(t).sub(o).div(a).toNumber()),c=l+s+1;return c>n?$p(e,t,n,r,i+1):(c<n&&(s=t>0?s+(n-c):s,l=t>0?l:l+(n-c)),{step:a,tickMin:o.sub(new xp(l).mul(a)),tickMax:o.add(new xp(s).mul(a))})}var Up=Np((function(e){var t=Ip(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),l=Ip(zp([n,r]),2),s=l[0],c=l[1];if(s===-1/0||c===1/0){var u=c===1/0?[s].concat(Dp(Cp(0,i-1).map((function(){return 1/0})))):[].concat(Dp(Cp(0,i-1).map((function(){return-1/0}))),[c]);return n>r?Tp(u):u}if(s===c)return Fp(s,i,o);var d=$p(s,c,a,o),f=d.step,p=d.tickMin,h=d.tickMax,y=Mp.rangeStep(p,h.add(new xp(.1).mul(f)),f);return n>r?Tp(y):y})),Wp=Np((function(e,t){var n=Ip(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Ip(zp([r,i]),2),l=a[0],s=a[1];if(l===-1/0||s===1/0)return[r,i];if(l===s)return[l];var c=Math.max(t,2),u=Lp(new xp(s).sub(l).div(c-1),o,0),d=[].concat(Dp(Mp.rangeStep(new xp(l),new xp(s).sub(new xp(.99).mul(u)),u)),[s]);return r>i?Tp(d):d}));function Vp(e,t){throw new Error("Invariant failed")}var qp=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hp(e){return(Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp.apply(this,arguments)}function Yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zp(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rh(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qp(e,t,n){return t=eh(t),function(e,t){if(t&&("object"===Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jp()?Reflect.construct(t,n||[],eh(e).constructor):t.apply(e,n))}function Jp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jp=function(){return!!e})()}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function th(e,t){return(th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nh(e,t,n){return(t=rh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e){var t=function(e,t){if("object"!=Hp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Hp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Hp(t)?t:t+""}var ih=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qp(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}(e,zt.Component),Zp(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,l=e.xAxis,s=e.yAxis,c=Kp(e,qp),u=nr(c,!1);"x"===this.props.direction&&"number"!==l.type&&Vp();var d=o.map((function(e){var o=a(e,i),c=o.x,d=o.y,f=o.value,p=o.errorVal;if(!p)return null;var h,y,m=[];if(Array.isArray(p)){var v=Yp(p,2);h=v[0],y=v[1]}else h=y=p;if("vertical"===n){var g=l.scale,b=d+t,x=b+r,j=b-r,w=g(f-h),O=g(f+y);m.push({x1:O,y1:x,x2:O,y2:j}),m.push({x1:w,y1:b,x2:O,y2:b}),m.push({x1:w,y1:x,x2:w,y2:j})}else if("horizontal"===n){var S=s.scale,_=c+t,P=_-r,k=_+r,A=S(f-h),C=S(f+y);m.push({x1:P,y1:C,x2:k,y2:C}),m.push({x1:_,y1:A,x2:_,y2:C}),m.push({x1:P,y1:A,x2:k,y2:A})}return zt.createElement(Cr,Gp({className:"recharts-errorBar",key:"bar-".concat(m.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),m.map((function(e){return zt.createElement("line",Gp({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return zt.createElement(Cr,{className:"recharts-errorBars"},d)}}])}();function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ah(Object(n),!0).forEach((function(t){sh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sh(e,t,n){var r;return r=function(e,t){if("object"!=oh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}nh(ih,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),nh(ih,"displayName","ErrorBar");var ch=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=Jn(t,la);if(!o)return null;var a,l=la.defaultProps,s=void 0!==l?lh(lh({},l),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?lh(lh({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:s.iconType||a||"square",color:gh(t),value:o||i,payload:r}})),lh(lh(lh({},s),la.getWithHeight(o,r)),{},{payload:a,item:o})};function uh(e){return(uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dh(e){return function(e){if(Array.isArray(e))return fh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){yh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yh(e,t,n){var r;return r=function(e,t){if("object"!=uh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=uh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(e,t,n){return pn(e)||pn(t)?n:kn(t)?un(e,t,n):yn(t)?t(e):n}function vh(e,t,n,r){var i=$f(e,(function(e){return mh(e,t)}));if("number"===n){var o=i.filter((function(e){return Pn(e)||parseFloat(e)}));return o.length?[zf(o),Nf(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!pn(e)})):i).map((function(e){return kn(e)||e instanceof Date?e:""}))}var gh=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?hh(hh({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},bh=function(e,t,n,r,i){var o=Qn(t.props.children,ih).filter((function(e){return function(e,t,n){return!!pn(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=mh(t,n);if(pn(r))return e;var i=Array.isArray(r)?[zf(r),Nf(r)]:[r,r],o=a.reduce((function(e,n){var r=mh(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},xh=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&bh(e,t,o,r)||vh(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},jh=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},wh=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},Oh=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,l="scaleBand"===e.realScaleType?r.bandwidth()/2:2,s=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/l:0;return s="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*Sn(a[0]-a[1])*s:s,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+s,value:e,offset:s}})).filter((function(e){return!wn(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+s,value:e,index:t,offset:s}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+s,value:e,offset:s}})):r.domain().map((function(e,t){return{coordinate:r(e)+s,value:i?i[e]:e,index:t,offset:s}}))},Sh=new WeakMap,_h=function(e,t){if("function"!=typeof t)return e;Sh.has(e)||Sh.set(e,new WeakMap);var n=Sh.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Ph=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:hs(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:Bc(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:ms(),realScaleType:"point"}:"category"===i?{scale:hs(),realScaleType:"band"}:{scale:Bc(),realScaleType:"linear"};if(hn(r)){var l="scale".concat(Dr(r));return{scale:(Of[l]||ms)(),realScaleType:Of[l]?l:"point"}}return yn(r)?{scale:r}:{scale:ms(),realScaleType:"point"}},kh=1e-4,Ah=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-kh,o=Math.max(r[0],r[1])+kh,a=e(t[0]),l=e(t[n-1]);(a<i||a>o||l<i||l>o)&&e.domain([t[0],t[n-1]])}},Ch={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var l=wn(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Ii(e,t)}},none:Ii,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,l=0;a<n;++a)l+=e[a][r][1]||0;i[r][1]+=i[r][0]=-l/2}Ii(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var l=0,s=0,c=0;l<i;++l){for(var u=e[t[l]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,p=0;p<l;++p){var h=e[t[p]];f+=(h[a][1]||0)-(h[a-1][1]||0)}s+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,Ii(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=wn(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},Eh=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=Ch[n],o=function(){var e=Ir([]),t=Ri,n=Ii,r=Bi;function i(i){var o,a,l=Array.from(e.apply(this,arguments),zi),s=l.length,c=-1;for(const e of i)for(o=0,++c;o<s;++o)(l[o][c]=[0,+r(e,l[o].key,c,i)]).data=e;for(o=0,a=Yr(t(l));o<s;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Ir(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Ir(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Ri:"function"==typeof e?e:Ir(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Ii:e,i):n},i}().keys(r).value((function(e,t){return+mh(e,t,0)})).order(Ri).offset(i);return o(e)},Th=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,l=n||t.scale;if("auto"!==l&&"linear"!==l)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var s=e.domain();if(!s.length)return null;var c=Up(s,i,a);return e.domain([zf(c),Nf(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:Wp(u,i,a)}}return null};function Nh(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!pn(i[t.dataKey])){var l=Mn(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var s=mh(i,pn(a)?t.dataKey:a);return pn(s)?null:t.scale(s)}var Mh=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var l=mh(o,t.dataKey,t.domain[a]);return pn(l)?null:t.scale(l)-i/2+r},Dh=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[zf(t.concat([e[0]]).filter(Pn)),Nf(t.concat([e[1]]).filter(Pn))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Ih=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rh=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bh=function(e,t,n){if(yn(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Pn(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Ih.test(e[0])){var i=+Ih.exec(e[0])[1];r[0]=t[0]-i}else yn(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Pn(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Rh.test(e[1])){var o=+Rh.exec(e[1])[1];r[1]=t[1]+o}else yn(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},zh=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=da(t,(function(e){return e.coordinate})),o=1/0,a=1,l=i.length;a<l;a++){var s=i[a],c=i[a-1];o=Math.min((s.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Lh=function(e,t,n){return e&&e.length?Vf(e,un(n,"type.defaultProps.domain"))?t:e:t},Fh=function(e,t){var n=e.type.defaultProps?hh(hh({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,l=n.tooltipType,s=n.chartType,c=n.hide;return hh(hh({},nr(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:gh(e),value:mh(t,r),type:l,payload:t,chartType:s,hide:c})};function $h(e){return($h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vh(e,t,n){var r;return r=function(e,t){if("object"!=$h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$h(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gh=Math.PI/180,Yh=function(e){return 180*e/Math.PI},Xh=function(e,t,n,r){return{x:e+Math.cos(-Gh*r)*n,y:t+Math.sin(-Gh*r)*n}},Kh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Zh=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var l=(n-i)/a,s=Math.acos(l);return r>o&&(s=2*Math.PI-s),{radius:a,angle:Yh(s),angleInRadian:s}},Qh=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Jh=function(e,t){var n=e.x,r=e.y,i=Zh({x:n,y:r},t),o=i.radius,a=i.angle,l=t.innerRadius,s=t.outerRadius;if(o<l||o>s)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,f=u.endAngle,p=a;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=d}return c?Wh(Wh({},t),{},{radius:o,angle:Qh(p,t)}):null},ey=function(e){return It.isValidElement(e)||yn(e)||"boolean"==typeof e?"":e.className};function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ny=["offset"];function ry(e){return function(e){if(Array.isArray(e))return iy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ly(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ay(Object(n),!0).forEach((function(t){sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sy(e,t,n){var r;return r=function(e,t){if("object"!=ty(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ty(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ty(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}var uy=function(e,t,n){var r,i,o=e.position,a=e.viewBox,l=e.offset,s=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+p)/2,g=function(e,t){return Sn(t-e)*Math.min(Math.abs(t-e),360)}(h,y),b=g>=0?1:-1;"insideStart"===o?(r=h+b*l,i=m):"insideEnd"===o?(r=y-b*l,i=!m):"end"===o&&(r=y+b*l,i=m),i=g<=0?i:!i;var x=Xh(u,d,v,r),j=Xh(u,d,v,r+359*(i?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),O=pn(e.id)?Cn("recharts-radial-line-"):e.id;return zt.createElement("text",cy({},n,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",s)}),zt.createElement("defs",null,zt.createElement("path",{id:O,d:w})),zt.createElement("textPath",{xlinkHref:"#".concat(O)},t))};function dy(e){var t,n=e.offset,r=ly({offset:void 0===n?5:n},oy(e,ny)),i=r.viewBox,o=r.position,a=r.value,l=r.children,s=r.content,c=r.className,u=void 0===c?"":c,d=r.textBreakAll;if(!i||pn(a)&&pn(l)&&!It.isValidElement(s)&&!yn(s))return null;if(It.isValidElement(s))return It.cloneElement(s,r);if(yn(s)){if(t=It.createElement(s,r),It.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=pn(e.children)?t:e.children;return yn(n)?n(r):r}(r);var f=function(e){return"cx"in e&&Pn(e.cx)}(i),p=nr(r,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return uy(r,t,p);var h=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,l=i.innerRadius,s=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=Xh(o,a,s+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=Xh(o,a,(l+s)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,l=o.y,s=o.width,c=o.height,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",p=u>0?"start":"end",h=s>=0?1:-1,y=h*r,m=h>0?"end":"start",v=h>0?"start":"end";if("top"===i)return ly(ly({},{x:a+s/2,y:l-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(l-n.y,0),width:s}:{});if("bottom"===i)return ly(ly({},{x:a+s/2,y:l+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(l+c),0),width:s}:{});if("left"===i){var g={x:a-y,y:l+c/2,textAnchor:m,verticalAnchor:"middle"};return ly(ly({},g),n?{width:Math.max(g.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+s+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return ly(ly({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:s,height:c}:{};return"insideLeft"===i?ly({x:a+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},x):"insideRight"===i?ly({x:a+s-y,y:l+c/2,textAnchor:m,verticalAnchor:"middle"},x):"insideTop"===i?ly({x:a+s/2,y:l+d,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===i?ly({x:a+s/2,y:l+c-d,textAnchor:"middle",verticalAnchor:f},x):"insideTopLeft"===i?ly({x:a+y,y:l+d,textAnchor:v,verticalAnchor:p},x):"insideTopRight"===i?ly({x:a+s-y,y:l+d,textAnchor:m,verticalAnchor:p},x):"insideBottomLeft"===i?ly({x:a+y,y:l+c-d,textAnchor:v,verticalAnchor:f},x):"insideBottomRight"===i?ly({x:a+s-y,y:l+c-d,textAnchor:m,verticalAnchor:f},x):mn(i)&&(Pn(i.x)||_n(i.x))&&(Pn(i.y)||_n(i.y))?ly({x:a+En(i.x,s),y:l+En(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):ly({x:a+s/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return zt.createElement($l,cy({className:cn("recharts-label",u)},p,h,{breakAll:d}),t)}dy.displayName="Label";var fy,py,hy=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,s=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,p=e.left,h=e.width,y=e.height,m=e.clockWise,v=e.labelViewBox;if(v)return v;if(Pn(h)&&Pn(y)){if(Pn(u)&&Pn(d))return{x:u,y:d,width:h,height:y};if(Pn(f)&&Pn(p))return{x:f,y:p,width:h,height:y}}return Pn(u)&&Pn(d)?{x:u,y:d,width:0,height:0}:Pn(t)&&Pn(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:s||0,outerRadius:c||l||a||0,clockWise:m}:e.viewBox?e.viewBox:{}};dy.parseViewBox=hy,dy.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=hy(e),o=Qn(r,dy).map((function(e,n){return It.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return o;var a=function(e,t){return e?!0===e?zt.createElement(dy,{key:"label-implicit",viewBox:t}):kn(e)?zt.createElement(dy,{key:"label-implicit",viewBox:t,value:e}):It.isValidElement(e)?e.type===dy?It.cloneElement(e,{key:"label-implicit",viewBox:t}):zt.createElement(dy,{key:"label-implicit",content:e,viewBox:t}):yn(e)?zt.createElement(dy,{key:"label-implicit",content:e,viewBox:t}):mn(e)?zt.createElement(dy,cy({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(ry(o))};const yy=Bt(py?fy:(py=1,fy=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function my(e){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vy=["valueAccessor"],gy=["data","dataKey","clockWise","id","textBreakAll"];function by(e){return function(e){if(Array.isArray(e))return xy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(n),!0).forEach((function(t){Sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sy(e,t,n){var r;return r=function(e,t){if("object"!=my(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=my(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==my(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Py=function(e){return Array.isArray(e.value)?yy(e.value):e.value};function ky(e){var t=e.valueAccessor,n=void 0===t?Py:t,r=_y(e,vy),i=r.data,o=r.dataKey,a=r.clockWise,l=r.id,s=r.textBreakAll,c=_y(r,gy);return i&&i.length?zt.createElement(Cr,{className:"recharts-label-list"},i.map((function(e,t){var r=pn(o)?n(e,t):mh(e&&e.payload,o),i=pn(l)?{}:{id:"".concat(l,"-").concat(t)};return zt.createElement(dy,jy({},nr(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:s,viewBox:dy.parseViewBox(pn(a)?e:Oy(Oy({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))}))):null}function Ay(e){return(Ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(this,arguments)}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(n),!0).forEach((function(t){Ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t,n){var r;return r=function(e,t){if("object"!=Ay(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ay(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ay(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ky.displayName="LabelList",ky.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=Qn(e.children,ky).map((function(e,n){return It.cloneElement(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?zt.createElement(ky,{key:"labelList-implicit",data:t}):zt.isValidElement(e)||yn(e)?zt.createElement(ky,{key:"labelList-implicit",data:t,content:e}):mn(e)?zt.createElement(ky,jy({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(by(r)):r};var My=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,s=e.cornerIsExternal,c=l*(a?1:-1)+r,u=Math.asin(l/c)/Gh,d=s?i:i+o*u,f=s?i-o*u:i;return{center:Xh(t,n,c,d),circleTangency:Xh(t,n,r,d),lineTangency:Xh(t,n,c*Math.cos(u*Gh),f),theta:u}},Dy=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Sn(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),l=o+a,s=Xh(t,n,i,o),c=Xh(t,n,i,l),u="M ".concat(s.x,",").concat(s.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>l),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Xh(t,n,r,o),f=Xh(t,n,r,l);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=l),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Iy={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ry=function(e){var t=Ty(Ty({},Iy),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,s=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(o<i||c===u)return null;var f,p=cn("recharts-sector",d),h=o-i,y=En(a,h,0,!0);return f=y>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,s=e.startAngle,c=e.endAngle,u=Sn(c-s),d=My({cx:t,cy:n,radius:i,angle:s,sign:u,cornerRadius:o,cornerIsExternal:l}),f=d.circleTangency,p=d.lineTangency,h=d.theta,y=My({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:l}),m=y.circleTangency,v=y.lineTangency,g=y.theta,b=l?Math.abs(s-c):Math.abs(s-c)-h-g;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Dy({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var j=My({cx:t,cy:n,radius:r,angle:s,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),w=j.circleTangency,O=j.lineTangency,S=j.theta,_=My({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=_.circleTangency,k=_.lineTangency,A=_.theta,C=l?Math.abs(s-c):Math.abs(s-c)-S-A;if(C<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(k.x,",").concat(k.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(P.x,",").concat(P.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,h/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:c,endAngle:u}):Dy({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),zt.createElement("path",Cy({},nr(t,!0),{className:p,d:f,role:"img"}))};function By(e){return(By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(this,arguments)}function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ly(Object(n),!0).forEach((function(t){$y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $y(e,t,n){var r;return r=function(e,t){if("object"!=By(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=By(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==By(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uy,Wy,Vy,qy,Hy,Gy={curveBasisClosed:function(e){return new wi(e)},curveBasisOpen:function(e){return new Oi(e)},curveBasis:function(e){return new ji(e)},curveBumpX:function(e){return new ti(e,!0)},curveBumpY:function(e){return new ti(e,!1)},curveLinearClosed:function(e){return new Si(e)},curveLinear:Kr,curveMonotoneX:function(e){return new Ci(e)},curveMonotoneY:function(e){return new Ei(e)},curveNatural:function(e){return new Ni(e)},curveStep:function(e){return new Di(e,.5)},curveStepAfter:function(e){return new Di(e,1)},curveStepBefore:function(e){return new Di(e,0)}},Yy=function(e){return e.x===+e.x&&e.y===+e.y},Xy=function(e){return e.x},Ky=function(e){return e.y},Zy=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,l=e.layout,s=e.connectNulls,c=void 0!==s&&s,u=function(e,t){if(yn(e))return e;var n="curve".concat(Dr(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Gy[n]||Kr:Gy["".concat(n).concat("vertical"===t?"Y":"X")]}(r,l),d=c?o.filter((function(e){return Yy(e)})):o;if(Array.isArray(a)){var f=c?a.filter((function(e){return Yy(e)})):a,p=d.map((function(e,t){return Fy(Fy({},e),{},{base:f[t]})}));return(t="vertical"===l?ei().y(Ky).x1(Xy).x0((function(e){return e.base.x})):ei().x(Xy).y1(Ky).y0((function(e){return e.base.y}))).defined(Yy).curve(u),t(p)}return(t="vertical"===l&&Pn(a)?ei().y(Ky).x1(Xy).x0(a):Pn(a)?ei().x(Xy).y1(Ky).y0(a):Jr().x(Xy).y(Ky)).defined(Yy).curve(u),t(d)},Qy=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?Zy(e):r;return zt.createElement("path",zy({},nr(e,!1),$n(e),{className:cn("recharts-curve",t),d:o,ref:i}))},Jy={exports:{}};function em(){if(Wy)return Uy;Wy=1;return Uy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function tm(){if(qy)return Vy;qy=1;var e=em();function t(){}function n(){}return n.resetWarningCache=t,Vy=function(){function r(t,n,r,i,o,a){if(a!==e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function nm(){return Hy||(Hy=1,Jy.exports=tm()()),Jy.exports}const rm=Bt(nm());var im=Object.getOwnPropertyNames,om=Object.getOwnPropertySymbols,am=Object.prototype.hasOwnProperty;function lm(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function sm(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var l=e(t,n,r);return i.delete(t),i.delete(n),l}}function cm(e){return im(e).concat(om(e))}var um=Object.hasOwn||function(e,t){return am.call(e,t)};function dm(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var fm=Object.getOwnPropertyDescriptor,pm=Object.keys;function hm(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function ym(e,t){return dm(e.getTime(),t.getTime())}function mm(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vm(e,t){return e===t}function gm(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),l=e.entries(),s=0;(i=l.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var f=i.value,p=o.value;if(n.equals(f[0],p[0],s,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;s++}return!0}var bm=dm;function xm(e,t,n){var r=pm(e),i=r.length;if(pm(t).length!==i)return!1;for(;i-- >0;)if(!km(e,t,n,r[i]))return!1;return!0}function jm(e,t,n){var r,i,o,a=cm(e),l=a.length;if(cm(t).length!==l)return!1;for(;l-- >0;){if(!km(e,t,n,r=a[l]))return!1;if(i=fm(e,r),o=fm(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function wm(e,t){return dm(e.valueOf(),t.valueOf())}function Om(e,t){return e.source===t.source&&e.flags===t.flags}function Sm(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),l=e.values();(i=l.next())&&!i.done;){for(var s=t.values(),c=!1,u=0;(o=s.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function _m(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Pm(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function km(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||um(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Am=Array.isArray,Cm="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Em=Object.assign,Tm=Object.prototype.toString.call.bind(Object.prototype.toString);var Nm=Mm();function Mm(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,l=void 0!==a&&a,s=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?jm:hm,areDatesEqual:ym,areErrorsEqual:mm,areFunctionsEqual:vm,areMapsEqual:r?lm(gm,jm):gm,areNumbersEqual:bm,areObjectsEqual:r?jm:xm,arePrimitiveWrappersEqual:wm,areRegExpsEqual:Om,areSetsEqual:r?lm(Sm,jm):Sm,areTypedArraysEqual:r?jm:_m,areUrlsEqual:Pm};if(n&&(i=Em({},i,n(i))),t){var o=sm(i.areArraysEqual),a=sm(i.areMapsEqual),l=sm(i.areObjectsEqual),s=sm(i.areSetsEqual);i=Em({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:s})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,l=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var y=typeof e;if(y!==typeof p)return!1;if("object"!==y)return"number"===y?a(e,p,h):"function"===y&&i(e,p,h);var m=e.constructor;if(m!==p.constructor)return!1;if(m===Object)return l(e,p,h);if(Am(e))return t(e,p,h);if(null!=Cm&&Cm(e))return d(e,p,h);if(m===Date)return n(e,p,h);if(m===RegExp)return c(e,p,h);if(m===Map)return o(e,p,h);if(m===Set)return u(e,p,h);var v=Tm(e);return"[object Date]"===v?n(e,p,h):"[object RegExp]"===v?c(e,p,h):"[object Map]"===v?o(e,p,h):"[object Set]"===v?u(e,p,h):"[object Object]"===v?"function"!=typeof e.then&&"function"!=typeof p.then&&l(e,p,h):"[object URL]"===v?f(e,p,h):"[object Error]"===v?r(e,p,h):"[object Arguments]"===v?l(e,p,h):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&s(e,p,h)}}(s);return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var l=r(),s=l.cache,c=void 0===s?t?new WeakMap:void 0:s,u=l.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:i?i(c):(t=c,function(e,n,r,i,o,a,l){return t(e,n,l)}),strict:l})}function Dm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Im(e){return(Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rm(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zm(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Rm(r),o=i[0],a=i.slice(1);return"number"==typeof o?void Dm(n.bind(null,a),o):(n(o),void Dm(n.bind(null,a)))}"object"===Im(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Lm(e){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fm(Object(n),!0).forEach((function(t){Um(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Um(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Lm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==Lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mm({strict:!0}),Mm({circular:!0}),Mm({circular:!0,strict:!0}),Mm({createInternalComparator:function(){return dm}}),Mm({strict:!0,createInternalComparator:function(){return dm}}),Mm({circular:!0,createInternalComparator:function(){return dm}}),Mm({circular:!0,createInternalComparator:function(){return dm},strict:!0});var Wm=function(e){return e},Vm=function(e,t){return Object.keys(t).reduce((function(n,r){return $m($m({},n),{},Um({},r,e(r,t[r])))}),{})},qm=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Hm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||Ym(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gm(e){return function(e){if(Array.isArray(e))return Xm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ym(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Km=1e-4,Zm=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Qm=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Jm=function(e,t){return function(n){var r=Zm(e,t);return Qm(r,n)}},ev=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var l=t[0].split("(");if("cubic-bezier"===l[0]&&4===l[1].split(")")[0].split(",").length){var s=Hm(l[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=s[0],i=s[1],o=s[2],a=s[3]}}var c,u,d=Jm(r,o),f=Jm(i,a),p=(c=r,u=o,function(e){var t=Zm(c,u),n=[].concat(Gm(t.map((function(e,t){return e*t})).slice(1)),[0]);return Qm(n,e)}),h=function(e){for(var t,n=e>1?1:e,r=n,i=0;i<8;++i){var o=d(r)-n,a=p(r);if(Math.abs(o-n)<Km||a<Km)return f(r);r=(t=r-o/a)>1?1:t<0?0:t}return f(r)};return h.isStepper=!1,h},tv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ev(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,l=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,l=r*a/1e3+e;return Math.abs(l-t)<Km&&Math.abs(o)<Km?[t,0]:[l,o]};return l.isStepper=!0,l.dt=a,l}();default:if("cubic-bezier"===r.split("(")[0])return ev(r)}return"function"==typeof r?r:null};function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rv(e){return function(e){if(Array.isArray(e))return cv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iv(Object(n),!0).forEach((function(t){av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function av(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==nv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||sv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(e,t){if(e){if("string"==typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cv(e,t):void 0}}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uv=function(e,t,n){return e+(t-e)*n},dv=function(e){return e.from!==e.to},fv=function e(t,n,r){var i=Vm((function(e,n){if(dv(n)){var r=lv(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return ov(ov({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Vm((function(e,t){return dv(t)?ov(ov({},t),{},{velocity:uv(t.velocity,i[e].velocity,r),from:uv(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const pv=function(e,t,n,r,i){var o,a,l,s,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return ov(ov({},n),{},av({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return ov(ov({},n),{},av({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),f=-1,p=function(){return null};return p=n.isStepper?function(r){l||(l=r);var o=(r-l)/n.dt;d=fv(n,d,o),i(ov(ov(ov({},e),t),Vm((function(e,t){return t.from}),d))),l=r,Object.values(d).filter(dv).length&&(f=requestAnimationFrame(p))}:function(o){s||(s=o);var a=(o-s)/r,l=Vm((function(e,t){return uv.apply(void 0,rv(t).concat([n(a)]))}),u);if(i(ov(ov(ov({},e),t),l)),a<1)f=requestAnimationFrame(p);else{var c=Vm((function(e,t){return uv.apply(void 0,rv(t).concat([n(1)]))}),u);i(ov(ov(ov({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function hv(e){return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yv=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vv(e){return function(e){if(Array.isArray(e))return gv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bv(Object(n),!0).forEach((function(t){jv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jv(e,t,n){return(t=Ov(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wv(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ov(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ov(e){var t=function(e,t){if("object"!==hv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==hv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hv(t)?t:String(t)}function Sv(e,t){return(Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Av(e);if(t){var i=Av(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pv(this,n)}}function Pv(e,t){if(t&&("object"===hv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kv(e)}function kv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Av(e){return(Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cv=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sv(e,t)}(t,It.PureComponent);var e=_v(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,n,r)).props,a=o.isActive,l=o.attributeName,s=o.from,c=o.to,u=o.steps,d=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(kv(i)),i.changeStyle=i.changeStyle.bind(kv(i)),!a||f<=0)return i.state={style:{}},"function"==typeof d&&(i.state={style:c}),Pv(i);if(u&&u.length)i.state={style:u[0].style};else if(s){if("function"==typeof d)return i.state={style:s},Pv(i);i.state={style:l?jv({},l,s):s}}else i.state={style:{}};return i}return wv(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,l=t.from,s=this.state.style;if(r)if(n){if(!(Nm(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?l:e.to;if(this.state&&s){var d={style:i?jv({},i,u):u};(i&&s[i]!==u||!i&&s!==u)&&this.setState(d)}this.runAnimation(xv(xv({},this.props),{},{from:u,begin:0}))}}else{var f={style:i?jv({},i,a):a};this.state&&s&&(i&&s[i]!==a||!i&&s!==a)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,l=e.onAnimationEnd,s=e.onAnimationStart,c=pv(n,r,tv(o),i,this.changeStyle);this.manager.start([s,a,function(){t.stopJSAnimation=c()},i,l])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,l=o.duration,s=void 0===l?0:l;return this.manager.start([i].concat(vv(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,l=void 0===a?"ease":a,s=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,f=c||Object.keys(s);if("function"==typeof l||"spring"===l)return[].concat(vv(e),[t.runJSAnimation.bind(t,{from:d.style,to:s,duration:o,easing:l}),o]);var p=qm(f,o,l),h=xv(xv(xv({},d.style),s),{},{transition:p});return[].concat(vv(e),[h,o,u]).filter(Wm)}),[a,Math.max(s,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=zm());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,l=e.onAnimationEnd,s=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(s.length>1)this.runStepAnimation(e);else{var d=r?jv({},r,i):i,f=qm(Object.keys(d),n,o);u.start([a,t,xv(xv({},d),{},{transition:f}),n,l])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=mv(e,yv),o=It.Children.count(t),a=this.state.style;if("function"==typeof t)return t(a);if(!r||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return It.cloneElement(e,xv(xv({},i),{},{style:xv(xv({},r),a),className:o}))};return 1===o?l(It.Children.only(t)):zt.createElement("div",null,It.Children.map(t,(function(e){return l(e)})))}}]),t}();function Ev(e){return(Ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(this,arguments)}function Nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach((function(t){Rv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rv(e,t,n){var r;return r=function(e,t){if("object"!=Ev(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ev(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ev(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cv.displayName="Animate",Cv.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Cv.propTypes={from:rm.oneOfType([rm.object,rm.string]),to:rm.oneOfType([rm.object,rm.string]),attributeName:rm.string,duration:rm.number,begin:rm.number,easing:rm.oneOfType([rm.string,rm.func]),steps:rm.arrayOf(rm.shape({duration:rm.number.isRequired,style:rm.object.isRequired,easing:rm.oneOfType([rm.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rm.func]),properties:rm.arrayOf("string"),onAnimationEnd:rm.func})),children:rm.oneOfType([rm.node,rm.func]),isActive:rm.bool,canBegin:rm.bool,onAnimationEnd:rm.func,shouldReAnimate:rm.bool,onAnimationStart:rm.func,onAnimationReStart:rm.func};var Bv=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,s=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),o+="L ".concat(e+n-s*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+l*u[1])),o+="L ".concat(e+n,",").concat(t+r-l*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-s*u[2],",").concat(t+r)),o+="L ".concat(e+s*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-l*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var f=Math.min(a,i);o="M ".concat(e,",").concat(t+l*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+s*f,",").concat(t,"\n            L ").concat(e+n-s*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*f,"\n            L ").concat(e+n,",").concat(t+r-l*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-s*f,",").concat(t+r,"\n            L ").concat(e+s*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*f," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},zv=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,l=t.height;if(Math.abs(a)>0&&Math.abs(l)>0){var s=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+l),d=Math.max(o,o+l);return n>=s&&n<=c&&r>=u&&r<=d}return!1},Lv={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fv=function(e){var t=Iv(Iv({},Lv),e),n=It.useRef(),r=Nv(It.useState(-1),2),i=r[0],o=r[1];It.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,l=t.y,s=t.width,c=t.height,u=t.radius,d=t.className,f=t.animationEasing,p=t.animationDuration,h=t.animationBegin,y=t.isAnimationActive,m=t.isUpdateAnimationActive;if(a!==+a||l!==+l||s!==+s||c!==+c||0===s||0===c)return null;var v=cn("recharts-rectangle",d);return m?zt.createElement(Cv,{canBegin:i>0,from:{width:s,height:c,x:a,y:l},to:{width:s,height:c,x:a,y:l},duration:p,animationEasing:f,isActive:m},(function(e){var r=e.width,o=e.height,a=e.x,l=e.y;return zt.createElement(Cv,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:y,easing:f},zt.createElement("path",Tv({},nr(t,!0),{className:v,d:Bv(a,l,r,o,u),ref:n})))})):zt.createElement("path",Tv({},nr(t,!0),{className:v,d:Bv(a,l,s,c,u)}))},$v=["points","className","baseLinePoints","connectNulls"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(this,arguments)}function Wv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vv(e){return function(e){if(Array.isArray(e))return qv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hv=function(e){return e&&e.x===+e.x&&e.y===+e.y},Gv=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){Hv(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),Hv(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(Vv(e),Vv(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},Yv=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,o=Wv(e,$v);if(!t||!t.length)return null;var a=cn("recharts-polygon",n);if(r&&r.length){var l=o.stroke&&"none"!==o.stroke,s=function(e,t,n){var r=Gv(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(Gv(t.reverse(),n).slice(1))}(t,r,i);return zt.createElement("g",{className:a},zt.createElement("path",Uv({},nr(o,!0),{fill:"Z"===s.slice(-1)?o.fill:"none",stroke:"none",d:s})),l?zt.createElement("path",Uv({},nr(o,!0),{fill:"none",d:Gv(t,i)})):null,l?zt.createElement("path",Uv({},nr(o,!0),{fill:"none",d:Gv(r,i)})):null)}var c=Gv(t,i);return zt.createElement("path",Uv({},nr(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",className:a,d:c}))};function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}var Kv=function(e){var t=e.cx,n=e.cy,r=e.r,i=cn("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?zt.createElement("circle",Xv({},nr(e,!1),$n(e),{className:i,cx:t,cy:n,r:r})):null};function Zv(e){return(Zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qv=["x","y","top","left","width","height","className"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tg(e,t,n){var r;return r=function(e,t){if("object"!=Zv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Zv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zv(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ng(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rg,ig,og=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},ag=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,l=e.left,s=void 0===l?0:l,c=e.width,u=void 0===c?0:c,d=e.height,f=void 0===d?0:d,p=e.className,h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach((function(t){tg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:a,left:s,width:u,height:f},ng(e,Qv));return Pn(n)&&Pn(i)&&Pn(u)&&Pn(f)&&Pn(a)&&Pn(s)?zt.createElement("path",Jv({},nr(h,!0),{className:cn("recharts-cross",p),d:og(n,i,u,f,a,s)})):null};const lg=Bt(function(){if(ig)return rg;ig=1;var e=Ef(),t=Tf(),n=g();return rg=function(r,i){return r&&r.length?e(r,n(i,2),t):void 0}}());var sg,cg;const ug=Bt(function(){if(cg)return sg;cg=1;var e=Ef(),t=g(),n=Bf();return sg=function(r,i){return r&&r.length?e(r,t(i,2),n):void 0}}());var dg=["cx","cy","angle","ticks","axisLine"],fg=["ticks","tick","angle","tickFormatter","stroke"];function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){Og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sg(r.key),r)}}function bg(e,t,n){return t=jg(t),function(e,t){if(t&&("object"===pg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xg()?Reflect.construct(t,n||[],jg(e).constructor):t.apply(e,n))}function xg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xg=function(){return!!e})()}function jg(e){return(jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wg(e,t){return(wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Og(e,t,n){return(t=Sg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sg(e){var t=function(e,t){if("object"!=pg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=pg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==pg(t)?t:t+""}var _g=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bg(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement($l,hg({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return Xh(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=lg(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:ug(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=e.axisLine,a=vg(e,dg),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),s=Xh(t,n,l[0],r),c=Xh(t,n,l[1],r),u=mg(mg(mg({},nr(a,!1)),{},{fill:"none"},nr(o,!1)),{},{x1:s.x,y1:s.y,x2:c.x,y2:c.y});return zt.createElement("line",hg({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.angle,a=n.tickFormatter,l=n.stroke,s=vg(n,fg),c=this.getTickTextAnchor(),u=nr(s,!1),d=nr(i,!1),f=r.map((function(n,r){var s=t.getTickValueCoord(n),f=mg(mg(mg(mg({textAnchor:c,transform:"rotate(".concat(90-o,", ").concat(s.x,", ").concat(s.y,")")},u),{},{stroke:"none",fill:l},d),{},{index:r},s),{},{payload:n});return zt.createElement(Cr,hg({className:cn("recharts-polar-radius-axis-tick",ey(i)),key:"tick-".concat(n.coordinate)},Un(t.props,n,r)),e.renderTickItem(i,f,a?a(n.value,r):n.value))}));return zt.createElement(Cr,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?zt.createElement(Cr,{className:cn("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),dy.renderCallByParent(this.props,this.getViewBox())):null}}])&&gg(t.prototype,n),r&&gg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Pg(e){return(Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(this,arguments)}function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach((function(t){Ig(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rg(r.key),r)}}function Tg(e,t,n){return t=Mg(t),function(e,t){if(t&&("object"===Pg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ng()?Reflect.construct(t,n||[],Mg(e).constructor):t.apply(e,n))}function Ng(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ng=function(){return!!e})()}function Mg(e){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dg(e,t){return(Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ig(e,t,n){return(t=Rg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rg(e){var t=function(e,t){if("object"!=Pg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Pg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Pg(t)?t:t+""}Og(_g,"displayName","PolarRadiusAxis"),Og(_g,"axisType","radiusAxis"),Og(_g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Bg=Math.PI/180,zg=1e-5,Lg=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Tg(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement($l,kg({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,l=Xh(n,r,i,e.coordinate),s=Xh(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:l.x,y1:l.y,x2:s.x,y2:s.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*Bg);return n>zg?"outer"===t?"start":"end":n<-zg?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,o=e.axisLineType,a=Cg(Cg({},nr(this.props,!1)),{},{fill:"none"},nr(i,!1));if("circle"===o)return zt.createElement(Kv,kg({className:"recharts-polar-angle-axis-line"},a,{cx:t,cy:n,r:r}));var l=this.props.ticks.map((function(e){return Xh(t,n,r,e.coordinate)}));return zt.createElement(Yv,kg({className:"recharts-polar-angle-axis-line"},a,{points:l}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.tickLine,a=n.tickFormatter,l=n.stroke,s=nr(this.props,!1),c=nr(i,!1),u=Cg(Cg({},s),{},{fill:"none"},nr(o,!1)),d=r.map((function(n,r){var d=t.getTickLineCoord(n),f=Cg(Cg(Cg({textAnchor:t.getTickTextAnchor(n)},s),{},{stroke:"none",fill:l},c),{},{index:r,payload:n,x:d.x2,y:d.y2});return zt.createElement(Cr,kg({className:cn("recharts-polar-angle-axis-tick",ey(i)),key:"tick-".concat(n.coordinate)},Un(t.props,n,r)),o&&zt.createElement("line",kg({className:"recharts-polar-angle-axis-tick-line"},u,d)),i&&e.renderTickItem(i,f,a?a(n.value,r):n.value))}));return zt.createElement(Cr,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:zt.createElement(Cr,{className:cn("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&Eg(t.prototype,n),r&&Eg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Ig(Lg,"displayName","PolarAngleAxis"),Ig(Lg,"axisType","angleAxis"),Ig(Lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const Fg=Bt(D());var $g,Ug;const Wg=Bt(function(){if(Ug)return $g;Ug=1;var e=u(),t=d();return $g=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function Vg(e){return(Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function Hg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach((function(t){Kg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kg(e,t,n){var r;return r=function(e,t){if("object"!=Vg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vg(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zg,Qg=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Jg={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eb=function(e){var t=Xg(Xg({},Jg),e),n=It.useRef(),r=Hg(It.useState(-1),2),i=r[0],o=r[1];It.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,l=t.y,s=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,f=t.animationEasing,p=t.animationDuration,h=t.animationBegin,y=t.isUpdateAnimationActive;if(a!==+a||l!==+l||s!==+s||c!==+c||u!==+u||0===s&&0===c||0===u)return null;var m=cn("recharts-trapezoid",d);return y?zt.createElement(Cv,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:l},to:{upperWidth:s,lowerWidth:c,height:u,x:a,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var r=e.upperWidth,o=e.lowerWidth,a=e.height,l=e.x,s=e.y;return zt.createElement(Cv,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:f},zt.createElement("path",qg({},nr(t,!0),{className:m,d:Qg(l,s,r,o,a),ref:n})))})):zt.createElement("g",null,zt.createElement("path",qg({},nr(t,!0),{className:m,d:Qg(a,l,s,c,u)})))},tb=["option","shapeType","propTransformer","activeClassName","isActive"];function nb(e){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ib(Object(n),!0).forEach((function(t){ab(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ab(e,t,n){var r;return r=function(e,t){if("object"!=nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nb(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lb(e,t){return ob(ob({},t),e)}function sb(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return zt.createElement(Fv,n);case"trapezoid":return zt.createElement(eb,n);case"sector":return zt.createElement(Ry,n);case"symbols":if(function(e){return"symbols"===e}(t))return zt.createElement(Yi,n);break;default:return null}}function cb(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?lb:i,a=e.activeClassName,l=void 0===a?"recharts-active-shape":a,s=e.isActive,c=rb(e,tb);if(It.isValidElement(n))t=It.cloneElement(n,ob(ob({},c),function(e){return It.isValidElement(e)?e.props:e}(n)));else if(yn(n))t=n(c);else if(Fg(n)&&!Wg(n)){var u=o(n,c);t=zt.createElement(sb,{shapeType:r,elementProps:u})}else{var d=c;t=zt.createElement(sb,{shapeType:r,elementProps:d})}return s?zt.createElement(Cr,{className:l},t):t}function ub(e,t){return null!=t&&"trapezoids"in e.props}function db(e,t){return null!=t&&"sectors"in e.props}function fb(e,t){return null!=t&&"points"in e.props}function pb(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function hb(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function yb(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function mb(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return ub(e,t)?n="trapezoids":db(e,t)?n="sectors":fb(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return ub(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:db(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:fb(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=Vf(o,e),l=n.props[i].filter((function(e){var r=function(e,t){var n;return ub(e,t)?n=pb:db(e,t)?n=hb:fb(e,t)&&(n=yb),n}(n,t);return r(e,t)})),s=n.props[i].indexOf(l[l.length-1]);return a&&r===s}));return r.indexOf(a[a.length-1])}function vb(e){return(vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(this,arguments)}function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bb(Object(n),!0).forEach((function(t){Pb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kb(r.key),r)}}function wb(e,t,n){return t=Sb(t),function(e,t){if(t&&("object"===vb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ob()?Reflect.construct(t,n||[],Sb(e).constructor):t.apply(e,n))}function Ob(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ob=function(){return!!e})()}function Sb(e){return(Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _b(e,t){return(_b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pb(e,t,n){return(t=kb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kb(e){var t=function(e,t){if("object"!=vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=vb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vb(t)?t:t+""}var Ab,Cb,Eb,Tb,Nb,Mb,Db,Ib,Rb=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pb(n=wb(this,e,[t]),"pieRef",null),Pb(n,"sectorRefs",[]),Pb(n,"id",Cn("recharts-pie-")),Pb(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yn(e)&&e()})),Pb(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yn(e)&&e()})),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(zt.isValidElement(e))return zt.cloneElement(e,t);if(yn(e))return e(t);var r=cn("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return zt.createElement(Qy,gb({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(zt.isValidElement(e))return zt.cloneElement(e,t);var r=n;if(yn(e)&&(r=e(t),zt.isValidElement(r)))return r;var i=cn("recharts-pie-label-text","boolean"==typeof e||yn(e)?"":e.className);return zt.createElement($l,gb({},t,{alignmentBaseline:"middle",className:i}),r)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,o=n.dataKey,a=n.valueKey,l=nr(this.props,!1),s=nr(r,!1),c=nr(i,!1),u=r&&r.offsetRadius||20,d=t.map((function(t,n){var d=(t.startAngle+t.endAngle)/2,f=Xh(t.cx,t.cy,t.outerRadius+u,d),p=xb(xb(xb(xb({},l),t),{},{stroke:"none"},s),{},{index:n,textAnchor:e.getTextAnchor(f.x,t.cx)},f),h=xb(xb(xb(xb({},l),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[Xh(t.cx,t.cy,t.outerRadius,d),f]}),y=o;return pn(o)&&pn(a)?y="value":pn(o)&&(y=a),zt.createElement(Cr,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},i&&e.renderLabelLineItem(i,h,"line"),e.renderLabelItem(r,p,mh(t,y)))}));return zt.createElement(Cr,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map((function(n,a){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(a),s=o&&t.hasActiveIndex()?o:null,c=l?r:s,u=xb(xb({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return zt.createElement(Cr,gb({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Un(t.props,n,a),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(a)}),zt.createElement(cb,gb({option:c,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,a=t.animationEasing,l=t.animationId,s=this.state,c=s.prevSectors,u=s.prevIsAnimationActive;return zt.createElement(Cv,{begin:i,duration:o,isActive:r,easing:a,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,i=[],o=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=c&&c[t],a=t>0?un(e,"paddingAngle",0):0;if(n){var l=Nn(n.endAngle-n.startAngle,e.endAngle-e.startAngle),s=xb(xb({},e),{},{startAngle:o+a,endAngle:o+l(r)+a});i.push(s),o=s.endAngle}else{var u=e.endAngle,d=e.startAngle,f=Nn(0,u-d)(r),p=xb(xb({},e),{},{startAngle:o+a,endAngle:o+f+a});i.push(p),o=p.endAngle}})),zt.createElement(Cr,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&Vf(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,o=t.label,a=t.cx,l=t.cy,s=t.innerRadius,c=t.outerRadius,u=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!Pn(a)||!Pn(l)||!Pn(s)||!Pn(c))return null;var f=cn("recharts-pie",i);return zt.createElement(Cr,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(r),dy.renderCallByParent(this.props,null,!1),(!u||d)&&ky.renderCallByParent(this.props,r,!1))}}])&&jb(t.prototype,n),r&&jb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Bb(){if(Tb)return Eb;Tb=1;var e=I(),t=1/0;return Eb=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function zb(){if(Mb)return Nb;Mb=1;var e=function(){if(Cb)return Ab;Cb=1;var e=Math.ceil,t=Math.max;return Ab=function(n,r,i,o){for(var a=-1,l=t(e((r-n)/(i||1)),0),s=Array(l);l--;)s[o?l:++a]=n,n+=i;return s}}(),t=E(),n=Bb();return Nb=function(r){return function(i,o,a){return a&&"number"!=typeof a&&t(i,o,a)&&(o=a=void 0),i=n(i),void 0===o?(o=i,i=0):o=n(o),a=void 0===a?i<o?1:-1:n(a),e(i,o,a,r)}}}Zg=Rb,Pb(Rb,"displayName","Pie"),Pb(Rb,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!za,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Pb(Rb,"parseDeltaAngle",(function(e,t){return Sn(t-e)*Math.min(Math.abs(t-e),360)})),Pb(Rb,"getRealPieData",(function(e){var t=e.data,n=e.children,r=nr(e,!1),i=Qn(n,il);return t&&t.length?t.map((function(e,t){return xb(xb(xb({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return xb(xb({},r),e.props)})):[]})),Pb(Rb,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=Kh(i,o);return{cx:r+En(e.cx,i,i/2),cy:n+En(e.cy,o,o/2),innerRadius:En(e.innerRadius,a,0),outerRadius:En(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}})),Pb(Rb,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?xb(xb({},t.type.defaultProps),t.props):t.props,i=Zg.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,l=r.endAngle,s=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),h=Zg.parseCoordinateOfPie(r,n),y=Zg.parseDeltaAngle(a,l),m=Math.abs(y),v=c;pn(c)&&pn(d)?(Er(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):pn(c)&&(Er(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=d);var g,b,x=i.filter((function(e){return 0!==mh(e,v,0)})).length,j=m-x*p-(m>=360?x:x-1)*s,w=i.reduce((function(e,t){var n=mh(t,v,0);return e+(Pn(n)?n:0)}),0);w>0&&(g=i.map((function(e,t){var n,r=mh(e,v,0),i=mh(e,u,t),l=(Pn(r)?r:0)/w,c=(n=t?b.endAngle+Sn(y)*s*(0!==r?1:0):a)+Sn(y)*((0!==r?p:0)+l*j),d=(n+c)/2,m=(h.innerRadius+h.outerRadius)/2,g=[{name:i,value:r,payload:e,dataKey:v,type:f}],x=Xh(h.cx,h.cy,m,d);return b=xb(xb(xb({percent:l,cornerRadius:o,name:i,tooltipPayload:g,midAngle:d,middleRadius:m,tooltipPosition:x},e),h),{},{value:mh(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:Sn(y)*s})})));return xb(xb({},h),{},{sectors:g,data:i})}));const Lb=Bt(function(){if(Ib)return Db;Ib=1;var e=zb()();return Db=e}());function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(n),!0).forEach((function(t){Wb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wb(e,t,n){var r;return r=function(e,t){if("object"!=Fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fb(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vb=["Webkit","Moz","O","ms"];function qb(e){return(qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(this,arguments)}function Gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gb(Object(n),!0).forEach((function(t){ex(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tx(r.key),r)}}function Kb(e,t,n){return t=Qb(t),function(e,t){if(t&&("object"===qb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zb()?Reflect.construct(t,n||[],Qb(e).constructor):t.apply(e,n))}function Zb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zb=function(){return!!e})()}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jb(e,t){return(Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ex(e,t,n){return(t=tx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tx(e){var t=function(e,t){if("object"!=qb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==qb(t)?t:t+""}var nx,rx,ix,ox,ax=function(e){return e.changedTouches&&!!e.changedTouches.length},lx=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ex(n=Kb(this,e,[t]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),ex(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),ex(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),ex(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),ex(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),ex(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),ex(n,"handleSlideDragStart",(function(e){var t=ax(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jb(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return zt.createElement(zt.Fragment,null,zt.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),zt.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),zt.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return zt.isValidElement(t)?zt.cloneElement(t,n):yn(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,l=e.startIndex,s=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Yb({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,s=ms().domain(Lb(0,l)).range([i,i+o-a]),c=s.domain().map((function(e){return s(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:s(n),endX:s(r),scale:s,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:l,endIndex:s}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,l=o.data.length-1,s=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,s),d=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===l?l:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=mh(n[e],i,e);return yn(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,l=o.width,s=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,f=e.pageX-n;f>0?f=Math.min(f,a+l-s-i,a+l-s-r):f<0&&(f=Math.max(f,a-r,a-i));var p=this.getIndex({startX:r+f,endX:i+f});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:r+f,endX:i+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=ax(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],l=this.props,s=l.x,c=l.width,u=l.travellerWidth,d=l.onChange,f=l.gap,p=l.data,h={startX:this.state.startX,endX:this.state.endX},y=e.pageX-n;y>0?y=Math.min(y,s+c-u-a):y<0&&(y=Math.max(y,s-a)),h[r]=a+y;var m=this.getIndex(h),v=m.startIndex,g=m.endIndex;this.setState(ex(ex({},r,a+y),"brushMoveStartX",e.pageX),(function(){var e;d&&(e=p.length-1,("startX"===r&&(i>o?v%f===0:g%f===0)||i<o&&g===e||"endX"===r&&(i>o?g%f===0:v%f===0)||i>o&&g===e)&&d(m))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,l=this.state[t],s=i.indexOf(l);if(-1!==s){var c=s+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(ex({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return zt.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,a=e.children,l=e.padding,s=It.Children.only(a);return s?zt.cloneElement(s,{x:t,y:n,width:r,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,l=a.y,s=a.travellerWidth,c=a.height,u=a.traveller,d=a.ariaLabel,f=a.data,p=a.startIndex,h=a.endIndex,y=Math.max(t,this.props.x),m=Yb(Yb({},nr(this.props,!1)),{},{x:y,y:l,width:s,height:c}),v=d||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=f[h])||void 0===i?void 0:i.name);return zt.createElement(Cr,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,m))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,l=Math.min(e,t)+a,s=Math.max(Math.abs(t-e)-a,0);return zt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:r,width:s,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,l=this.state,s=l.startX,c=l.endX,u={pointerEvents:"none",fill:a};return zt.createElement(Cr,{className:"recharts-brush-texts"},zt.createElement($l,Hb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(s,c)-5,y:r+i/2},u),this.getTextOfTick(t)),zt.createElement($l,Hb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(s,c)+o+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,l=e.height,s=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,f=c.isTextActive,p=c.isSlideMoving,h=c.isTravellerMoving,y=c.isTravellerFocused;if(!t||!t.length||!Pn(i)||!Pn(o)||!Pn(a)||!Pn(l)||a<=0||l<=0)return null;var m,v,g,b,x=cn("recharts-brush",n),j=1===zt.Children.count(r),w=(v="none",g=(m="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(b=Vb.reduce((function(e,t){return Ub(Ub({},e),{},Wb({},t+g,v))}),{}))[m]=v,b);return zt.createElement(Cr,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||h||y||s)&&this.renderText())}}])&&Xb(t.prototype,n),r&&Xb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();ex(lx,"displayName","Brush"),ex(lx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const sx=Bt(function(){if(ox)return ix;ox=1;var e=B(),t=g(),n=function(){if(rx)return nx;rx=1;var e=R();return nx=function(t,n){var r;return e(t,(function(e,t,i){return!(r=n(e,t,i))})),!!r}}(),r=j(),i=E();return ix=function(o,a,l){var s=r(o)?e:n;return l&&i(o,a,l)&&(a=void 0),s(o,t(a,3))}}());var cx,ux,dx=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const fx=Bt(function(){if(ux)return cx;ux=1;var e=z(),t=L(),n=g();return cx=function(r,i){var o={};return i=n(i,3),t(r,(function(t,n,r){e(o,n,i(t,n,r))})),o}}());var px,hx,yx,mx,vx,gx;const bx=Bt(function(){if(gx)return vx;gx=1;var e=hx?px:(hx=1,px=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(mx)return yx;mx=1;var e=R();return yx=function(t,n){var r=!0;return e(t,(function(e,t,i){return r=!!n(e,t,i)})),r}}(),n=g(),r=j(),i=E();return vx=function(o,a,l){var s=r(o)?e:t;return l&&i(o,a,l)&&(a=void 0),s(o,n(a,3))}}());var xx=["x","y"];function jx(e){return(jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(this,arguments)}function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ox(Object(n),!0).forEach((function(t){_x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _x(e,t,n){var r;return r=function(e,t){if("object"!=jx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=jx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jx(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Px(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kx(e,t){var n=e.x,r=e.y,i=Px(e,xx),o="".concat(n),a=parseInt(o,10),l="".concat(r),s=parseInt(l,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Sx(Sx(Sx(Sx(Sx({},t),i),a?{x:a}:{}),s?{y:s}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Ax(e){return zt.createElement(cb,wx({shapeType:"rectangle",propTransformer:kx,activeClassName:"recharts-active-bar"},e))}var Cx,Ex=["value","background"];function Tx(e){return(Tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function Dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dx(Object(n),!0).forEach((function(t){$x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ux(r.key),r)}}function Bx(e,t,n){return t=Lx(t),function(e,t){if(t&&("object"===Tx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zx()?Reflect.construct(t,n||[],Lx(e).constructor):t.apply(e,n))}function zx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zx=function(){return!!e})()}function Lx(e){return(Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fx(e,t){return(Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $x(e,t,n){return(t=Ux(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ux(e){var t=function(e,t){if("object"!=Tx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Tx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Tx(t)?t:t+""}var Wx=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $x(t=Bx(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),$x(t,"id",Cn("recharts-bar-")),$x(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),$x(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,l=nr(this.props,!1);return e&&e.map((function(e,n){var s=n===o,c=s?a:r,u=Ix(Ix(Ix({},l),e),{},{isActive:s,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return zt.createElement(Cr,Mx({className:"recharts-bar-rectangle"},Un(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),zt.createElement(Ax,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,l=t.animationEasing,s=t.animationId,c=this.state.prevData;return zt.createElement(Cv,{begin:o,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(s),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,o=n.map((function(e,t){var n=c&&c[t];if(n){var o=Nn(n.x,e.x),a=Nn(n.y,e.y),l=Nn(n.width,e.width),s=Nn(n.height,e.height);return Ix(Ix({},e),{},{x:o(i),y:a(i),width:l(i),height:s(i)})}if("horizontal"===r){var u=Nn(0,e.height)(i);return Ix(Ix({},e),{},{y:e.y+e.height-u,height:u})}var d=Nn(0,e.width)(i);return Ix(Ix({},e),{},{width:d})}));return zt.createElement(Cr,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Vf(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=nr(this.props.background,!1);return n.map((function(t,n){t.value;var a=t.background,l=Nx(t,Ex);if(!a)return null;var s=Ix(Ix(Ix(Ix(Ix({},l),{},{fill:"#eee"},a),o),Un(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return zt.createElement(Ax,Mx({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},s))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,l=Qn(n.children,ih);if(!l)return null;var s="vertical"===a?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:mh(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return zt.createElement(Cr,u,l.map((function(e){return zt.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:s,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,l=e.top,s=e.width,c=e.height,u=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,h=cn("recharts-bar",r),y=i&&i.allowDataOverflow,m=o&&o.allowDataOverflow,v=y||m,g=pn(f)?this.id:f;return zt.createElement(Cr,{className:h},y||m?zt.createElement("defs",null,zt.createElement("clipPath",{id:"clipPath-".concat(g)},zt.createElement("rect",{x:y?a:a-s/2,y:m?l:l-c/2,width:y?s:2*s,height:m?c:2*c}))):null,zt.createElement(Cr,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(g,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,g),(!u||p)&&ky.renderCallByParent(this.props,n))}}])&&Rx(t.prototype,n),r&&Rx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Vx(e){return(Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xx(r.key),r)}}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hx(Object(n),!0).forEach((function(t){Yx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yx(e,t,n){return(t=Xx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xx(e){var t=function(e,t){if("object"!=Vx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Vx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vx(t)?t:t+""}Cx=Wx,$x(Wx,"displayName","Bar"),$x(Wx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!za,animationBegin:0,animationDuration:400,animationEasing:"ease"}),$x(Wx,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,l=e.xAxisTicks,s=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,y=n.type.defaultProps,m=void 0!==y?Ix(Ix({},y),n.props):n.props,v=m.dataKey,g=m.children,b=m.minPointSize,x="horizontal"===h?a:o,j=c?x.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),O=Qn(g,il),S=d.map((function(e,t){var r,d,f,y,m,g;c?r=function(e,t){if(!t||2!==t.length||!Pn(t[0])||!Pn(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Pn(e[0])||e[0]<n)&&(i[0]=n),(!Pn(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],j):(r=mh(e,v),Array.isArray(r)||(r=[w,r]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i="number"==typeof n;return i?e(n,r):(i||Vp(),t)}}(b,Cx.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var S,_=[a.scale(r[0]),a.scale(r[1])],P=_[0],k=_[1];d=Mh({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),f=null!==(S=null!=k?k:P)&&void 0!==S?S:void 0,y=p.size;var A=P-k;if(m=Number.isNaN(A)?0:A,g={x:d,y:a.y,width:y,height:a.height},Math.abs(x)>0&&Math.abs(m)<Math.abs(x)){var C=Sn(m||x)*(Math.abs(x)-Math.abs(m));f-=C,m+=C}}else{var E=[o.scale(r[0]),o.scale(r[1])],T=E[0],N=E[1];if(d=T,f=Mh({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),y=N-T,m=p.size,g={x:o.x,y:f,width:o.width,height:m},Math.abs(x)>0&&Math.abs(y)<Math.abs(x))y+=Sn(y||x)*(Math.abs(x)-Math.abs(y))}return Ix(Ix(Ix({},e),{},{x:d,y:f,width:y,height:m,value:c?r:r[1],payload:e,background:g},O&&O[t]&&O[t].props),{},{tooltipPayload:[Fh(n,e)],tooltipPosition:{x:d+y/2,y:f+m/2}})}));return Ix({data:S,layout:h},f)}));var Kx=function(e,t,n,r,i){var o=e.width,a=e.height,l=e.layout,s=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!Jn(s,Wx);return c.reduce((function(o,a){var s,c,f,p,h,y=t[a],m=y.orientation,v=y.domain,g=y.padding,b=void 0===g?{}:g,x=y.mirror,j=y.reversed,w="".concat(m).concat(x?"Mirror":"");if("number"===y.type&&("gap"===y.padding||"no-gap"===y.padding)){var O=v[1]-v[0],S=1/0,_=y.categoricalDomain.sort(Dn);if(_.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(_[t-1]||0),S))})),Number.isFinite(S)){var P=S/O,k="vertical"===y.layout?n.height:n.width;if("gap"===y.padding&&(s=P*k/2),"no-gap"===y.padding){var A=En(e.barCategoryGap,P*k),C=P*k/2;s=C-A-(C-A)/k*A}}}c="xAxis"===r?[n.left+(b.left||0)+(s||0),n.left+n.width-(b.right||0)-(s||0)]:"yAxis"===r?"horizontal"===l?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(s||0),n.top+n.height-(b.bottom||0)-(s||0)]:y.range,j&&(c=[c[1],c[0]]);var E=Ph(y,i,d),T=E.scale,N=E.realScaleType;T.domain(v).range(c),Ah(T);var M=Th(T,Gx(Gx({},y),{},{realScaleType:N}));"xAxis"===r?(h="top"===m&&!x||"bottom"===m&&x,f=n.left,p=u[w]-h*y.height):"yAxis"===r&&(h="left"===m&&!x||"right"===m&&x,f=u[w]-h*y.width,p=n.top);var D=Gx(Gx(Gx({},y),M),{},{realScaleType:N,x:f,y:p,scale:T,width:"xAxis"===r?n.width:y.width,height:"yAxis"===r?n.height:y.height});return D.bandSize=zh(D,M),y.hide||"xAxis"!==r?y.hide||(u[w]+=(h?-1:1)*D.width):u[w]+=(h?-1:1)*D.height,Gx(Gx({},o),{},Yx({},a,D))}),{})},Zx=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Qx=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&qx(t.prototype,n),r&&qx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Yx(Qx,"EPS",1e-4);var Jx=function(e){var t=Object.keys(e).reduce((function(t,n){return Gx(Gx({},t),{},Yx({},n,Qx.create(e[n])))}),{});return Gx(Gx({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return fx(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return bx(e,(function(e,n){return t[n].isInRange(e)}))}})};var ej,tj,nj,rj,ij,oj,aj,lj;function sj(){if(oj)return ij;oj=1;var e=Ao(),t=g(),n=function(){if(rj)return nj;rj=1;var e=Bb();return nj=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return ij=function(i,o,a){var l=null==i?0:i.length;if(!l)return-1;var s=null==a?0:n(a);return s<0&&(s=r(l+s,0)),e(i,t(o,3),s)}}const cj=Bt(function(){if(lj)return aj;lj=1;var e=function(){if(tj)return ej;tj=1;var e=g(),t=F(),n=$();return ej=function(r){return function(i,o,a){var l=Object(i);if(!t(i)){var s=e(o,3);i=n(i),o=function(e){return s(l[e],e,l)}}var c=r(i,o,a);return c>-1?l[s?i[c]:c]:void 0}}}()(sj());return aj=e}());var uj=Bt(U())((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),dj=It.createContext(void 0),fj=It.createContext(void 0),pj=It.createContext(void 0),hj=It.createContext({}),yj=It.createContext(void 0),mj=It.createContext(0),vj=It.createContext(0),gj=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,l=e.width,s=e.height,c=uj(i);return zt.createElement(dj.Provider,{value:n},zt.createElement(fj.Provider,{value:r},zt.createElement(hj.Provider,{value:i},zt.createElement(pj.Provider,{value:c},zt.createElement(yj.Provider,{value:o},zt.createElement(mj.Provider,{value:s},zt.createElement(vj.Provider,{value:l},a)))))))},bj=function(e){var t=It.useContext(dj);null==t&&Vp();var n=t[e];return null==n&&Vp(),n},xj=function(e){var t=It.useContext(fj);null==t&&Vp();var n=t[e];return null==n&&Vp(),n},jj=function(){return It.useContext(vj)},wj=function(){return It.useContext(mj)};function Oj(e){return(Oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _j(e,t,n){return t=kj(t),function(e,t){if(t&&("object"===Oj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pj()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function Pj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pj=function(){return!!e})()}function kj(e){return(kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aj(e,t){return(Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(n),!0).forEach((function(t){Tj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tj(e,t,n){return(t=Nj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nj(e){var t=function(e,t){if("object"!=Oj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Oj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Oj(t)?t:t+""}function Mj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ij.apply(this,arguments)}function Rj(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,l=e.className,s=e.alwaysShow,c=It.useContext(yj),u=bj(i),d=xj(o),f=It.useContext(pj);if(!c||!f)return null;Er(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,l,s){var c=i.x,u=i.y,d=i.width,f=i.height;if(n){var p=s.y,h=e.y.apply(p,{position:o});if(dx(s,"discard")&&!e.y.isInRange(h))return null;var y=[{x:c+d,y:h},{x:c,y:h}];return"left"===l?y.reverse():y}if(t){var m=s.x,v=e.x.apply(m,{position:o});if(dx(s,"discard")&&!e.x.isInRange(v))return null;var g=[{x:v,y:u+f},{x:v,y:u}];return"top"===a?g.reverse():g}if(r){var b=s.segment.map((function(t){return e.apply(t,{position:o})}));return dx(s,"discard")&&sx(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Jx({x:u.scale,y:d.scale}),kn(t),kn(n),r&&2===r.length,f,e.position,u.orientation,d.orientation,e);if(!p)return null;var h=Mj(p,2),y=h[0],m=y.x,v=y.y,g=h[1],b=g.x,x=g.y,j=Ej(Ej({clipPath:dx(e,"hidden")?"url(#".concat(c,")"):void 0},nr(e,!0)),{},{x1:m,y1:v,x2:b,y2:x});return zt.createElement(Cr,{className:cn("recharts-reference-line",l)},function(e,t){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement("line",Ij({},t,{className:"recharts-reference-line-line"}))}(a,j),dy.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Zx({x:t,y:n},{x:r,y:i})}({x1:m,y1:v,x2:b,y2:x})))}var Bj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_j(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}(e,zt.Component),Sj(e,[{key:"render",value:function(){return zt.createElement(Rj,this.props)}}])}();function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zj.apply(this,arguments)}function Lj(e){return(Lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fj(Object(n),!0).forEach((function(t){Gj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wj(e,t,n){return t=qj(t),function(e,t){if(t&&("object"===Lj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vj()?Reflect.construct(t,n||[],qj(e).constructor):t.apply(e,n))}function Vj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vj=function(){return!!e})()}function qj(e){return(qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hj(e,t){return(Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gj(e,t,n){return(t=Yj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yj(e){var t=function(e,t){if("object"!=Lj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Lj(t)?t:t+""}Tj(Bj,"displayName","ReferenceLine"),Tj(Bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Xj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hj(e,t)}(e,zt.Component),Uj(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,l=kn(n),s=kn(r);if(Er(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!s)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Jx({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return dx(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var u=c.x,d=c.y,f=this.props,p=f.shape,h=f.className,y=$j($j({clipPath:dx(this.props,"hidden")?"url(#".concat(a,")"):void 0},nr(this.props,!0)),{},{cx:u,cy:d});return zt.createElement(Cr,{className:cn("recharts-reference-dot",h)},e.renderDot(p,y),dy.renderCallByParent(this.props,{x:u-i,y:d-i,width:2*i,height:2*i}))}}])}();function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kj.apply(this,arguments)}function Zj(e){return(Zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qj(Object(n),!0).forEach((function(t){ow(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ew(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tw(e,t,n){return t=rw(t),function(e,t){if(t&&("object"===Zj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nw()?Reflect.construct(t,n||[],rw(e).constructor):t.apply(e,n))}function nw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nw=function(){return!!e})()}function rw(e){return(rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iw(e,t){return(iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ow(e,t,n){return(t=aw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aw(e){var t=function(e,t){if("object"!=Zj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Zj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Zj(t)?t:t+""}Gj(Xj,"displayName","ReferenceDot"),Gj(Xj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Gj(Xj,"renderDot",(function(e,t){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement(Kv,zj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var lw=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tw(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}(e,zt.Component),ew(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,l=t.alwaysShow,s=t.clipPathId;Er(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=kn(n),u=kn(r),d=kn(i),f=kn(o),p=this.props.shape;if(!(c||u||d||f||p))return null;var h=function(e,t,n,r,i){var o=i.x1,a=i.x2,l=i.y1,s=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Jx({x:c.scale,y:u.scale}),f={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(s,{position:"end"}):d.y.rangeMax};return!dx(i,"discard")||d.isInRange(f)&&d.isInRange(p)?Zx(f,p):null}(c,u,d,f,this.props);if(!h&&!p)return null;var y=dx(this.props,"hidden")?"url(#".concat(s,")"):void 0;return zt.createElement(Cr,{className:cn("recharts-reference-area",a)},e.renderRect(p,Jj(Jj({clipPath:y},nr(this.props,!0)),h)),dy.renderCallByParent(this.props,h))}}])}();function sw(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function cw(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function uw(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function dw(e){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fw(Object(n),!0).forEach((function(t){hw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hw(e,t,n){var r;return r=function(e,t){if("object"!=dw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=dw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==dw(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yw(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,l=e.orientation,s=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Pn(s)||za)return function(e,t){return sw(e,t+1)}(i,"number"==typeof s&&Pn(s)?s:0);var f=[],p="top"===l||"bottom"===l?"width":"height",h=u&&"width"===p?fl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(e,r){var i=yn(c)?c(e.value,r):e.value;return"width"===p?cw(fl(i,{fontSize:t,letterSpacing:n}),h,d):fl(i,{fontSize:t,letterSpacing:n})[p]},m=i.length>=2?Sn(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,l=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}(o,m,p);return"equidistantPreserveStart"===s?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),l=t.start,s=t.end,c=0,u=1,d=l,f=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:sw(r,u)};var o,a=c,f=function(){return void 0===o&&(o=n(t,a)),o},p=t.coordinate,h=0===c||uw(e,p,f,d,s);h||(c=0,d=l,u+=1),h&&(d=p+e*(f()/2+i),c+=u)};u<=a.length;)if(o=f())return o.v;return[]}(m,v,y,i,a):(f="preserveStart"===s||"preserveStartEnd"===s?function(e,t,n,r,i,o){var a=(r||[]).slice(),l=a.length,s=t.start,c=t.end;if(o){var u=r[l-1],d=n(u,l-1),f=e*(u.coordinate+e*d/2-c);a[l-1]=u=pw(pw({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),uw(e,u.tickCoord,(function(){return d}),s,c)&&(c=u.tickCoord-e*(d/2+i),a[l-1]=pw(pw({},u),{},{isShow:!0}))}for(var p=o?l-1:l,h=function(t){var r,o=a[t],l=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*l()/2-s);a[t]=o=pw(pw({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=pw(pw({},o),{},{tickCoord:o.coordinate});uw(e,o.tickCoord,l,s,c)&&(s=o.tickCoord+e*(l()/2+i),a[t]=pw(pw({},o),{},{isShow:!0}))},y=0;y<p;y++)h(y);return a}(m,v,y,i,a,"preserveStartEnd"===s):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,l=t.start,s=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-s);o[t]=c=pw(pw({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=pw(pw({},c),{},{tickCoord:c.coordinate});uw(e,c.tickCoord,u,l,s)&&(s=c.tickCoord-e*(u()/2+i),o[t]=pw(pw({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(m,v,y,i,a),f.filter((function(e){return e.isShow})))}ow(lw,"displayName","ReferenceArea"),ow(lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),ow(lw,"renderRect",(function(e,t){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement(Fv,Kj({},t,{className:"recharts-reference-area-rect"}))}));var mw=["viewBox"],vw=["viewBox"],gw=["ticks"];function bw(e){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(this,arguments)}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(n),!0).forEach((function(t){Cw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ow(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ew(r.key),r)}}function _w(e,t,n){return t=kw(t),function(e,t){if(t&&("object"===bw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pw()?Reflect.construct(t,n||[],kw(e).constructor):t.apply(e,n))}function Pw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pw=function(){return!!e})()}function kw(e){return(kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aw(e,t){return(Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cw(e,t,n){return(t=Ew(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ew(e){var t=function(e,t){if("object"!=bw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==bw(t)?t:t+""}var Tw=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_w(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}(e,It.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return zt.isValidElement(e)?zt.cloneElement(e,t):yn(e)?e(t):zt.createElement($l,xw({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Ow(e,mw),i=this.props,o=i.viewBox,a=Ow(i,vw);return!In(n,o)||!In(r,a)||!In(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,l=this.props,s=l.x,c=l.y,u=l.width,d=l.height,f=l.orientation,p=l.tickSize,h=l.mirror,y=l.tickMargin,m=h?-1:1,v=e.tickSize||p,g=Pn(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,a=(r=(i=c+ +!h*d)-m*v)-m*y,o=g;break;case"left":r=i=e.coordinate,o=(t=(n=s+ +!h*u)-m*v)-m*y,a=g;break;case"right":r=i=e.coordinate,o=(t=(n=s+ +h*u)+m*v)+m*y,a=g;break;default:t=n=e.coordinate,a=(r=(i=c+ +h*d)+m*v)+m*y,o=g}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,l=e.axisLine,s=ww(ww(ww({},nr(this.props,!1)),nr(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);s=ww(ww({},s),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===o&&!a||"right"===o&&a);s=ww(ww({},s),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return zt.createElement("line",xw({},s,{className:cn("recharts-cartesian-axis-line",un(l,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,l=o.stroke,s=o.tick,c=o.tickFormatter,u=o.unit,d=yw(ww(ww({},this.props),{},{ticks:t}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),h=nr(this.props,!1),y=nr(s,!1),m=ww(ww({},h),{},{fill:"none"},nr(a,!1)),v=d.map((function(t,n){var r=i.getTickLineCoord(t),o=r.line,v=r.tick,g=ww(ww(ww(ww({textAnchor:f,verticalAnchor:p},h),{},{stroke:"none",fill:l},y),v),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:c});return zt.createElement(Cr,xw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Un(i.props,t,n)),a&&zt.createElement("line",xw({},m,o,{className:cn("recharts-cartesian-axis-tick-line",un(a,"className"))})),s&&e.renderTickItem(s,g,"".concat(yn(c)?c(t.value,n):t.value).concat(u||"")))}));return zt.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var l=this.props,s=l.ticks,c=Ow(l,gw),u=s;return yn(o)&&(u=s&&s.length>0?o(this.props):o(c)),r<=0||i<=0||!u||!u.length?null:zt.createElement(Cr,{className:cn("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),dy.renderCallByParent(this.props))}}])&&Sw(t.prototype,n),r&&Sw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Cw(Tw,"displayName","CartesianAxis"),Cw(Tw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nw=["x1","y1","x2","y2","key"],Mw=["offset"];function Dw(e){return(Dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iw(Object(n),!0).forEach((function(t){Bw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bw(e,t,n){var r;return r=function(e,t){if("object"!=Dw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Dw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Dw(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(this,arguments)}function Lw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fw=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,l=e.ry;return zt.createElement("rect",{x:r,y:i,ry:l,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $w(e,t){var n;if(zt.isValidElement(e))n=zt.cloneElement(e,t);else if(yn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,l=t.key,s=Lw(t,Nw),c=nr(s,!1);c.offset;var u=Lw(c,Mw);n=zt.createElement("line",zw({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:l}))}return n}function Uw(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=Rw(Rw({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return $w(i,a)}));return zt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ww(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=Rw(Rw({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return $w(i,a)}));return zt.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Vw(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,l=e.horizontalPoints,s=e.horizontal;if(!(void 0===s||s)||!t||!t.length)return null;var c=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==c[0]&&c.unshift(0);var u=c.map((function(e,l){var s=!c[l+1]?i+a-e:c[l+1]-e;if(s<=0)return null;var u=l%t.length;return zt.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:s,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return zt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function qw(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,l=e.width,s=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,t){var n=!u[t+1]?o+l-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return zt.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:s,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return zt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Hw=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return wh(yw(Rw(Rw(Rw({},Tw.defaultProps),n),{},{ticks:Oh(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Gw=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return wh(yw(Rw(Rw(Rw({},Tw.defaultProps),n),{},{ticks:Oh(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Yw={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xw(e){var t,n,r,i,o,a,l,s,c=jj(),u=wj(),d=It.useContext(hj),f=Rw(Rw({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:Yw.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:Yw.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:Yw.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:Yw.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:Yw.vertical,verticalFill:null!==(a=e.verticalFill)&&void 0!==a?a:Yw.verticalFill,x:Pn(e.x)?e.x:d.left,y:Pn(e.y)?e.y:d.top,width:Pn(e.width)?e.width:d.width,height:Pn(e.height)?e.height:d.height}),p=f.x,h=f.y,y=f.width,m=f.height,v=f.syncWithTicks,g=f.horizontalValues,b=f.verticalValues,x=(l=It.useContext(dj),Tn(l)),j=(s=It.useContext(fj),cj(s,(function(e){return bx(e.domain,Number.isFinite)}))||Tn(s));if(!Pn(y)||y<=0||!Pn(m)||m<=0||!Pn(p)||p!==+p||!Pn(h)||h!==+h)return null;var w=f.verticalCoordinatesGenerator||Hw,O=f.horizontalCoordinatesGenerator||Gw,S=f.horizontalPoints,_=f.verticalPoints;if((!S||!S.length)&&yn(O)){var P=g&&g.length,k=O({yAxis:j?Rw(Rw({},j),{},{ticks:P?g:j.ticks}):void 0,width:c,height:u,offset:d},!!P||v);Er(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Dw(k),"]")),Array.isArray(k)&&(S=k)}if((!_||!_.length)&&yn(w)){var A=b&&b.length,C=w({xAxis:x?Rw(Rw({},x),{},{ticks:A?b:x.ticks}):void 0,width:c,height:u,offset:d},!!A||v);Er(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Dw(C),"]")),Array.isArray(C)&&(_=C)}return zt.createElement("g",{className:"recharts-cartesian-grid"},zt.createElement(Fw,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),zt.createElement(Uw,zw({},f,{offset:d,horizontalPoints:S,xAxis:x,yAxis:j})),zt.createElement(Ww,zw({},f,{offset:d,verticalPoints:_,xAxis:x,yAxis:j})),zt.createElement(Vw,zw({},f,{horizontalPoints:S})),zt.createElement(qw,zw({},f,{verticalPoints:_})))}Xw.displayName="CartesianGrid";var Kw=["type","layout","connectNulls","ref"],Zw=["key"];function Qw(e){return(Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eO.apply(this,arguments)}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(n),!0).forEach((function(t){uO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rO(e){return function(e){if(Array.isArray(e))return iO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dO(r.key),r)}}function aO(e,t,n){return t=sO(t),function(e,t){if(t&&("object"===Qw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lO()?Reflect.construct(t,n||[],sO(e).constructor):t.apply(e,n))}function lO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lO=function(){return!!e})()}function sO(e){return(sO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cO(e,t){return(cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uO(e,t,n){return(t=dO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dO(e){var t=function(e,t){if("object"!=Qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Qw(t)?t:t+""}var fO=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uO(t=aO(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),uO(t,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),uO(t,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),l=n%o,s=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>l){c=[].concat(rO(i.slice(0,u)),[l-d]);break}var f=c.length%2==0?[0,s]:[s];return[].concat(rO(e.repeat(i,a)),rO(c),f).map((function(e){return"".concat(e,"px")})).join(", ")})),uO(t,"id",Cn("recharts-line-")),uO(t,"pathRef",(function(e){t.mainCurve=e})),uO(t,"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),uO(t,"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cO(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(rO(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(rO(r),rO(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(zt.isValidElement(e))n=zt.cloneElement(e,t);else if(yn(e))n=e(t);else{var r=t.key,i=Jw(t,Zw),o=cn("recharts-line-dot","boolean"!=typeof e?e.className:"");n=zt.createElement(Kv,eO({key:r},i,{className:o}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,a=n.layout,l=Qn(n.children,ih);if(!l)return null;var s=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:mh(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return zt.createElement(Cr,c,l.map((function(e){return zt.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,dataPointFormatter:s})})))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,a=i.points,l=i.dataKey,s=nr(this.props,!1),c=nr(o,!0),u=a.map((function(t,n){var r=nO(nO(nO({key:"dot-".concat(n),r:3},s),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:l,payload:t.payload,points:a});return e.renderDotItem(o,r)})),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return zt.createElement(Cr,eO({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,a=i.layout,l=i.connectNulls;i.ref;var s=Jw(i,Kw),c=nO(nO(nO({},nr(s,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:a,connectNulls:l});return zt.createElement(Qy,eO({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,a=r.isAnimationActive,l=r.animationBegin,s=r.animationDuration,c=r.animationEasing,u=r.animationId,d=r.animateNewValues,f=r.width,p=r.height,h=this.state,y=h.prevPoints,m=h.totalLength;return zt.createElement(Cv,{begin:l,duration:s,isActive:a,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var a=r.t;if(y){var l=y.length/i.length,s=i.map((function(e,t){var n=Math.floor(t*l);if(y[n]){var r=y[n],i=Nn(r.x,e.x),o=Nn(r.y,e.y);return nO(nO({},e),{},{x:i(a),y:o(a)})}if(d){var s=Nn(2*f,e.x),c=Nn(p/2,e.y);return nO(nO({},e),{},{x:s(a),y:c(a)})}return nO(nO({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(s,e,t)}var c,u=Nn(0,m)(a);if(o){var h="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,m,h)}else c=n.generateSimpleStrokeDasharray(m,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,l=o.totalLength;return i&&r&&r.length&&(!a&&l>0||!Vf(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,a=t.xAxis,l=t.yAxis,s=t.top,c=t.left,u=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var h=this.state.isAnimationFinished,y=1===i.length,m=cn("recharts-line",o),v=a&&a.allowDataOverflow,g=l&&l.allowDataOverflow,b=v||g,x=pn(p)?this.id:p,j=null!==(e=nr(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,O=void 0===w?3:w,S=j.strokeWidth,_=void 0===S?2:S,P=(function(e){return e&&"object"===Hn(e)&&"clipDot"in e}(r)?r:{}).clipDot,k=void 0===P||P,A=2*O+_;return zt.createElement(Cr,{className:m},v||g?zt.createElement("defs",null,zt.createElement("clipPath",{id:"clipPath-".concat(x)},zt.createElement("rect",{x:v?c:c-u/2,y:g?s:s-d/2,width:v?u:2*u,height:g?d:2*d})),!k&&zt.createElement("clipPath",{id:"clipPath-dots-".concat(x)},zt.createElement("rect",{x:c-A/2,y:s-A/2,width:u+A,height:d+A}))):null,!y&&this.renderCurve(b,x),this.renderErrorBar(b,x),(y||r)&&this.renderDots(b,k,x),(!f||h)&&ky.renderCallByParent(this.props,i))}}])&&oO(t.prototype,n),r&&oO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function pO(e){return(pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yO(e,t,n){return t=vO(t),function(e,t){if(t&&("object"===pO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mO()?Reflect.construct(t,n||[],vO(e).constructor):t.apply(e,n))}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mO=function(){return!!e})()}function vO(e){return(vO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gO(e,t){return(gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bO(e,t,n){return(t=xO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xO(e){var t=function(e,t){if("object"!=pO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=pO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==pO(t)?t:t+""}function jO(){return jO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jO.apply(this,arguments)}function wO(e){var t=e.xAxisId,n=jj(),r=wj(),i=bj(t);return null==i?null:zt.createElement(Tw,jO({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return Oh(e,!0)}}))}uO(fO,"displayName","Line"),uO(fO,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!za,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),uO(fO,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,l=e.bandSize,s=e.displayedData,c=e.offset,u=t.layout;return nO({points:s.map((function(e,t){var s=mh(e,a);return"horizontal"===u?{x:Nh({axis:n,ticks:i,bandSize:l,entry:e,index:t}),y:pn(s)?null:r.scale(s),value:s,payload:e}:{x:pn(s)?null:n.scale(s),y:Nh({axis:r,ticks:o,bandSize:l,entry:e,index:t}),value:s,payload:e}})),layout:u},c)}));var OO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}(e,zt.Component),hO(e,[{key:"render",value:function(){return zt.createElement(wO,this.props)}}])}();function SO(e){return(SO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _O(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PO(e,t,n){return t=AO(t),function(e,t){if(t&&("object"===SO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kO()?Reflect.construct(t,n||[],AO(e).constructor):t.apply(e,n))}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kO=function(){return!!e})()}function AO(e){return(AO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CO(e,t){return(CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function EO(e,t,n){return(t=TO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TO(e){var t=function(e,t){if("object"!=SO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=SO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==SO(t)?t:t+""}function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NO.apply(this,arguments)}bO(OO,"displayName","XAxis"),bO(OO,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var MO=function(e){var t=e.yAxisId,n=jj(),r=wj(),i=xj(t);return null==i?null:zt.createElement(Tw,NO({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return Oh(e,!0)}}))},DO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}(e,zt.Component),_O(e,[{key:"render",value:function(){return zt.createElement(MO,this.props)}}])}();function IO(e){return function(e){if(Array.isArray(e))return RO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return RO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}EO(DO,"displayName","YAxis"),EO(DO,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var BO,zO=function(e,t,n,r,i){var o=Qn(e,Bj),a=Qn(e,Xj),l=[].concat(IO(o),IO(a)),s=Qn(e,lw),c="".concat(r,"Id"),u=r[0],d=t;if(l.length&&(d=l.reduce((function(e,t){if(t.props[c]===n&&dx(t.props,"extendDomain")&&Pn(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),s.length){var f="".concat(u,"1"),p="".concat(u,"2");d=s.reduce((function(e,t){if(t.props[c]===n&&dx(t.props,"extendDomain")&&Pn(t.props[f])&&Pn(t.props[p])){var r=t.props[f],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return Pn(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},LO={exports:{}};var FO=new(Bt((BO||(BO=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var l=new i(r,o||e,a),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,i,o,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,s=new Array(d-1);c<d;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!s)for(f=1,s=new Array(d-1);f<d;f++)s[f-1]=arguments[f];u[c].fn.apply(u[c].context,s)}}return!0},l.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var l=this._events[o];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||a(this,o);else{for(var s=0,c=[],u=l.length;s<u;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&c.push(l[s]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(LO)),LO.exports))),$O="recharts.syncMouseEvents";function UO(e){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VO(e,t,n){return(t=qO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qO(e){var t=function(e,t){if("object"!=UO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=UO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UO(t)?t:t+""}var HO=function(){return WO((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),VO(this,"activeIndex",0),VO(this,"coordinateList",[]),VO(this,"layout","horizontal")}),[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,l=void 0===a?null:a,s=e.offset,c=void 0===s?null:s,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=l?l:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,l=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,s=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+l,u=i+this.offset.top+o/2+s;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function GO(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[Xh(t,n,r,i),Xh(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function YO(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return GO(t);var l=t.cx,s=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=Xh(l,s,c,d),p=Xh(l,s,u,d);r=f.x,i=f.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function XO(e){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KO(Object(n),!0).forEach((function(t){QO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QO(e,t,n){var r;return r=function(e,t){if("object"!=XO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=XO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==XO(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t,n,r,i=e.element,o=e.tooltipEventType,a=e.isActive,l=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!h||!a||!l||"ScatterChart"!==p&&"axis"!==o)return null;var y=Qy;if("ScatterChart"===p)r=l,y=ag;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,c,d),y=Fv;else if("radial"===f){var m=GO(l),v=m.cx,g=m.cy,b=m.radius;r={cx:v,cy:g,startAngle:m.startAngle,endAngle:m.endAngle,innerRadius:b,outerRadius:b},y=Ry}else r={points:YO(f,l,c)},y=Qy;var x=ZO(ZO(ZO(ZO({stroke:"#ccc",pointerEvents:"none"},c),r),nr(h,!1)),{},{payload:s,payloadIndex:u,className:cn("recharts-tooltip-cursor",h.className)});return It.isValidElement(h)?It.cloneElement(h,x):It.createElement(y,x)}var eS=["item"],tS=["children","className","width","height","style","compact","title","desc"];function nS(e){return(nS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rS.apply(this,arguments)}function iS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||fS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aS(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vS(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lS(e,t,n){return t=cS(t),function(e,t){if(t&&("object"===nS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sS()?Reflect.construct(t,n||[],cS(e).constructor):t.apply(e,n))}function sS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sS=function(){return!!e})()}function cS(e){return(cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uS(e,t){return(uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dS(e){return function(e){if(Array.isArray(e))return pS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fS(e,t){if(e){if("string"==typeof e)return pS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pS(e,t):void 0}}function pS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(n),!0).forEach((function(t){mS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mS(e,t,n){return(t=vS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vS(e){var t=function(e,t){if("object"!=nS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=nS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nS(t)?t:t+""}var gS={xAxis:["bottom","top"],yAxis:["left","right"]},bS={width:"100%",height:"100%"},xS={x:0,y:0};function jS(e){return e}var wS=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(dS(e),dS(n)):e}),[]);return o.length>0?o:e&&e.length&&Pn(r)&&Pn(i)?e.slice(r,i+1):[]};function OS(e){return"number"===e?[0,"auto"]:void 0}var SS=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=wS(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,l){var s,c,u=null!==(s=l.props.data)&&void 0!==s?s:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=Mn(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(dS(i),[Fh(l,c)]):i}),[])},_S=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,s=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,s=0;s<a;s++){var c=s>0?r[s-1].coordinate:r[a-1].coordinate,u=r[s].coordinate,d=s>=a-1?r[0].coordinate:r[s+1].coordinate,f=void 0;if(Sn(u-c)!==Sn(d-u)){var p=[];if(Sn(d-u)===Sn(l[1]-l[0])){f=d;var h=u+l[1]-l[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{f=c;var y=d+l[1]-l[0];p[0]=Math.min(u,(y+u)/2),p[1]=Math.max(u,(y+u)/2)}var m=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>m[0]&&e<=m[1]||e>=p[0]&&e<=p[1]){o=r[s].index;break}}else{var v=Math.min(c,d),g=Math.max(c,d);if(e>(v+u)/2&&e<=(g+u)/2){o=r[s].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,s,l);if(c>=0&&s){var u=s[c]&&s[c].value,d=SS(e,t,c,u),f=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return yS(yS(yS({},r),Xh(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,s=r.angle;return yS(yS(yS({},r),Xh(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}return xS}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},PS=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,s=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=jh(c,i);return n.reduce((function(t,n){var p,h=void 0!==n.type.defaultProps?yS(yS({},n.type.defaultProps),n.props):n.props,y=h.type,m=h.dataKey,v=h.allowDataOverflow,g=h.allowDuplicatedCategory,b=h.scale,x=h.ticks,j=h.includeHidden,w=h[o];if(t[w])return t;var O,S,_,P=wS(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===w})),dataStartIndex:l,dataEndIndex:s}),k=P.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&Pn(r)&&Pn(i))return!0}return!1})(h.domain,v,y)&&(O=Bh(h.domain,null,v),!f||"number"!==y&&"auto"===b||(_=vh(P,m,"category")));var A=OS(y);if(!O||0===O.length){var C,E=null!==(C=h.domain)&&void 0!==C?C:A;if(m){if(O=vh(P,m,y),"category"===y&&f){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(O);g&&T?(S=O,O=Lb(0,k)):g||(O=Lh(E,O,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(dS(e),[t])}),[]))}else if("category"===y)O=g?O.filter((function(e){return""!==e&&!pn(e)})):Lh(E,O,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||pn(t)?e:[].concat(dS(e),[t])}),[]);else if("number"===y){var N=function(e,t,n,r,i){var o=t.map((function(t){return bh(e,t,n,i,r)})).filter((function(e){return!pn(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(P,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(j||!i)})),m,i,c);N&&(O=N)}!f||"number"!==y&&"auto"===b||(_=vh(P,m,"category"))}else O=f?Lb(0,k):a&&a[w]&&a[w].hasStack&&"number"===y?"expand"===d?[0,1]:Dh(a[w].stackGroups,l,s):xh(P,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!n)})),y,c,!0);if("number"===y)O=zO(u,O,w,i,x),E&&(O=Bh(E,O,v));else if("category"===y&&E){var M=E;O.every((function(e){return M.indexOf(e)>=0}))&&(O=M)}}return yS(yS({},t),{},mS({},w,yS(yS({},h),{},{axisType:i,domain:O,categoricalDomain:_,duplicateDomain:S,originalDomain:null!==(p=h.domain)&&void 0!==p?p:A,isCategorical:f,layout:c})))}),{})},kS=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,l=t.dataStartIndex,s=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Qn(c,i),f={};return d&&d.length?f=PS(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:s}):o&&o.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,l=t.dataStartIndex,s=t.dataEndIndex,c=e.layout,u=e.children,d=wS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:s}),f=d.length,p=jh(c,i),h=-1;return n.reduce((function(e,t){var y,m=(void 0!==t.type.defaultProps?yS(yS({},t.type.defaultProps),t.props):t.props)[o],v=OS("number");return e[m]?e:(h++,p?y=Lb(0,f):a&&a[m]&&a[m].hasStack?(y=Dh(a[m].stackGroups,l,s),y=zO(u,y,m,i)):(y=Bh(v,xh(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===m&&!i})),"number",c),r.defaultProps.allowDataOverflow),y=zO(u,y,m,i)),yS(yS({},e),{},mS({},m,yS(yS({axisType:i},r.defaultProps),{},{hide:!0,orientation:un(gS,"".concat(i,".").concat(h%2),null),domain:y,originalDomain:v,isCategorical:p,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:s})),f},AS=function(e){var t=e.children,n=e.defaultShowTooltip,r=Jn(t,lx),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},CS=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ES=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,l=n.width,s=n.height,c=n.children,u=n.margin||{},d=Jn(c,lx),f=Jn(c,la),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:yS(yS({},e),{},mS({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),h=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:yS(yS({},e),{},mS({},r,un(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),y=yS(yS({},h),p),m=y.bottom;d&&(y.bottom+=d.props.height||lx.defaultProps.height),f&&t&&(y=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,l=o-(a.left||0)-(a.right||0),s=ch({children:i,legendWidth:l});if(s){var c=r||{},u=c.width,d=c.height,f=s.align,p=s.verticalAlign,h=s.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&Pn(e[f]))return hh(hh({},e),{},yh({},f,e[f]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&Pn(e[p]))return hh(hh({},e),{},yh({},p,e[p]+(d||0)))}return e}(y,0,n,t));var v=l-y.left-y.right,g=s-y.top-y.bottom;return yS(yS({brushBottom:m},y),{},{width:Math.max(v,0),height:Math.max(g,0)})},TS=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},NS=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,a=void 0===o?["axis"]:o,l=e.axisComponents,s=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=CS(u),y=h.numericAxisName,m=h.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Yn(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),g=[];return n.forEach((function(n,h){var b=wS(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),x=void 0!==n.type.defaultProps?yS(yS({},n.type.defaultProps),n.props):n.props,j=x.dataKey,w=x.maxBarSize,O=x["".concat(y,"Id")],S=x["".concat(m,"Id")],_=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Vp();var o=r[i];return yS(yS({},e),{},mS(mS({},n.axisType,o),"".concat(n.axisType,"Ticks"),Oh(o)))}),{}),P=_[m],k=_["".concat(m,"Ticks")],A=r&&r[O]&&r[O].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?hh(hh({},e.type.defaultProps),e.props):e.props).stackId;if(kn(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[O].stackGroups),C=Yn(n.type).indexOf("Bar")>=0,E=zh(P,k),T=[],N=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),l=0,s=a.length;l<s;l++)for(var c=i[a[l]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var p=c[u[d]],h=p.items,y=p.cateAxisId,m=h.filter((function(e){return Yn(e.type).indexOf("Bar")>=0}));if(m&&m.length){var v=m[0].type.defaultProps,g=void 0!==v?hh(hh({},v),m[0].props):m[0].props,b=g.barSize,x=g[y];o[x]||(o[x]=[]);var j=pn(b)?t:b;o[x].push({item:m[0],stackList:m.slice(1),barSize:pn(j)?void 0:En(j,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:TS(_,m)});if(C){var M,D,I=pn(w)?p:w,R=null!==(M=null!==(D=zh(P,k,!0))&&void 0!==D?D:I)&&void 0!==M?M:0;T=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,l=o.length;if(l<1)return null;var s,c=En(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,f=r/l,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(l-1)*c)>=r&&(p-=(l-1)*c,c=0),p>=r&&f>0&&(d=!0,p=l*(f*=.9));var h={offset:((r-p)/2|0)-c,size:0};s=o.reduce((function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:d?f:t.barSize}},r=[].concat(dh(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),u)}else{var y=En(n,r,0,!0);r-2*y-(l-1)*c<=0&&(c=0);var m=(r-2*y-(l-1)*c)/l;m>1&&(m>>=0);var v=a===+a?Math.min(m,a):m;s=o.reduce((function(e,t,n){var r=[].concat(dh(e),[{item:t.item,position:{offset:y+(m+c)*n+(m-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return s}({barGap:d,barCategoryGap:f,bandSize:R!==E?R:E,sizeList:N[S],maxBarSize:I}),R!==E&&(T=T.map((function(e){return yS(yS({},e),{},{position:yS(yS({},e.position),{},{offset:e.position.offset-R/2})})})))}var B,z,L=n&&n.type&&n.type.getComposedData;L&&g.push({props:yS(yS({},L(yS(yS({},_),{},{displayedData:b,props:e,dataKey:j,item:n,bandSize:E,barPosition:T,offset:i,stackedData:A,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},mS(mS(mS({key:n.key||"item-".concat(h)},y,_[y]),m,_[m]),"animationId",o)),childIndex:(B=n,z=e.children,Zn(z).indexOf(B)),item:n})})),g},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!er({props:i}))return null;var u=i.children,f=i.layout,p=i.stackOffset,h=i.data,y=i.reverseStackOrder,m=CS(f),v=m.numericAxisName,g=m.cateAxisName,b=Qn(u,n),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?hh(hh({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var l=o[n],s=e[l]||{hasStack:!1,stackGroups:{}};if(kn(a)){var c=s.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[a]=c}else s.stackGroups[Cn("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return hh(hh({},e),{},yh({},l,s))}),{});return Object.keys(a).reduce((function(t,o){var l=a[o];return l.hasStack&&(l.stackGroups=Object.keys(l.stackGroups).reduce((function(t,o){var a=l.stackGroups[o];return hh(hh({},t),{},yh({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:Eh(e,a.items,i)}))}),{})),hh(hh({},t),{},yh({},o,l))}),{})}(h,b,"".concat(v,"Id"),"".concat(g,"Id"),p,y),j=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return yS(yS({},e),{},mS({},n,kS(i,yS(yS({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&x,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=ES(yS(yS({},j),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(j).forEach((function(e){j[e]=c(i,j[e],w,e.replace("Map",""),t)}));var O,S,_=j["".concat(g,"Map")],P=(O=Tn(_),{tooltipTicks:S=Oh(O,!1,!0),orderedTooltipTicks:da(S,(function(e){return e.coordinate})),tooltipAxis:O,tooltipAxisBandSize:zh(O,S)}),k=d(i,yS(yS({},j),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:x,offset:w}));return yS(yS({formattedGraphicalItems:k,graphicalItems:b,offset:w,stackGroups:x},P),j)},p=function(){function e(n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mS(o=lS(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mS(o,"accessibilityManager",new HO),mS(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(yS({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},yS(yS({},o.state),{},{legendBBox:e}))))}})),mS(o,"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),mS(o,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return yS({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),mS(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=yS(yS({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;yn(r)&&r(n,e)}})),mS(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?yS(yS({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;yn(r)&&r(n,e)})),mS(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),mS(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),mS(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),mS(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;yn(n)&&n(t,e)})),mS(o,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Gn[t]?Gn[t]:null}(e),r=un(o.props,"".concat(n));n&&yn(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),mS(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=yS(yS({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;yn(r)&&r(n,e)}})),mS(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;yn(t)&&t(o.getMouseInfo(e),e)})),mS(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;yn(t)&&t(o.getMouseInfo(e),e)})),mS(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),mS(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),mS(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),mS(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;yn(t)&&t(o.getMouseInfo(e),e)})),mS(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;yn(t)&&t(o.getMouseInfo(e),e)})),mS(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&FO.emit($O,o.props.syncId,e,o.eventEmitterSymbol)})),mS(o,"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,l=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(yS({dataStartIndex:a,dataEndIndex:l},f({props:o.props,dataStartIndex:a,dataEndIndex:l,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var s=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,p=d.offset,h=d.tooltipTicks;if(!p)return;if("function"==typeof r)u=r(h,e);else if("value"===r){u=-1;for(var y=0;y<h.length;y++)if(h[y].value===e.activeLabel){u=y;break}}var m=yS(yS({},p),{},{x:p.left,y:p.top}),v=Math.min(s,m.x+m.width),g=Math.min(c,m.y+m.height),b=h[u]&&h[u].value,x=SS(o.state,o.props.data,u),j=h[u]?{x:"horizontal"===n?h[u].coordinate:v,y:"horizontal"===n?g:h[u].coordinate}:xS;o.setState(yS(yS({},e),{},{activeLabel:b,activeCoordinate:j,activePayload:x,activeTooltipIndex:u}))}else o.setState(e)})),mS(o,"renderCursor",(function(e){var n,r=o.state,i=r.isTooltipActive,a=r.activeCoordinate,l=r.activePayload,s=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:i,p=o.props.layout,h=e.key||"_recharts-cursor";return zt.createElement(JO,{key:h,activeCoordinate:a,activePayload:l,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:p,offset:s,tooltipAxisBandSize:u,tooltipEventType:d})})),mS(o,"renderPolarAxis",(function(e,t,n){var r=un(e,"type.axisType"),i=un(o.state,"".concat(r,"Map")),a=e.type.defaultProps,l=void 0!==a?yS(yS({},a),e.props):e.props,s=i&&i[l["".concat(r,"Id")]];return It.cloneElement(e,yS(yS({},s),{},{className:cn(r,s.className),key:e.key||"".concat(t,"-").concat(n),ticks:Oh(s,!0)}))})),mS(o,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,a=o.state,l=a.radiusAxisMap,s=a.angleAxisMap,c=Tn(l),u=Tn(s),d=u.cx,f=u.cy,p=u.innerRadius,h=u.outerRadius;return It.cloneElement(e,{polarAngles:Array.isArray(r)?r:Oh(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:Oh(c,!0).map((function(e){return e.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:h,key:e.key||"polar-grid",radialLines:n})})),mS(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,a=o.props.margin||{},l=r-(a.left||0)-(a.right||0),c=ch({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:s});if(!c)return null;var u=c.item,d=oS(c,eS);return It.cloneElement(u,yS(yS({},d),{},{chartWidth:r,chartHeight:i,margin:a,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),mS(o,"renderTooltip",(function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=Jn(n,Ka);if(!i)return null;var a=o.state,l=a.isTooltipActive,s=a.activeCoordinate,c=a.activePayload,u=a.activeLabel,d=a.offset,f=null!==(e=i.props.active)&&void 0!==e?e:l;return It.cloneElement(i,{viewBox:yS(yS({},d),{},{x:d.left,y:d.top}),active:f,label:u,payload:f?c:[],coordinate:s,accessibilityLayer:r})})),mS(o,"renderBrush",(function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,a=i.offset,l=i.dataStartIndex,s=i.dataEndIndex,c=i.updateId;return It.cloneElement(e,{key:e.key||"_recharts-brush",onChange:_h(o.handleBrushChange,e.props.onChange),data:r,x:Pn(e.props.x)?e.props.x:a.left,y:Pn(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:Pn(e.props.width)?e.props.width:a.width,startIndex:l,endIndex:s,updateId:"brush-".concat(c)})})),mS(o,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,a=i.xAxisMap,l=i.yAxisMap,s=i.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,f=void 0===d?c.xAxisId:d,p=u.yAxisId,h=void 0===p?c.yAxisId:p;return It.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[f],yAxis:l[h],viewBox:{x:s.left,y:s.top,width:s.width,height:s.height},clipPathId:r})})),mS(o,"renderActivePoints",(function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,l=[],s=n.props.key,c=void 0!==n.item.type.defaultProps?yS(yS({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=yS(yS({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:gh(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},nr(u,!1)),$n(u));return l.push(e.renderActiveDot(u,d,"".concat(s,"-activePoint-").concat(o))),i?l.push(e.renderActiveDot(u,yS(yS({},d),{},{cx:i.x,cy:i.y}),"".concat(s,"-basePoint-").concat(o))):a&&l.push(null),l})),mS(o,"renderGraphicChild",(function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),a=o.state,l=a.isTooltipActive,s=a.tooltipAxis,c=a.activeTooltipIndex,u=a.activeLabel,d=Jn(o.props.children,Ka),f=r.props,p=f.points,h=f.isRange,y=f.baseLine,m=void 0!==r.item.type.defaultProps?yS(yS({},r.item.type.defaultProps),r.item.props):r.item.props,v=m.activeDot,g=m.hide,b=m.activeBar,x=m.activeShape,j=Boolean(!g&&l&&d&&(v||b||x)),w={};"axis"!==i&&d&&"click"===d.props.trigger?w={onClick:_h(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(w={onMouseLeave:_h(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:_h(o.handleItemMouseEnter,e.props.onMouseEnter)});var O=It.cloneElement(e,yS(yS({},r.props),w));if(j){if(!(c>=0)){var S,_=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:O}).graphicalItem,P=_.item,k=void 0===P?e:P,A=_.childIndex,C=yS(yS(yS({},r.props),w),{},{activeIndex:A});return[It.cloneElement(k,C),null,null]}var E,T;if(s.dataKey&&!s.allowDuplicatedCategory){var N="function"==typeof s.dataKey?function(e){return"function"==typeof s.dataKey?s.dataKey(e.payload):null}:"payload.".concat(s.dataKey.toString());E=Mn(p,N,u),T=h&&y&&Mn(y,N,u)}else E=null==p?void 0:p[c],T=h&&y&&y[c];if(x||b){var M=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[It.cloneElement(e,yS(yS(yS({},r.props),w),{},{activeIndex:M})),null,null]}if(!pn(E))return[O].concat(dS(o.renderActivePoints({item:r,activePoint:E,basePoint:T,childIndex:c,isRange:h})))}return h?[O,null,null]:[O,null]})),mS(o,"renderCustomized",(function(e,t,n){return It.cloneElement(e,yS(yS({key:"recharts-customized-".concat(n)},o.props),o.state))})),mS(o,"renderMap",{CartesianGrid:{handler:jS,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:jS},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:jS},YAxis:{handler:jS},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:Cn("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=T(o.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}(e,It.Component),aS(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=Jn(t,Ka);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var l=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,s=SS(this.state,n,a,l),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(d=yS(yS({},d),f.props.points[a].tooltipPosition),s=f.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:l,activePayload:s,activeCoordinate:d};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){rr([Jn(e.children,Ka)],[Jn(this.props.children,Ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Jn(this.props.children,Ka);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return a.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,l=this.inRange(o.chartX,o.chartY,a);if(!l)return null;var s=this.state,c=s.xAxisMap,u=s.yAxisMap,d=this.getTooltipEventType(),f=_S(this.state,this.props.data,this.props.layout,l);if("axis"!==d&&c&&u){var p=Tn(c).scale,h=Tn(u).scale,y=p&&p.invert?p.invert(o.chartX):null,m=h&&h.invert?h.invert(o.chartY):null;return yS(yS({},o),{},{xValue:y,yValue:m},f)}return f?yS(yS({},o),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var l=this.state,s=l.angleAxisMap,c=l.radiusAxisMap;if(s&&c){var u=Tn(s);return Jh({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Jn(e,Ka),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),yS(yS({},$n(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){FO.on($O,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){FO.removeListener($O,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===Yn(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return zt.createElement("defs",null,zt.createElement("clipPath",{id:e},zt.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=iS(t,2),r=n[0],i=n[1];return yS(yS({},e),{},mS({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=iS(t,2),r=n[0],i=n[1];return yS(yS({},e),{},mS({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],l=a.props,s=a.item,c=void 0!==s.type.defaultProps?yS(yS({},s.type.defaultProps),s.props):s.props,u=Yn(s.type);if("Bar"===u){var d=(l.data||[]).find((function(t){return zv(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var f=(l.data||[]).find((function(t){return Jh(e,t)}));if(f)return{graphicalItem:a,payload:f}}else if(ub(a,r)||db(a,r)||fb(a,r)){var p=mb({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:yS(yS({},a),{},{childIndex:h}),payload:fb(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!er(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,l=r.height,s=r.style,c=r.compact,u=r.title,d=r.desc,f=oS(r,tS),p=nr(f,!1);if(c)return zt.createElement(gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},zt.createElement(cr,rS({},p,{width:a,height:l,title:u,desc:d}),this.renderClipPath(),or(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var h=this.parseEventsOfWrapper();return zt.createElement(gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},zt.createElement("div",rS({className:cn("recharts-wrapper",o),style:yS({position:"relative",cursor:"default",width:a,height:l},s)},h,{ref:function(t){e.container=t}}),zt.createElement(cr,rS({},p,{width:a,height:l,title:u,desc:d,style:bS}),this.renderClipPath(),or(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();mS(p,"displayName",t),mS(p,"defaultProps",yS({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),mS(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,l=e.layout,s=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=AS(e);return yS(yS(yS({},p),{},{updateId:0},f(yS(yS({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:l,prevStackOffset:s,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||l!==t.prevLayout||s!==t.prevStackOffset||!In(c,t.prevMargin)){var h=AS(e),y={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},m=yS(yS({},_S(t,r,l)),{},{updateId:t.updateId+1}),v=yS(yS(yS({},h),y),m);return yS(yS(yS({},v),f(yS({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:l,prevStackOffset:s,prevMargin:c,prevChildren:i})}if(!rr(i,t.prevChildren)){var g,b,x,j,w=Jn(i,lx),O=w&&null!==(g=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==g?g:u,S=w&&null!==(x=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==x?x:d,_=O!==u||S!==d,P=!pn(r)&&!_?t.updateId:t.updateId+1;return yS(yS({updateId:P},f(yS(yS({props:e},t),{},{updateId:P,dataStartIndex:O,dataEndIndex:S}),t)),{},{prevChildren:i,dataStartIndex:O,dataEndIndex:S})}return null})),mS(p,"renderActiveDot",(function(e,t,n){var r;return r=It.isValidElement(e)?It.cloneElement(e,t):yn(e)?e(t):zt.createElement(Kv,t),zt.createElement(Cr,{className:"recharts-active-dot",key:n},r)}));var h=It.forwardRef((function(e,t){return zt.createElement(p,rS({},e,{ref:t}))}));return h.displayName=p.displayName,h},MS=NS({chartName:"LineChart",GraphicalChild:fO,axisComponents:[{axisType:"xAxis",AxisComp:OO},{axisType:"yAxis",AxisComp:DO}],formatAxisMap:Kx}),DS=NS({chartName:"BarChart",GraphicalChild:Wx,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:OO},{axisType:"yAxis",AxisComp:DO}],formatAxisMap:Kx}),IS=NS({chartName:"PieChart",GraphicalChild:Rb,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lg},{axisType:"radiusAxis",AxisComp:_g}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,l=e.startAngle,s=e.endAngle,c=En(e.cx,o,o/2),u=En(e.cy,a,a/2),d=Kh(o,a,n),f=En(e.innerRadius,d,0),p=En(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,n){var o,a=t[n],d=a.domain,h=a.reversed;if(pn(a.range))"angleAxis"===r?o=[l,s]:"radiusAxis"===r&&(o=[f,p]),h&&(o=[o[1],o[0]]);else{var y=qh(o=a.range,2);l=y[0],s=y[1]}var m=Ph(a,i),v=m.realScaleType,g=m.scale;g.domain(d).range(o),Ah(g);var b=Th(g,Wh(Wh({},a),{},{realScaleType:v})),x=Wh(Wh(Wh({},a),b),{},{range:o,radius:p,realScaleType:v,scale:g,cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:l,endAngle:s});return Wh(Wh({},e),{},Vh({},n,x))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const{Text:RS}=V,BS=({data:e,totalCost:t,totalDeductions:n,totalNetPay:r,loading:i=!1,onDepartmentClick:a})=>{const l=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},s=(e,t=!1)=>{const n=l(e,0),r=t?"¥":"";return n>=1e8?`${r}${(n/1e8).toFixed(1)}亿`:n>=1e4?`${r}${(n/1e4).toFixed(1)}万`:`${r}${Math.round(n).toLocaleString("zh-CN")}`},c=e.sort(((e,t)=>t.currentCost-e.currentCost)).map(((e,t)=>{const n=e.departmentName||"未知部门";return{department:n.length>3?n.slice(0,3)+"...":n,fullName:n,value:l(e.currentCost,0),employeeCount:l(e.employeeCount,0),netPay:l(e.currentNetPay,0),deductions:l(e.currentDeductions,0),color:e.color||`hsl(${137.5*t%360}, 70%, 60%)`,originalData:e}})),u=({active:e,payload:t,label:n})=>{if(e&&t&&t[0]){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:e.fullName}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"成本: "}),o.jsx("span",{className:"tooltip-value",children:s(e.value,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.employeeCount,"人"]})]})]})}return null},d=e=>{const{payload:t,x:n,y:r,width:i,height:l}=e;return o.jsx("rect",{x:n,y:r,width:i,height:l,fill:t.color,rx:2,style:{cursor:a?"pointer":"default"},onClick:()=>null==a?void 0:a(t.originalData)})};return i?o.jsx("div",{className:"mini-metric-card mini-department-cost",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(RS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-department-cost",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(q,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:s(t,!0)}),o.jsx("div",{className:"info-label",children:"总成本"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(H,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:e.length}),o.jsx("div",{className:"info-label",children:"部门"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:c.length>0?o.jsx(rl,{width:"100%",height:"100%",children:o.jsxs(DS,{data:c,margin:{top:10,right:10,left:10,bottom:20},children:[o.jsx(OO,{dataKey:"department",axisLine:!1,tickLine:!1,tick:{fontSize:9,fill:"#666"},angle:-45,textAnchor:"end",height:35}),o.jsx(DO,{hide:!0}),o.jsx(Ka,{content:u}),o.jsx(Wx,{dataKey:"value",shape:o.jsx(d,{}),fill:"#8884d8"})]})}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(G,{className:"empty-icon"}),o.jsx(RS,{type:"secondary",children:"暂无数据"})]})}),o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"summary-row",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(RS,{className:"summary-label",children:"实"}),o.jsx(RS,{className:"summary-value success",children:s(r,!0)})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(RS,{className:"summary-label",children:"扣"}),o.jsx(RS,{className:"summary-value error",children:s(n,!0)})]})]})})]})},{Text:zS}=V,LS=({data:e,totalEmployees:t,loading:r=!1,onTypeClick:i,periodId:a})=>{const[l,s]=It.useState({loading:!1,data:null});It.useEffect((()=>{a?(async()=>{if(a)try{s((e=>({...e,loading:!0})));const e=await Lt.getPersonnelCategoryStats(a);e&&e.data?(e.data.categories&&e.data.categories.length>0&&e.data.categories.forEach(((e,t)=>{})),s({loading:!1,data:e.data})):s({loading:!1,data:null})}catch(e){s({loading:!1,data:null})}else s({loading:!1,data:null})})():s({loading:!1,data:null}),"undefined"!=typeof window&&(window.testPersonnelStats=async e=>{var t,n;try{const r=await Lt.getPersonnelCategoryStats(e);return null==(n=null==(t=null==r?void 0:r.data)?void 0:t.categories)||n.length,r}catch(r){return null}},window.parsePersonnelStats=e=>{try{const t=null==e?void 0:e.data;if(!t)return;t.categories&&t.categories.length>0&&t.categories.forEach(((e,t)=>{}))}catch(t){}})}),[a]);const c=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},u=(e,t=!1)=>{if(null==e)return"0.00";const n="string"==typeof e?parseFloat(e):e;return isNaN(n)?"0.00":t&&n>=1e4?(n/1e4).toFixed(2)+"万":n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})};(()=>{const t=e.reduce(((e,t)=>e+c(t.newHires,0)),0),n=e.reduce(((e,t)=>e+c(t.departures,0)),0),r=t-n})();const d=(()=>{if(!e||0===e.length)return[];const t={"正编":"#1677ff","聘用":"#52c41a","临聘":"#faad14","合同制":"#f5222d","实习":"#722ed1","退休":"#13c2c2","劳务":"#eb2f96","编外":"#fa8c16","兼职":"#08979c","顾问":"#7cb305","返聘":"#c41d7f","代理":"#2f54eb","见习":"#a0d911"};return[...e].sort(((e,t)=>t.employeeCount-e.employeeCount)).map(((e,n)=>{const r=e.typeName||"未分类";let i="#cccccc";for(const[o,a]of Object.entries(t))if(r.includes(o)){i=a;break}return{type:r.length>4?r.substring(0,4):r,fullName:r,value:Math.max(c(e.employeeCount,0),0),percentage:c(e.percentage,0),color:i,avgSalary:c(e.avgSalary,0),totalCost:c(e.totalCost,0),typeId:e.typeId||"unknown",employeeCount:e.employeeCount}}))})();return r?o.jsx("div",{className:"mini-metric-card mini-employee-type",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(zS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-employee-type",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(Y,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:t}),o.jsx("div",{className:"info-label",children:"总人数"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(X,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:e.length}),o.jsx("div",{className:"info-label",children:"编制类型"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:r?o.jsxs("div",{className:"empty-chart",children:[o.jsx(W,{size:"small"}),o.jsx(zS,{type:"secondary",children:"加载中..."})]}):d.length>0&&d.some((e=>e.value>0))?o.jsxs("div",{className:"chart-with-stats",children:[l.data&&Array.isArray(l.data.categories)&&l.data.categories.length>0&&(()=>{const e=l.data.categories.find((e=>"正编"===e.personnel_category));return e?o.jsxs("div",{className:"personnel-stat-item left",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(H,{className:"stat-icon primary"}),o.jsxs(zS,{className:"stat-label",children:["正编 ",e.employee_count,"人"]})]}),o.jsxs("div",{className:"stat-details",children:[o.jsxs(zS,{className:"detail-text",children:["应发:",u(e.gross_pay_total,!1)]}),o.jsxs(zS,{className:"detail-text",children:["实发:",u(e.net_pay_total,!1)]})]})]}):null})(),o.jsx(rl,{width:"60%",height:"100%",aspect:1,children:o.jsxs(IS,{margin:{top:0,right:0,bottom:0,left:0},children:[o.jsx(Rb,{data:d,cx:"50%",cy:"50%",outerRadius:"80%",innerRadius:"55%",paddingAngle:2,dataKey:"value",onClick:e=>{const t=e.find((t=>t.typeName===e.fullName));t&&i&&i(t)},style:{cursor:i?"pointer":"default"},children:d.map(((e,t)=>{const n=["#1677ff","#52c41a","#faad14","#f5222d","#722ed1","#13c2c2","#eb2f96","#2f54eb","#fa8c16","#a0d911","#1890ff","#fa541c","#08979c","#531dab","#7cb305","#c41d7f"];return o.jsx(il,{fill:n[t%n.length]},`cell-${t}`)}))}),o.jsx(Ka,{content:({active:e,payload:t})=>{if(e&&t&&t[0]){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:e.fullName}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.value,"人"]})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"占比: "}),o.jsxs("span",{className:"tooltip-value",children:[e.percentage.toFixed(1),"%"]})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"平均薪资: "}),o.jsx("span",{className:"tooltip-value",children:u(e.avgSalary,!0)})]})]})}return null}}),o.jsx("text",{x:"50%",y:"48%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"18px",fontWeight:"bold",fill:"#1677ff"},children:t}),o.jsx("text",{x:"50%",y:"58%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"10px",fill:"#8c8c8c"},children:"总人数"})]})}),l.data&&Array.isArray(l.data.categories)&&l.data.categories.length>0&&(()=>{const e=l.data.categories.find((e=>"聘用"===e.personnel_category));return e?o.jsxs("div",{className:"personnel-stat-item right",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(X,{className:"stat-icon secondary"}),o.jsxs(zS,{className:"stat-label",children:["聘用 ",e.employee_count,"人"]})]}),o.jsxs("div",{className:"stat-details",children:[o.jsxs(zS,{className:"detail-text",children:["应发:",u(e.gross_pay_total,!1)]}),o.jsxs(zS,{className:"detail-text",children:["实发:",u(e.net_pay_total,!1)]})]})]}):null})()]}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(K,{className:"empty-icon"}),o.jsx(zS,{type:"secondary",children:"暂无数据"})]})}),!l.data&&o.jsx("div",{className:"mini-card-summary",children:l.loading?o.jsxs("div",{className:"summary-loading",children:[o.jsx(W,{size:"small"}),o.jsx(zS,{type:"secondary",children:"加载统计中..."})]}):o.jsxs("div",{className:"personnel-stats-empty",children:[o.jsx(Y,{className:"empty-icon"}),o.jsx(zS,{type:"secondary",children:"暂无编制统计数据"}),o.jsx(Z,{title:"数据获取情况",children:o.jsx(Q,{type:"text",icon:o.jsx(J,{}),size:"small",onClick:()=>{n.info(`期间ID: ${a||"未设置"}`)}})})]})}),l.data&&l.data.summary&&o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"personnel-stats-row",children:[o.jsxs("div",{className:"personnel-stat-item left",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(ee,{className:"stat-icon primary"}),o.jsx(zS,{className:"stat-label",children:"总应发"})]}),o.jsx("div",{className:"stat-details",children:o.jsx(zS,{className:"detail-text",children:u(l.data.summary.total_gross_pay,!1)})})]}),o.jsxs("div",{className:"personnel-stat-item right",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(ee,{className:"stat-icon secondary"}),o.jsx(zS,{className:"stat-label",children:"总实发"})]}),o.jsx("div",{className:"stat-details",children:o.jsx(zS,{className:"detail-text",children:u(l.data.summary.total_net_pay,!1)})})]})]})})]})},{Text:FS}=V,$S=({data:e,loading:t=!1,onExport:n})=>{if(e.length>0){e[e.length-1]}const r=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},a=(e,t=!1)=>{const n=r(e,0),i=t?"¥":"";return n>=1e8?`${i}${(n/1e8).toFixed(1)}亿`:n>=1e4?`${i}${(n/1e4).toFixed(1)}万`:`${i}${Math.round(n).toLocaleString("zh-CN")}`},l=It.useMemo((()=>{if(e.length<1)return{direction:"stable",percentage:0,currentMonth:0,previousMonth:0,change:0};const t=e.filter((e=>r(e.grossSalary)>0));if(0===t.length)return{direction:"stable",percentage:0,currentMonth:0,previousMonth:0,change:0};const n=t[t.length-1],i=t.length>1?t[t.length-2]:null,o=r(n.grossSalary,0),a=i?r(i.grossSalary,0):0,l=o-a,s=0===a?0:l/a*100;return{direction:l>.01?"up":l<-.01?"down":"stable",percentage:Math.abs(s),currentMonth:o,previousMonth:a,change:Math.abs(l)}}),[e]),s=e.sort(((e,t)=>{const n=e.month?new Date(e.month):new Date(0),r=t.month?new Date(t.month):new Date(0);return n.getTime()-r.getTime()})).slice(-6).filter((e=>e&&e.month)).map((e=>({month:e.monthLabel||i(e.month).format("M月"),grossSalary:r(e.grossSalary,0),netSalary:r(e.netSalary,0),deductions:r(e.deductions,0),employeeCount:r(e.employeeCount,0)}))),c=(new Date).getFullYear(),u=e.filter((e=>{var t;return((null==(t=e.month)?void 0:t.substring(0,4))||(e.monthLabel?c.toString():""))===c.toString()})),d=u.reduce(((e,t)=>e+r(t.grossSalary,0)),0),f=c-1;e.filter((e=>{var t;return((null==(t=e.month)?void 0:t.substring(0,4))||"")===f.toString()})).reduce(((e,t)=>e+r(t.grossSalary,0)),0);return t?o.jsx("div",{className:"mini-metric-card mini-salary-trend",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(FS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-salary-trend",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(q,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:(()=>{const t=(new Date).getFullYear();return`¥${(e.filter((e=>{var n;return((null==(n=e.month)?void 0:n.substring(0,4))||(e.monthLabel?t.toString():""))===t.toString()})).reduce(((e,t)=>e+r(t.grossSalary,0)),0)/1e4).toFixed(1)}万`})()}),o.jsx("div",{className:"info-label",children:"本年应发"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",style:{color:(()=>{switch(l.direction){case"up":return"#52c41a";case"down":return"#ff4d4f";default:return"#8c8c8c"}})()},children:(()=>{switch(l.direction){case"up":return o.jsx(oe,{className:"trend-icon up"});case"down":return o.jsx(ie,{className:"trend-icon down"});default:return o.jsx(re,{className:"trend-icon stable"})}})()}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",style:{color:"#8c8c8c"},children:(()=>{const t=c-1,n=e.filter((e=>{var n;return((null==(n=e.month)?void 0:n.substring(0,4))||"")===t.toString()})),i=n.reduce(((e,t)=>e+r(t.grossSalary,0)),0);if(0===n.length||0===i)return"-";return`${((d-i)/i*100).toFixed(1)}%`})()}),o.jsx("div",{className:"info-label",children:"同比"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:t?o.jsxs("div",{className:"empty-chart",children:[o.jsx(W,{size:"small"}),o.jsx(FS,{type:"secondary",children:"加载中..."})]}):s.length>0?o.jsx(rl,{width:"100%",height:"100%",children:o.jsxs(MS,{data:s,margin:{top:10,right:10,left:10,bottom:10},children:[o.jsx(Xw,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(OO,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#666"}}),o.jsx(DO,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#666"},tickFormatter:e=>a(e,!1)}),o.jsx(Ka,{content:({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:n}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#1677ff"},children:"应发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.grossSalary,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#52c41a"},children:"实发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.netSalary,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#ff7875"},children:"扣发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.deductions,!0)})]}),e.employeeCount>0&&o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.employeeCount,"人"]})]})]})}return null}}),o.jsx(fO,{type:"monotone",dataKey:"grossSalary",stroke:"#1677ff",strokeWidth:1.5,dot:{r:2,fill:"#1677ff"},activeDot:{r:4,fill:"#1677ff"}}),o.jsx(fO,{type:"monotone",dataKey:"netSalary",stroke:"#52c41a",strokeWidth:1.5,dot:{r:2,fill:"#52c41a"},activeDot:{r:4,fill:"#52c41a"}}),o.jsx(fO,{type:"monotone",dataKey:"deductions",stroke:"#ff7875",strokeWidth:1.5,dot:!1,activeDot:{r:4,fill:"#ff7875"}})]})}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(te,{className:"empty-icon"}),o.jsx(FS,{type:"secondary",children:"暂无数据"})]})}),o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"summary-row",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(FS,{className:"summary-label",children:"范围"}),o.jsx(FS,{className:"summary-value",children:u.length>0?`${c}/${u.length}月`:"-"})]}),o.jsx("div",{className:"summary-action",children:o.jsx("button",{type:"button",className:"export-button",onClick:n,title:"导出数据",children:o.jsx(ne,{className:"export-icon"})})})]})})]})};class US extends It.Component{constructor(e){super(e),t(this,"handleRetry",(()=>{this.setState({hasError:!1,error:void 0})})),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{style:{padding:"24px",background:"#fff",border:"1px solid #f0f0f0",borderRadius:"8px",textAlign:"center"},children:o.jsx(ae,{icon:o.jsx(le,{style:{color:"#ff4d4f"}}),title:"指标卡加载失败",subTitle:"组件渲染出现错误",extra:o.jsx(Q,{type:"primary",size:"small",onClick:this.handleRetry,children:"重试"})})}):this.props.children}}const{Title:WS}=V,VS=({title:e="关键指标概览",periodId:t,departmentCostData:n=[],totalCost:i=0,totalDeductions:a=0,totalNetPay:l=0,departmentCostLoading:s=!1,employeeTypeData:c=[],totalEmployees:u=0,employeeTypeLoading:d=!1,salaryTrendData:f=[],salaryTrendLoading:p=!1,onViewDetails:h,onDepartmentClick:y,onEmployeeTypeClick:m,onExportTrend:v})=>{const[g,b]=It.useState(!1),[x,j]=It.useState(!1),w=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},O=e=>{try{null==y||y(e)}catch(t){}},S=e=>{try{null==m||m(e)}catch(t){}},_=()=>{try{null==v||v()}catch(e){}},P=()=>o.jsxs("div",{className:"metrics-container",children:[o.jsx("div",{className:"metric-column",children:o.jsx(US,{children:o.jsx(BS,{data:n,totalCost:w(i,0),totalDeductions:w(a,0),totalNetPay:w(l,0),loading:s,onDepartmentClick:O})})}),o.jsx("div",{className:"metric-column",children:o.jsx(US,{children:o.jsx(LS,{data:c,totalEmployees:w(u,0),loading:d,periodId:t,onTypeClick:S})})}),o.jsx("div",{className:"metric-column",children:o.jsx(US,{children:o.jsx($S,{data:f,loading:p,onExport:_})})})]});return o.jsxs(o.Fragment,{children:[o.jsxs(se,{className:"combined-metrics-card",children:[o.jsxs("div",{className:"metrics-header",children:[o.jsxs("div",{className:"metrics-title-wrapper",children:[o.jsx(ce,{className:"metrics-icon"}),o.jsx(WS,{level:5,className:"metrics-title",children:e})]}),o.jsx("div",{className:"metrics-controls",children:o.jsxs(ue,{children:[o.jsx("button",{type:"button",className:"control-button",onClick:()=>{j(!x)},title:x?"展开":"收起",children:x?o.jsx(de,{}):o.jsx(fe,{})}),o.jsx("button",{type:"button",className:"control-button",onClick:()=>{b(!0)},title:"弹出查看",children:o.jsx(pe,{})}),o.jsx("button",{type:"button",className:"control-button",onClick:()=>{try{null==h||h()}catch(e){}},title:"查看详情",children:o.jsx(de,{})})]})})]}),!x&&P()]}),o.jsx(r,{title:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ce,{}),o.jsx("span",{children:e})]}),open:g,onCancel:()=>{b(!1)},footer:null,width:"90vw",style:{top:20},styles:{body:{padding:"16px"}},destroyOnClose:!0,children:o.jsx("div",{style:{minHeight:"30vh"},children:P()})})]})},qS=({selectedVersionId:e,currentPeriod:t,currentVersion:r,versions:a,payrollStats:l,dataIntegrityStats:s,auditSummary:c,auditLoading:u,resetLoadingStates:d})=>{const[f,p]=It.useState([]),[h,y]=It.useState([]),[m,v]=It.useState([]),[g,b]=It.useState(new Map),[x,j]=It.useState({departmentCost:!1,employeeType:!1,salaryTrend:!1,monthlyData:!1}),w=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],O={regular:"#3b82f6",contract:"#f59e0b",intern:"#10b981",consultant:"#ef4444",default:"#8b5cf6"},S=async e=>{var t;if(e){j((e=>({...e,employeeType:!0})));try{const r=await Lt.getEmployeeTypeAnalysis(e);if(r.data&&(null==(t=r.data.employee_types)?void 0:t.length)>0){const e=r.data.employee_types.map(((e,t)=>{const n=e.type_name.includes("正编")?"regular":e.type_name.includes("聘用")?"contract":e.type_name.includes("实习")?"intern":e.type_name.includes("顾问")?"consultant":"default",r=Number(e.avg_salary||0),i=Number(e.total_cost||0);return{typeId:e.personnel_category_id||0,typeName:e.type_name,employeeCount:e.employee_count||0,percentage:e.percentage||0,avgSalary:r,totalCost:i,previousCount:e.previous_count||e.employee_count,countChange:e.count_change||0,newHires:e.new_hires||0,departures:e.departures||0,color:O[n]||O.default,details:{senior:Math.round(.2*(e.employee_count||0)),middle:Math.round(.5*(e.employee_count||0)),junior:Math.round(.3*(e.employee_count||0))}}}));y(e)}else y([]),n.warning("暂无员工编制数据")}catch(r){y([])}finally{j((e=>({...e,employeeType:!1})))}}};It.useEffect((()=>{e&&t?((async e=>{var t;if(e){j((e=>({...e,departmentCost:!0})));try{const n=await Lt.getDepartmentCostAnalysis(e);if(n.data&&(null==(t=n.data.departments)?void 0:t.length)>0){const e=n.data.departments.map(((e,t)=>({departmentId:e.department_id||t+1,departmentName:e.department_name,currentCost:Number(e.current_cost)||0,currentDeductions:Number(e.current_deductions)||0,currentNetPay:Number(e.current_net_pay)||0,previousCost:Number(e.previous_cost)||0,previousDeductions:Number(e.previous_deductions)||0,previousNetPay:Number(e.previous_net_pay)||0,employeeCount:e.employee_count||0,avgCostPerEmployee:Number(e.avg_cost_per_employee)||0,avgDeductionsPerEmployee:Number(e.avg_deductions_per_employee)||0,avgNetPayPerEmployee:Number(e.avg_net_pay_per_employee)||0,percentage:e.percentage||0,costChange:e.cost_change?Number(e.cost_change):void 0,costChangeRate:e.cost_change_rate?Number(e.cost_change_rate):void 0,netPayChange:e.net_pay_change?Number(e.net_pay_change):void 0,netPayChangeRate:e.net_pay_change_rate?Number(e.net_pay_change_rate):void 0,color:w[t%w.length]})));p(e)}else p([])}catch(n){p([])}finally{j((e=>({...e,departmentCost:!1})))}}})(t.id),S(t.id),(async()=>{var e;j((e=>({...e,salaryTrend:!0})));try{const t=await Lt.getSalaryTrendAnalysis(12);if(t.data&&(null==(e=t.data.data_points)?void 0:e.length)>0){const e=t.data.data_points||[];if(e.length>0){const t=[...e.map((e=>{const t="string"==typeof e.gross_salary?parseFloat(e.gross_salary):"number"==typeof e.gross_salary?e.gross_salary:0,n="string"==typeof e.deductions?parseFloat(e.deductions):"number"==typeof e.deductions?e.deductions:0,r="string"==typeof e.net_salary?parseFloat(e.net_salary):"number"==typeof e.net_salary?e.net_salary:0;return{month:e.year_month,monthLabel:i(e.year_month).format("M月"),grossSalary:t,deductions:n,netSalary:r,employeeCount:e.employee_count||0,avgGrossSalary:Number(e.avg_gross_salary)||0,avgNetSalary:Number(e.avg_net_salary)||0}}))].sort(((e,t)=>{const n=e.month?new Date(e.month):new Date(0),r=t.month?new Date(t.month):new Date(0);return n.getTime()-r.getTime()}));v(t)}else v([]),n.warning("暂无工资趋势数据")}else v([]),n.warning("暂无工资趋势数据")}catch(t){n.error("获取工资趋势数据失败"),v([])}finally{j((e=>({...e,salaryTrend:!1})))}})()):(p([]),y([]),v([]))}),[e,null==t?void 0:t.id]),It.useEffect((()=>{(async()=>{j((e=>({...e,monthlyData:!0})));try{const e=i(),t=e.year()-2,n=e.year()+1,r=await Lt.getMonthlySummary(t,n),o=new Map;r.data&&r.data.forEach((e=>{const t=`${e.year}-${e.month}`;o.set(t,e)})),b(o)}catch(e){}finally{j((e=>({...e,monthlyData:!1})))}})(),"undefined"!=typeof window&&(window.debugPayrollStats={getCurrentPeriod:()=>t,getSelectedVersionId:()=>e,getEmployeeTypeData:()=>h,getDepartmentCostData:()=>f,getPayrollStats:()=>l,getLoadingStates:()=>x,testFetchEmployeeTypeData:e=>S(e),testPersonnelCategoryStats:async e=>{try{return await Lt.getPersonnelCategoryStats(e)}catch(t){return null}}})}),[]);return e?o.jsxs("div",{className:"enhanced-payroll-statistics",children:[o.jsx("div",{className:"stats-grid sticky-stats",children:o.jsx(he.Group,{title:o.jsxs(ue,{children:[o.jsx(q,{}),o.jsxs("span",{className:"typography-title-tertiary",children:[(null==t?void 0:t.name)||""," 工资统计概览"]})]}),extra:null,loading:l.loading,style:{marginBottom:6},children:o.jsxs(ye,{gutter:[8,8],justify:"space-between",align:"stretch",children:[o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"工资记录数量",value:l.recordCount,suffix:"条",valueStyle:{color:"#722ed1"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["社保: ",o.jsx("span",{style:{color:((null==s?void 0:s.socialInsuranceBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==s?void 0:s.socialInsuranceBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["公积金: ",o.jsx("span",{style:{color:((null==s?void 0:s.housingFundBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==s?void 0:s.housingFundBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["职业年金: ",o.jsx("span",{style:{color:((null==s?void 0:s.occupationalPensionBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==s?void 0:s.occupationalPensionBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["个税>0: ",o.jsx("span",{style:{color:((null==s?void 0:s.incomeTaxPositiveCount)||0)>0?"#52c41a":"#fa8c16"},children:(null==s?void 0:s.incomeTaxPositiveCount)||0})]})]}),loading:l.loading||(null==s?void 0:s.loading)||!1})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"财务信息",value:l.totalNetPay,precision:2,prefix:"¥",valueStyle:{color:"#52c41a",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["应发: ",o.jsxs("span",{style:{color:"#52c41a",fontWeight:"bold"},children:["¥",l.totalGrossPay.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["扣发: ",o.jsxs("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:["¥",l.totalDeductions.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["平均: ",o.jsxs("span",{style:{fontWeight:"bold"},children:["¥",l.recordCount>0?(l.totalNetPay/l.recordCount).toFixed(0):"0"]})]})]})})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"版本状态",value:(null==r?void 0:r.status_name)||"-",valueStyle:{color:"草稿"===(null==r?void 0:r.status_name)?"#fa8c16":"已计算"===(null==r?void 0:r.status_name)?"#1890ff":"已审核"===(null==r?void 0:r.status_name)?"#52c41a":"已支付"===(null==r?void 0:r.status_name)?"#722ed1":"#8c8c8c"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["创建: ",r?i(r.initiated_at).format("MM-DD HH:mm"):"-"]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["创建人: ",(null==r?void 0:r.initiated_by_username)||"-"]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["频率: ",(null==t?void 0:t.frequency_name)||"-"]})]})})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"审核状态",value:c?c.error_count-(c.manually_ignored_count||0)>0?"有异常":"通过":u?"检查中":"待审核",valueStyle:{color:c?c.error_count-(c.manually_ignored_count||0)>0?"#ff4d4f":"#52c41a":u?"#1890ff":"#fa8c16"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["错误: ",o.jsxs("span",{style:{color:((null==c?void 0:c.error_count)||0)>0?"#ff4d4f":"#52c41a"},children:[(null==c?void 0:c.error_count)||0," 个"]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["警告: ",o.jsxs("span",{style:{color:((null==c?void 0:c.warning_count)||0)>0?"#fa8c16":"#52c41a"},children:[(null==c?void 0:c.warning_count)||0," 个"]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["可修复: ",o.jsxs("span",{style:{color:((null==c?void 0:c.auto_fixable_count)||0)>0?"#1890ff":"#52c41a"},children:[(null==c?void 0:c.auto_fixable_count)||0," 个"]})]})]})})})]})})}),e&&o.jsxs(o.Fragment,{children:[null,o.jsx(VS,{title:"关键指标概览",periodId:null==t?void 0:t.id,departmentCostData:f,totalCost:l.totalGrossPay||0,totalDeductions:l.totalDeductions||0,totalNetPay:l.totalNetPay||0,departmentCostLoading:x.departmentCost,employeeTypeData:h,totalEmployees:l.recordCount||0,employeeTypeLoading:x.employeeType,salaryTrendData:m,salaryTrendLoading:x.salaryTrend,onViewDetails:()=>{},onDepartmentClick:e=>{},onEmployeeTypeClick:e=>{},onExportTrend:()=>{}})]})]}):null},{Option:HS}=Ce,GS=({visible:e,onClose:t,onSuccess:i})=>{const{t:a}=Wt(["employeeManagement","common"]),[l]=Pe.useForm(),[s,c]=It.useState(!1),[u,d]=It.useState(!1),[f,p]=It.useState([]),[h,y]=It.useState([]),[m,v]=It.useState([]),[g,b]=It.useState([]),[x,j]=It.useState([]),[w,O]=It.useState([]);zt.useEffect((()=>{if(e){(async()=>{c(!0);try{const[e,t,n,r,i,o]=await Promise.all([Vt.getDepartments(),Vt.getPersonnelCategories(),Vt.getPositions(),Vt.getLookupValues("JOB_POSITION_LEVEL"),Vt.getLookupValues("GENDER"),Vt.getLookupValues("EMPLOYEE_STATUS")]);p(e),y(t),v(n),b(r),j(i),O(o)}catch(e){n.error("加载选项失败")}finally{c(!1)}})()}}),[e]);return o.jsx(r,{title:"快速添加员工",open:e,onCancel:t,width:600,footer:[o.jsx(Q,{onClick:t,children:"取消"},"cancel"),o.jsx(Q,{type:"primary",loading:u,onClick:async()=>{try{const e=await l.validateFields();d(!0);const r={first_name:e.first_name,last_name:e.last_name,employee_code:e.employee_code,gender_lookup_value_id:e.gender_lookup_value_id,hire_date:e.hire_date?e.hire_date.format("YYYY-MM-DD"):void 0,department_id:e.department_id,personnel_category_id:e.personnel_category_id,actual_position_id:e.actual_position_id,job_position_level_lookup_value_id:e.job_position_level_lookup_value_id,status_lookup_value_id:e.status_lookup_value_id,email:e.email,phone_number:e.phone_number,is_active:!0};await Vt.createEmployee(r),n.success("员工创建成功"),l.resetFields(),i(),t()}catch(e){n.error("创建员工失败："+(e.message||"未知错误"))}finally{d(!1)}},children:"创建员工"},"submit")],children:o.jsx(W,{spinning:s,children:o.jsxs(Pe,{form:l,layout:"vertical",initialValues:{is_active:!0},children:[o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"last_name",label:"姓",rules:[{required:!0,message:"请输入姓"}],children:o.jsx(Ae,{placeholder:"请输入姓"})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"first_name",label:"名",rules:[{required:!0,message:"请输入名"}],children:o.jsx(Ae,{placeholder:"请输入名"})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"employee_code",label:"员工编号",children:o.jsx(Ae,{placeholder:"请输入员工编号"})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"gender_lookup_value_id",label:"性别",rules:[{required:!0,message:"请选择性别"}],children:o.jsx(Ce,{placeholder:"请选择性别",loading:s,children:x.map((e=>o.jsx(HS,{value:e.id,children:e.label},e.id)))})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"email",label:"邮箱",rules:[{type:"email",message:"请输入有效的邮箱地址"}],children:o.jsx(Ae,{placeholder:"请输入邮箱"})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"phone_number",label:"电话号码",children:o.jsx(Ae,{placeholder:"请输入电话号码"})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"hire_date",label:"入职日期",rules:[{required:!0,message:"请选择入职日期"}],children:o.jsx(Ee,{style:{width:"100%"},placeholder:"请选择入职日期"})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"department_id",label:"部门",children:o.jsx(Ce,{placeholder:"请选择部门",loading:s,onChange:async e=>{try{const t=await Vt.getPersonnelCategories(e);y(t),l.setFieldValue("personnel_category_id",void 0)}catch(t){}},children:f.map((e=>o.jsx(HS,{value:e.id,children:e.name},e.id)))})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"personnel_category_id",label:"人员身份",children:o.jsx(Ce,{placeholder:"请选择人员身份",loading:s,children:h.map((e=>o.jsx(HS,{value:e.id,children:e.name},e.id)))})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"actual_position_id",label:"实际任职",children:o.jsx(Ce,{placeholder:"请选择实际任职",loading:s,children:m.map((e=>o.jsx(HS,{value:e.id,children:e.name},e.id)))})})})]}),o.jsx(ye,{gutter:16,children:o.jsx(me,{span:24,children:o.jsx(Pe.Item,{name:"job_position_level_lookup_value_id",label:"职务级别",children:o.jsx(Ce,{placeholder:"请选择职务级别",loading:s,children:g.map((e=>o.jsx(HS,{value:e.id,children:e.label},e.id)))})})})}),o.jsx(ye,{gutter:16,children:o.jsx(me,{span:24,children:o.jsx(Pe.Item,{name:"status_lookup_value_id",label:"员工状态",rules:[{required:!0,message:"请选择员工状态"}],children:o.jsx(Ce,{placeholder:"请选择员工状态",loading:s,children:w.map((e=>o.jsx(HS,{value:e.id,children:e.label},e.id)))})})})})]})})})},YS=({selectedPeriodId:e,selectedVersionId:t,handleNavigateToBulkImport:i,handleImportTaxData:a,setPayrollDataModalVisible:l,onRefresh:s,onRefreshAfterDelete:c})=>{const{t:u}=Wt(["simplePayroll","common"]),[d,f]=It.useState({}),[p,h]=It.useState(!1),[y,m]=It.useState(!1);return e?o.jsxs(ge,{title:o.jsxs(ue,{children:[o.jsx(_e,{}),u("simplePayroll:quickActions.title")]}),bordered:!0,style:{marginBottom:16},bodyStyle:{padding:"12px"},children:[o.jsxs(ue,{direction:"vertical",style:{width:"100%"},size:"small",children:[o.jsx(Q,{onClick:()=>l(!0),block:!0,size:"middle",icon:o.jsx(be,{}),disabled:!t,children:"浏览工资数据"}),o.jsx(Q,{onClick:i,block:!0,size:"middle",icon:o.jsx(xe,{}),children:u("simplePayroll:quickActions.bulkImport")}),o.jsx(Q,{onClick:async()=>{e?r.confirm({title:"复制上月数据",icon:o.jsx(je,{style:{color:"#1890ff"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("p",{children:"请选择要复制的数据类型："}),o.jsxs(Pe,{layout:"vertical",children:[o.jsx(Pe.Item,{children:o.jsx(ke,{defaultChecked:!0,children:"工资记录"})}),o.jsx(Pe.Item,{children:o.jsx(ke,{defaultChecked:!0,children:"缴费基数（社保、公积金、职业年金）"})})]}),o.jsx("p",{style:{marginTop:8,fontSize:"12px",color:"#666"},children:"将从上月复制选中的数据到当前期间"})]}),okText:"确认复制",cancelText:"取消",onOk:async()=>{var t,i,a,l,c,u,d,p,h,y,m,v,g,b,x,j;const w=document.querySelectorAll(".ant-modal-content .ant-checkbox-wrapper"),O=!1!==(null==(i=null==(t=w[0])?void 0:t.querySelector("input"))?void 0:i.checked),S=!1!==(null==(l=null==(a=w[1])?void 0:a.querySelector("input"))?void 0:l.checked);if(!O&&!S)return void n.warning("请至少选择一种数据类型进行复制");let _=null,P=null;try{f((e=>({...e,copy_payroll_entries:O,copy_base_amounts:S})));const t=(await Lt.getPayrollPeriods({})).data;if(_=t.find((t=>t.id===e)),!_)return void n.error("无法找到当前期间信息");if(O){const t=await Lt.checkExistingData(e);if(t.data.summary.total_payroll_entries>0){const e=t.data.summary;return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间已有工资记录"}),o.jsxs("div",{children:["📋 期间：",_.name]}),o.jsxs("div",{children:["👥 工资记录：",e.total_payroll_entries," 条"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"请先删除现有工资记录或选择其他期间"})]}),duration:8})}}if(S){const t=await Lt.checkExistingInsuranceBase(e);if(t.data.has_insurance_base_data){const e=t.data.base_configs;return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间已有缴费基数配置"}),o.jsxs("div",{children:["📋 期间：",_.name]}),o.jsxs("div",{children:["👥 涉及员工：",e.unique_employees," 人"]}),e.employees_with_social_base>0&&o.jsxs("div",{children:["🏥 有社保基数：",e.employees_with_social_base," 人"]}),e.employees_with_housing_base>0&&o.jsxs("div",{children:["🏠 有公积金基数：",e.employees_with_housing_base," 人"]}),e.employees_with_occupational_pension_base>0&&o.jsxs("div",{children:["💰 有职业年金基数：",e.employees_with_occupational_pension_base," 人"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:t.data.recommendation.message})]}),duration:8})}}const r=e=>{let t=e.match(/(\d{4})年(\d{1,2})月/);if(t){return{year:parseInt(t[1]),month:parseInt(t[2])}}if(t=e.match(/(\d{4})-(\d{1,2})/),t){return{year:parseInt(t[1]),month:parseInt(t[2])}}return null},i=t.filter((e=>{const t=r(_.name),n=r(e.name);return!(!t||!n)&&(n.year<t.year||n.year===t.year&&n.month<t.month)})).sort(((e,t)=>{const n=r(e.name),i=r(t.name);return n&&i?n.year!==i.year?i.year-n.year:i.month-n.month:0}));if(0===i.length)return void n.warning("没有找到更早的期间，无法复制工资记录");P=i[0];let a=!1,l=!1;if(O){const t=await Lt.copyPreviousPayroll({target_period_id:e,source_period_id:P.id,description:`复制 ${P.name} 工资记录到 ${_.name}`,force_overwrite:!1});t.data?(a=!0,S||n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 工资记录复制成功"}),o.jsxs("div",{children:["📋 从 ",P.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 运行ID: ",t.data.id]}),o.jsxs("div",{children:["📊 版本: ",t.data.version_number]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"薪资条目记录已复制，可以运行计算引擎"})]}),duration:6})):n.error("复制工资记录失败")}if(S)try{const t=await Lt.copyInsuranceBaseAmounts({source_period_id:P.id,target_period_id:e});t.data&&t.data.success?(l=!0,O||n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 缴费基数复制成功"}),o.jsxs("div",{children:["📋 从 ",P.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 新建: ",t.data.copied_count," 条"]}),o.jsxs("div",{children:["🔄 更新: ",t.data.updated_count," 条"]}),o.jsxs("div",{children:["⏭ 跳过: ",t.data.skipped_count," 条"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"})]}),duration:6})):n.error("复制缴费基数失败")}catch(k){const e=(null==(d=null==(u=null==(c=null==k?void 0:k.response)?void 0:c.data)?void 0:u.detail)?void 0:d.message)||(null==k?void 0:k.message)||"复制缴费基数失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 复制缴费基数失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}a&&l&&n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 数据复制成功"}),o.jsxs("div",{children:["📋 从 ",P.name," 复制到 ",_.name]}),o.jsx("div",{children:"✅ 工资记录和缴费基数已成功复制"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"}),o.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"现在可以运行计算引擎"})]}),duration:6}),null==s||s()}catch(A){if((409===(null==(p=A.response)?void 0:p.status)||422===(null==(h=A.response)?void 0:h.status))&&"CONFIRMATION_REQUIRED"===(null==(g=null==(v=null==(m=null==(y=A.response)?void 0:y.data)?void 0:m.detail)?void 0:v.error)?void 0:g.code)){const t=A.response.data.detail.error.existing_data;return void r.confirm({title:"目标期间已有数据",content:o.jsxs("div",{children:[o.jsxs("p",{children:["期间 ",o.jsx("strong",{children:t.target_period_name})," 已有数据："]}),o.jsxs("ul",{children:[o.jsxs("li",{children:["工资运行: ",t.summary.total_payroll_runs," 个"]}),o.jsxs("li",{children:["工资条目: ",t.summary.total_payroll_entries," 条"]}),o.jsxs("li",{children:["薪资配置: ",t.summary.total_salary_configs," 条"]})]}),o.jsx("p",{children:"是否要强制覆盖现有数据？"})]}),okText:"强制覆盖",cancelText:"取消",onOk:async()=>{var t,r,i;try{f((e=>({...e,copy_payroll_entries:!0})));const t=await Lt.copyPreviousPayroll({target_period_id:e,source_period_id:P.id,description:`复制 ${P.name} 工资记录到 ${_.name}`,force_overwrite:!0});t.data&&(n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 工资记录复制成功（已覆盖）"}),o.jsxs("div",{children:["📋 从 ",P.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 运行ID: ",t.data.id]}),o.jsxs("div",{children:["📊 条目数: ",t.data.total_entries]})]}),duration:6}),null==s||s())}catch(a){const e=(null==(i=null==(r=null==(t=null==a?void 0:a.response)?void 0:t.data)?void 0:r.detail)?void 0:i.message)||(null==a?void 0:a.message)||"强制覆盖失败";n.error(`强制覆盖失败: ${e}`)}finally{f((e=>({...e,copy_payroll_entries:!1})))}}})}const t=null==(x=null==(b=null==A?void 0:A.response)?void 0:b.data)?void 0:x.detail;let i="复制工资记录失败",a="";t?t.error?(i=t.error.message||i,a=t.error.details||""):t.message&&(i=t.message,a=t.details||""):(null==A?void 0:A.message)&&(i=A.message),n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 复制工资记录失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i}),a&&o.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"2px"},children:a}),o.jsxs("div",{style:{fontSize:"11px",color:"#999",marginTop:"2px"},children:["状态码: ",(null==(j=null==A?void 0:A.response)?void 0:j.status)||"Unknown"]})]}),duration:8})}finally{f((e=>({...e,copy_payroll_entries:!1,copy_base_amounts:!1})))}}}):n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(je,{}),loading:d.copy_payroll_entries,children:u("simplePayroll:quickActions.copyLastMonth")}),o.jsx(Q,{onClick:()=>{m(!0)},block:!0,size:"middle",icon:o.jsx(we,{}),children:u("simplePayroll:quickActions.addEmployee")}),o.jsx(Q,{onClick:()=>{e?h(!0):n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(Oe,{}),children:u("simplePayroll:quickActions.addPayrollRecord")}),o.jsx(Q,{onClick:async()=>{if(e)try{const t=(await Lt.getPayrollPeriods({})).data.find((t=>t.id===e));if(!t)return void n.error("无法找到当前期间信息");const i=await Lt.checkExistingData(e),a=i.data.summary.total_payroll_entries>0||i.data.summary.total_payroll_runs>0,l=await Lt.checkExistingInsuranceBase(e),c=l.data.has_insurance_base_data;if(!a&&!c)return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间无数据"}),o.jsxs("div",{children:["📋 期间：",t.name]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"当前期间没有薪资数据或缴费基数，无需删除"})]}),duration:6});r.confirm({title:"🔥 删除本月数据",icon:o.jsx(Se,{style:{color:"#ff4d4f"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("div",{style:{marginBottom:"16px"},children:o.jsx("strong",{children:"⚠️ 请选择要删除的数据类型："})}),o.jsxs(Pe,{layout:"vertical",children:[a&&o.jsx(Pe.Item,{children:o.jsxs(ke,{defaultChecked:!0,children:[o.jsx("span",{children:"工资记录"}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginLeft:"24px"},children:["包括工资运行批次 ",i.data.summary.total_payroll_runs," 个， 薪资条目记录 ",i.data.summary.total_payroll_entries," 条"]})]})}),c&&o.jsx(Pe.Item,{children:o.jsxs(ke,{defaultChecked:!0,children:[o.jsx("span",{children:"缴费基数数据"}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginLeft:"24px"},children:["包括 ",l.data.base_configs.unique_employees," 名员工的社保、公积金、职业年金基数"]})]})})]}),o.jsxs("div",{style:{backgroundColor:"#fff1f0",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:[o.jsx("div",{style:{color:"#cf1322",fontWeight:"bold"},children:"⚠️ 此操作不可撤销！"}),o.jsx("div",{style:{color:"#cf1322",fontSize:"12px"},children:"所有相关数据将被永久删除"})]})]}),okText:"确认删除",cancelText:"取消",okType:"danger",width:500,onOk:async()=>{var r,i,l,u,d,p,h,y,m,v,g;const b=document.querySelectorAll(".ant-modal-content .ant-checkbox-wrapper");let x=!1,j=!1;if(a&&c?(x=!1!==(null==(i=null==(r=b[0])?void 0:r.querySelector("input"))?void 0:i.checked),j=!1!==(null==(u=null==(l=b[1])?void 0:l.querySelector("input"))?void 0:u.checked)):a?x=!1!==(null==(p=null==(d=b[0])?void 0:d.querySelector("input"))?void 0:p.checked):c&&(j=!1!==(null==(y=null==(h=b[0])?void 0:h.querySelector("input"))?void 0:y.checked)),x||j)try{f((e=>({...e,delete_month_data:!0})));let r=[];if(j&&c)try{await Lt.deleteInsuranceBaseForPeriod(e);r.push("缴费基数数据")}catch(w){throw w}if(x&&a)try{await Lt.deletePayrollDataForPeriod(e);r.push("工资记录")}catch(w){throw w}n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 删除成功"}),o.jsxs("div",{children:["📋 期间 ",t.name," 的数据已被删除"]}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:["已删除：",r.join("、")]})]}),duration:6}),setTimeout((()=>{s&&s()}),1e3)}catch(w){const e=(null==(g=null==(v=null==(m=null==w?void 0:w.response)?void 0:m.data)?void 0:v.detail)?void 0:g.message)||(null==w?void 0:w.message)||"删除失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 删除失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:8})}finally{f((e=>({...e,delete_month_data:!1})))}else n.warning("请至少选择一种数据类型进行删除")}})}catch(t){n.error("检查数据时出错，请稍后重试")}else n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(Se,{}),loading:d.delete_month_data,danger:!0,children:"删除本月数据"})]}),o.jsx(Ft,{visible:p,payrollPeriodId:e||null,payrollRunId:t||null,entry:null,onClose:()=>h(!1),onSuccess:()=>{h(!1),null==s||s()}}),o.jsx(GS,{visible:y,onClose:()=>m(!1),onSuccess:()=>{m(!1),n.success("员工创建成功，您现在可以为该员工创建工资记录")}})]}):null},XS=()=>{const{t:e}=Wt(["simplePayroll"]);return o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:o.jsx(Te,{})}),o.jsx("h2",{className:"empty-title",children:e("simplePayroll:emptyState.title","请先选择工资期间")}),o.jsx("p",{className:"empty-description",children:e("simplePayroll:emptyState.message","选择一个工资期间后，您可以开始创建和管理工资数据。")}),o.jsxs("div",{className:"empty-actions",children:[o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),className:"modern-button variant-primary size-md",children:"创建新期间"}),o.jsx(Q,{icon:o.jsx(Ne,{}),className:"modern-button variant-secondary size-md",children:"导入数据"})]})]})},{Step:KS}=He,{Title:ZS,Text:QS,Paragraph:JS}=V,{confirm:e_}=r,t_=({selectedVersion:e,selectedPeriod:t,auditSummary:i,onRefresh:a,onAuditRefresh:l,onVersionRefresh:s,onStepChange:c,onNavigateToBulkImport:u,onDeleteVersion:d})=>{const{t:f}=Wt(["simplePayroll","common"]),[p,h]=It.useState(0),[y,m]=It.useState({}),[v,g]=It.useState({}),[b,x]=It.useState(!1),[j,w]=It.useState([]),[O,S]=It.useState(!1),[_,P]=It.useState(null),[k,A]=It.useState(null),C=It.useCallback(((e,t)=>{m((n=>({...n,[e]:t})))}),[]);It.useEffect((()=>()=>{m({})}),[]);const E=async(e,t,r=3e4)=>{C(e,!0);const i=setTimeout((()=>{C(e,!1),n.error(`${e} 操作超时，请稍后重试`)}),r);try{await t(),clearTimeout(i)}catch(o){throw clearTimeout(i),o}finally{C(e,!1)}},T=async()=>{if(e){C("load_anomalies",!0);try{const t=await Lt.getAuditAnomalies({payroll_run_id:e.id,page:1,size:100});w(t.data||[]),x(!0)}catch(t){n.error("获取异常详情失败")}finally{C("load_anomalies",!1)}}},N=async()=>{e&&0!==j.length&&e_({title:"确认批量忽略",content:`确定要忽略所有 ${j.length} 个异常吗？此操作将允许进入下一步。`,onOk:async()=>{try{const e=j.map(((e,t)=>e.id||`temp_${t}`));await Lt.ignoreAnomalies({anomaly_ids:e,reason:"用户批量忽略"}),n.success("已批量忽略所有异常"),x(!1),(null==l?void 0:l())||a()}catch(e){n.error("批量忽略失败")}}})},M=e=>{switch(e){case"DRAFT":case"草稿":default:return 0;case"PRUN_CALCULATED":case"已计算":return 1;case"IN_REVIEW":case"审核中":return 2;case"APPROVED_FOR_PAYMENT":case"批准支付":return 3;case"PAID":case"已支付":return 4}};It.useEffect((()=>{if(e){const t=M(e.status_name);h(t)}}),[e]);const D=It.useCallback((async()=>{if(e)try{try{const t=await Lt.getAuditSummary(e.id);t.data&&t.data.total_entries}catch{}}catch(t){}}),[e]);It.useEffect((()=>{e&&"已计算"===e.status_name&&D()}),[e,D]);const I=async()=>{e&&await E("enter_audit",(async()=>{try{const t=await Lt.runAuditCheck(e.id),{updatePayrollRun:r}=await qt((async()=>{const{updatePayrollRun:e}=await import("./payroll-management-BhhUn9Iu.js").then((e=>e.K));return{updatePayrollRun:e}}),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));if(await r(e.id,{status_lookup_value_id:61}),t.data){const e=t.data;n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🔍 已进入审核检查阶段"}),o.jsxs("div",{children:["📊 检查条目: ",e.total_entries," 条"]}),o.jsxs("div",{children:["❌ 发现异常: ",e.total_anomalies," 个"]}),o.jsxs("div",{children:["🔴 错误: ",e.error_count," 个"]}),o.jsxs("div",{children:["🟡 警告: ",e.warning_count," 个"]}),e.auto_fixable_count>0&&o.jsxs("div",{children:["🔧 可自动修复: ",e.auto_fixable_count," 个"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"工作流已进入审核检查阶段，可以开始审核操作"})]}),duration:6})}else n.success("已进入审核检查阶段，可以开始审核操作");(null==s?void 0:s())||a(),null==c||c("audit_check")}catch(t){n.error("进入审核失败，请重试")}}))},R=async()=>{e&&await E("run_audit",(async()=>{const t=await Lt.runAuditCheck(e.id);if(t.data){const e=t.data;n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🔍 审核检查完成"}),o.jsxs("div",{children:["📊 检查条目: ",e.total_entries," 条"]}),o.jsxs("div",{children:["❌ 发现异常: ",e.total_anomalies," 个"]}),o.jsxs("div",{children:["🔴 错误: ",e.error_count," 个"]}),o.jsxs("div",{children:["🟡 警告: ",e.warning_count," 个"]}),e.auto_fixable_count>0&&o.jsxs("div",{children:["🔧 可自动修复: ",e.auto_fixable_count," 个"]})]}),duration:6})}else n.success("审核检查完成");(null==l?void 0:l())||a()}))},B=It.useCallback((async()=>{var r,i,l;if(e)try{S(!0),A(null),P({total:1,processed:0,current_employee:null,status:Gt.PREPARING,stage:"启动计算引擎",start_time:(new Date).toISOString()});const n=await Lt.runIntegratedCalculationEngine({payroll_run_id:e.id,calculation_period:null==t?void 0:t.start_date,recalculate_all:!0,include_social_insurance:!0}),r=async()=>{var e,t;try{const r={total_employees:(null==(t=null==(e=n.data)?void 0:e.calculation_summary)?void 0:t.total_employees)||50,processed:Math.floor(50*Math.random()),current_stage:"五险一金计算",status:"calculating"};P((e=>e?{...e,total:r.total_employees,processed:r.processed,stage:r.current_stage,status:Gt.CALCULATING,estimated_remaining_time:2*(r.total_employees-r.processed)}:null)),n.data&&setTimeout((()=>{var e,t,r,i,o,l,c,u,d,f,p,h,y,m,v,g,b,x,j,w;const O={success_count:(null==(e=n.data.calculation_summary)?void 0:e.successful_count)||0,error_count:(null==(t=n.data.calculation_summary)?void 0:t.failed_count)||0,total_processed:(null==(r=n.data.calculation_summary)?void 0:r.total_employees)||0,payroll_totals:{total_gross_pay:(null==(i=n.data.payroll_totals)?void 0:i.total_gross_pay)||0,total_deductions:(null==(o=n.data.payroll_totals)?void 0:o.total_deductions)||0,total_net_pay:(null==(l=n.data.payroll_totals)?void 0:l.total_net_pay)||0,total_employer_cost:(null==(c=n.data.payroll_totals)?void 0:c.total_employer_cost)||0},social_insurance_breakdown:{employee_totals:{social_insurance:(null==(d=null==(u=n.data.social_insurance_breakdown)?void 0:u.employee_totals)?void 0:d.social_insurance)||0,housing_fund:(null==(p=null==(f=n.data.social_insurance_breakdown)?void 0:f.employee_totals)?void 0:p.housing_fund)||0,total:(null==(y=null==(h=n.data.social_insurance_breakdown)?void 0:h.employee_totals)?void 0:y.total)||0},employer_totals:{social_insurance:(null==(v=null==(m=n.data.social_insurance_breakdown)?void 0:m.employer_totals)?void 0:v.social_insurance)||0,housing_fund:(null==(b=null==(g=n.data.social_insurance_breakdown)?void 0:g.employer_totals)?void 0:b.housing_fund)||0,total:(null==(j=null==(x=n.data.social_insurance_breakdown)?void 0:x.employer_totals)?void 0:j.total)||0}},cost_analysis:{social_cost_ratio:(null==(w=n.data.cost_analysis)?void 0:w.social_cost_ratio)||0},errors:n.data.errors||[],duration:15};A(O),P((e=>e?{...e,status:Gt.COMPLETED,processed:O.total_processed,current_employee:null}:null)),(null==s?void 0:s())||a()}),2e3)}catch(r){P((e=>e?{...e,status:Gt.FAILED}:null))}};setTimeout(r,1e3)}catch(c){P((e=>e?{...e,status:Gt.FAILED}:null));const e=(null==(l=null==(i=null==(r=null==c?void 0:c.response)?void 0:r.data)?void 0:i.detail)?void 0:l.message)||(null==c?void 0:c.message)||"计算引擎启动失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 集成计算引擎启动失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}}),[e,t,s,a]),z=It.useCallback((()=>{S(!1),P(null),A(null)}),[]),L=It.useCallback((()=>{B()}),[B]),F=async()=>{e&&e.id?t&&t.start_date?r.confirm({title:"运行计算引擎确认",icon:o.jsx(le,{style:{color:"#faad14"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("p",{children:o.jsx("strong",{children:"⚠️ 重要提示："})}),o.jsxs("div",{style:{marginLeft:16,marginTop:8},children:[o.jsx("p",{children:"1. 运行计算引擎将根据标准规则重新计算所有薪资项目"}),o.jsxs("p",{children:["2. ",o.jsx("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:"如果您之前手动调整过五险一金金额，计算后将被覆盖为标准金额"})]}),o.jsx("p",{children:"3. 包括社保、公积金和职业年金的个人和单位部分"})]}),o.jsx("div",{style:{backgroundColor:"#fffbe6",padding:12,marginTop:12,borderRadius:4},children:o.jsx("p",{style:{margin:0},children:"建议：如需保留手调金额，请在计算后重新进行调整"})})]}),okText:"确认运行",cancelText:"取消",onOk:async()=>{var r,i,l,c,u,d,f,p,h,y,m;A(null),P(null),C("run_calculation",!0);try{const h=await Lt.runIntegratedCalculationEngine({payroll_run_id:e.id,calculation_period:t.start_date,recalculate_all:!0,include_social_insurance:!0,async_mode:!1});if(h.data){const e=h.data.payroll_totals||{},t=h.data.social_insurance_breakdown||{employee_totals:{},employer_totals:{}},a=h.data.cost_analysis||{},s={success_count:h.data.success_count||0,error_count:h.data.error_count||0,total_processed:h.data.total_processed||0,payroll_totals:{total_gross_pay:e.total_gross_pay||0,total_deductions:e.total_deductions||0,total_net_pay:e.total_net_pay||0,total_employer_cost:e.total_employer_cost||0},social_insurance_breakdown:{employee_totals:{social_insurance:(null==(r=t.employee_totals)?void 0:r.social_insurance)||0,housing_fund:(null==(i=t.employee_totals)?void 0:i.housing_fund)||0,total:(null==(l=t.employee_totals)?void 0:l.total)||0},employer_totals:{social_insurance:(null==(c=t.employer_totals)?void 0:c.social_insurance)||0,housing_fund:(null==(u=t.employer_totals)?void 0:u.housing_fund)||0,total:(null==(d=t.employer_totals)?void 0:d.total)||0}},cost_analysis:{social_cost_ratio:a.social_cost_ratio||0},duration:0};A(s);const y=[];if(y.push(o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🎯 集成计算引擎执行完成"},"title")),void 0!==e.total_gross_pay&&y.push(o.jsxs("div",{children:["📊 应发: ¥",(e.total_gross_pay||0).toLocaleString()]},"gross")),void 0!==e.total_deductions){const n=(null==(f=t.employee_totals)?void 0:f.total)||0;y.push(o.jsxs("div",{children:["📉 扣发: ¥",(e.total_deductions||0).toLocaleString()," (含个人五险一金: ¥",n.toLocaleString(),")"]},"deductions"))}if(void 0!==e.total_net_pay&&y.push(o.jsxs("div",{children:["💰 实发: ¥",(e.total_net_pay||0).toLocaleString()]},"net")),void 0!==e.total_employer_cost){const n=(null==(p=t.employer_totals)?void 0:p.total)||0;y.push(o.jsxs("div",{children:["🏢 单位成本: ¥",(e.total_employer_cost||0).toLocaleString()," (含单位五险一金: ¥",n.toLocaleString(),")"]},"employer"))}void 0!==a.social_cost_ratio&&y.push(o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:["社保成本比例: ",(a.social_cost_ratio||0).toFixed(1),"%"]},"ratio")),y.push(o.jsx("div",{style:{fontSize:"12px",color:"#ff4d4f",marginTop:"8px"},children:"注：所有五险一金金额已按标准规则重新计算"},"reminder")),1===y.length&&y.push(o.jsx("div",{children:"✅ 计算完成，请查看工资数据"},"basic")),n.success({content:o.jsx("div",{children:y}),duration:8})}else{A({success_count:0,error_count:0,total_processed:0,payroll_totals:{total_gross_pay:0,total_deductions:0,total_net_pay:0,total_employer_cost:0},social_insurance_breakdown:{employee_totals:{social_insurance:0,housing_fund:0,total:0},employer_totals:{social_insurance:0,housing_fund:0,total:0}},cost_analysis:{social_cost_ratio:0},duration:0}),n.success("集成计算引擎执行完成")}(null==s?void 0:s())||a()}catch(v){A(null),P(null);const e=(null==(m=null==(y=null==(h=null==v?void 0:v.response)?void 0:h.data)?void 0:y.detail)?void 0:m.message)||(null==v?void 0:v.message)||"计算引擎执行失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 集成计算引擎执行失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}finally{C("run_calculation",!1)}}}):n.error("请先选择一个有效的工资期间"):n.error("请先选择一个有效的工资运行版本")},$=async()=>{e&&e_({title:"确认批准支付",content:"批准后将可以进行工资发放操作。确定要批准吗？",onOk:async()=>{C("approve_payment",!0);try{await Lt.updateAuditStatus({payroll_run_id:e.id,status:"APPROVED"}),n.success("已批准支付"),(null==s?void 0:s())||a()}catch{n.error("批准支付失败")}finally{C("approve_payment",!1)}}})},U=async()=>{e&&e_({title:"确认标记已支付",content:"确认工资已发放给员工？此操作不可撤销。",onOk:async()=>{C("mark_paid",!0);try{await Lt.updateAuditStatus({payroll_run_id:e.id,status:"APPROVED"}),n.success("已标记为已支付"),(null==s?void 0:s())||a()}catch{n.error("标记失败")}finally{C("mark_paid",!1)}}})},W=async()=>{if(!e)return;const t=M(e.status_name);let r="DRAFT",i="数据准备";1===t?(r="DRAFT",i="数据准备"):2===t||3===t?(r="PRUN_CALCULATED",i="审核检查"):4===t&&(r="APPROVED_FOR_PAYMENT",i="支付准备"),e_({title:"确认退回上一步",content:`确定要将工资运行退回到"${i}"阶段吗？`,onOk:async()=>{C("go_back_step",!0);try{await Lt.updateAuditStatus({payroll_run_id:e.id,status:r}),n.success(`已成功退回到"${i}"阶段`),(null==s?void 0:s())||a()}catch(t){n.error("退回上一步失败")}finally{C("go_back_step",!1)}}})},V=(e,t)=>{if(e<t)return"finish";if(e===t){if(1===e&&i){if(i.error_count-(i.manually_ignored_count||0)>0)return"error"}return"process"}return"wait"},q=(e,n)=>0===e?!!t:e<=n,G=e=>{if(1===e){if(!i)return!0;return i.error_count-(i.manually_ignored_count||0)<=0}return!0},Y=(()=>{const r=null==e?void 0:e.status_name,i=M(r);return[{key:"data_preparation",title:"数据准备",description:e?"导入和审核基础薪资数据":"选择期间后开始创建工资数据",icon:o.jsx(Ve,{}),status:e?V(0,i):t?"process":"wait",disabled:!q(0,i),actions:[{key:"run_calculation",label:"计算五险一金",type:"default",icon:o.jsx(Ue,{}),disabled:!e,loading:y.run_calculation,onClick:F},{key:"enter_audit",label:"进入审核",type:"primary",icon:o.jsx(We,{}),disabled:!e,loading:y.enter_audit,onClick:I}],requirements:["确保员工基础信息完整","薪资组件配置正确","考勤数据准确无误","完成工资计算"],tips:['💡 点击"进入审核"开始审核检查流程',"审核将检查工资数据的完整性和准确性","重点检查新入职和离职员工","🚀 集成计算引擎包含完整五险一金计算","📊 自动计算个人和单位扣缴，提供成本分析"]},{key:"audit_check",title:"审核检查",description:"执行自动审核和异常检测",icon:o.jsx(We,{}),status:V(1,i),disabled:!q(1,i),actions:[{key:"run_audit",label:"运行审核",type:"default",icon:o.jsx(We,{}),disabled:!q(1,i),loading:y.run_audit,onClick:R},{key:"go_back_step",label:"退回上一步",type:"default",danger:!0,icon:o.jsx(qe,{}),disabled:i<=0||!e,loading:y.go_back_step,onClick:W}],requirements:["所有数据完整性检查通过","计算规则验证无误","异常数据已处理或忽略"],tips:["审核异常必须全部处理完成才能进入下一步","可以选择忽略非关键警告","高级审核包含更详细的合规性检查"]},{key:"audit_approval",title:"审核批准",description:"等待管理员审核批准",icon:o.jsx(Me,{}),status:V(2,i),disabled:!q(2,i),actions:[{key:"reject_payroll",label:"拒绝并退回",type:"default",danger:!0,icon:o.jsx(le,{}),disabled:!q(2,i),loading:y.reject_payroll,onClick:()=>{e_({title:"确认拒绝",content:"拒绝后工资数据将退回到数据准备阶段，需要重新处理。确定要拒绝吗？",onOk:async()=>{C("reject_payroll",!0);try{await Lt.updateAuditStatus({payroll_run_id:(null==e?void 0:e.id)||0,status:"REJECTED"}),n.success("已拒绝，工资数据已退回"),(null==s?void 0:s())||a()}catch{n.error("拒绝操作失败")}finally{C("reject_payroll",!1)}}})}},{key:"approve_payment",label:"批准支付",type:"primary",icon:o.jsx(Me,{}),disabled:!q(2,i),loading:y.approve_payment,onClick:$}],requirements:["工资数据计算准确","审核检查已通过","所有异常已处理完毕","符合发放条件"],tips:["请仔细检查工资数据的准确性","确认符合公司薪资发放政策","批准后即可进行支付操作","如有问题可拒绝并退回修改"]},{key:"payment_preparation",title:"支付准备",description:"准备工资发放和银行文件",icon:o.jsx(H,{}),status:V(3,i),disabled:!q(3,i),actions:[{key:"revoke_approval",label:"撤销批准",type:"default",danger:!0,icon:o.jsx(le,{}),disabled:!q(3,i),loading:y.revoke_approval,onClick:()=>{e_({title:"确认撤销批准",content:"撤销后工资数据将退回到数据准备阶段，需要重新计算和审核。确定要撤销批准吗？",onOk:async()=>{C("revoke_approval",!0);try{await Lt.updateAuditStatus({payroll_run_id:(null==e?void 0:e.id)||0,status:"REJECTED"}),n.success("已撤销批准，工资数据已退回到数据准备阶段"),(null==s?void 0:s())||a()}catch{n.error("撤销批准失败")}finally{C("revoke_approval",!1)}}})}},{key:"mark_as_paid",label:"标记已支付",type:"primary",icon:o.jsx(Me,{}),disabled:!q(3,i),loading:y.mark_paid,onClick:U}],requirements:["工资已批准发放","一键生成所有报表","银行文件已生成","支付渠道已确认","员工账户信息正确"],tips:["先生成报表，包含工资明细、汇总、银行代发等","确认报表数据准确无误","支付完成后及时标记状态",'如发现问题可点击"撤销批准"回退重新计算',"保留支付凭证和报表备查"]},{key:"completion",title:"完成归档",description:"工资发放完成，生成报表归档",icon:o.jsx(Ve,{}),status:V(4,i),disabled:!q(4,i),actions:[{key:"generate_reports",label:"生成报表",type:"primary",icon:o.jsx(Ve,{}),disabled:!q(4,i),loading:y.generate_reports,onClick:()=>{n.info("报表生成功能开发中...")}},{key:"archive_data",label:"数据归档",type:"default",icon:o.jsx(Ve,{}),disabled:!q(4,i),loading:y.archive_data,onClick:()=>{n.info("数据归档功能开发中...")}}],requirements:["工资已成功发放","所有数据已确认","报表已生成","归档流程已完成"],tips:["生成必要的工资报表","保存重要数据备份","完成合规性归档","整个流程已结束"]}]})(),X=Y[p]||Y[0];return o.jsxs(se,{title:o.jsxs(ue,{children:[o.jsx($e,{style:{color:"#1890ff"}}),o.jsx("span",{className:"typography-title-tertiary",children:"智能流程引导"})]}),className:"workflow-guide-container",style:{height:"100%"},children:[o.jsxs("div",{className:"workflow-horizontal-layout",children:[o.jsx("div",{className:"workflow-steps-horizontal",children:o.jsx("div",{className:"steps-container",children:Y.map(((e,t)=>{const n=t===p;return o.jsxs("div",{className:`horizontal-step-card ${n?"active":""} \n                              ${"finish"===e.status?"completed":""} \n                              ${"error"===e.status?"error":""} \n                              ${e.disabled?"disabled":""}`,onClick:()=>!e.disabled&&(null==c?void 0:c(e.key)),children:[o.jsxs("div",{className:"step-header",children:[o.jsx("span",{className:"step-number",children:t+1}),o.jsx("span",{className:"step-icon",children:e.icon}),o.jsxs("div",{className:"step-status",children:["finish"===e.status&&o.jsx(Me,{style:{color:"#52c41a"}}),"process"===e.status&&o.jsx(De,{style:{color:"#1890ff"}}),"error"===e.status&&o.jsx(Ie,{style:{color:"#ff4d4f"}})]})]}),o.jsx("h3",{className:"step-title",children:e.title}),o.jsx("p",{className:"step-description",children:e.description}),t<Y.length-1&&o.jsx("div",{className:"step-connector",children:o.jsx(Re,{})})]},e.key)}))})}),o.jsxs("div",{className:"workflow-guide-detail",children:[i&&(1===p||2===p)&&o.jsx(Be,{message:o.jsxs(ue,{children:[o.jsx("span",{children:"审核状态："}),(()=>{const e=i.error_count-(i.manually_ignored_count||0);return o.jsxs(o.Fragment,{children:[o.jsx(ze,{color:e>0?"red":"green",children:e>0?"有异常":"正常"}),o.jsxs("span",{children:["异常: ",i.error_count]}),o.jsxs("span",{children:["已忽略: ",i.manually_ignored_count||0]}),o.jsxs("span",{children:["有效异常: ",e]}),o.jsxs("span",{children:["警告: ",i.warning_count]})]})})()]}),type:i.error_count-(i.manually_ignored_count||0)>0?"error":"success",style:{marginBottom:16},showIcon:!0}),o.jsxs(se,{className:"current-step-card",title:o.jsxs(ue,{children:[o.jsx("span",{className:"step-number",children:p+1}),X.icon,o.jsx("span",{className:"step-title",children:X.title}),"process"===X.status&&o.jsx(De,{style:{color:"#1890ff"}}),"error"===X.status&&o.jsx(Fe,{style:{color:"#ff4d4f"}})]}),extra:o.jsx(ue,{children:o.jsx(Le,{status:"finish"===X.status?"success":"process"===X.status?"processing":"error"===X.status?"error":"default",text:"finish"===X.status?"已完成":"process"===X.status?"进行中":"error"===X.status?"异常":"等待中"})}),bordered:!1,size:"small",style:{marginBottom:16,boxShadow:"0 2px 8px rgba(0,0,0,0.09)"},children:[o.jsxs("div",{className:"step-description-box",children:[o.jsx(J,{style:{marginRight:8,color:"#1890ff"}}),o.jsx(JS,{className:"step-description",children:X.description})]}),o.jsx("div",{className:"step-actions-container",children:o.jsxs("div",{className:"step-actions",children:[X.actions.map((e=>o.jsx(Q,{type:e.type,icon:e.icon,disabled:e.disabled,loading:e.loading,danger:e.danger,onClick:e.onClick,size:"small",className:"action-button",children:e.label},e.key))),1===p&&G(1)&&o.jsx(Q,{type:"primary",icon:o.jsx(Re,{}),loading:y.submit_review,onClick:async()=>{if(e){if(i){if(i.error_count-(i.manually_ignored_count||0)>0)return void n.error("请先解决所有审核异常后再提交审核")}e_({title:"确认提交审核",content:"提交后将进入审批流程，期间数据不可修改。确定要提交吗？",onOk:async()=>{C("submit_review",!0);try{await Lt.updateAuditStatus({payroll_run_id:e.id,status:"IN_REVIEW"}),n.success("已提交审核"),(null==s?void 0:s())||a()}catch{n.error("提交审核失败")}finally{C("submit_review",!1)}}})}},size:"small",className:"next-step-button",children:"提交审核"})]})})]}),2===p&&e&&o.jsxs(he.Group,{style:{marginBottom:16},children:[o.jsx(he,{statistic:{title:"审核状态",value:e.status_name,valueStyle:{color:"#1890ff"}},chart:o.jsx(ze,{color:"blue",children:e.status_name})}),o.jsx(he,{statistic:{title:"应发总额",value:e.total_gross_pay,precision:2,prefix:"¥",valueStyle:{color:"#52c41a"}}}),o.jsx(he,{statistic:{title:"扣发总额",value:e.total_deductions,precision:2,prefix:"¥",valueStyle:{color:"#ff4d4f"}}}),o.jsx(he,{statistic:{title:"实发总额",value:e.total_net_pay,precision:2,prefix:"¥",valueStyle:{color:"#1890ff",fontSize:"20px"}}})]}),1===p&&!G(1)&&o.jsx(Be,{message:"无法进入下一步",description:o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:8},children:(()=>{const e=i?i.error_count-(i.manually_ignored_count||0):0;return o.jsxs(o.Fragment,{children:["还有 ",o.jsx("strong",{style:{color:"#ff4d4f"},children:e})," 个审核异常需要处理",i&&i.manually_ignored_count>0&&o.jsxs("span",{style:{color:"#999",fontSize:"12px",marginLeft:"8px"},children:["(总计",i.error_count,"个，已忽略",i.manually_ignored_count,"个)"]})]})})()}),o.jsxs(ue,{children:[o.jsx(Q,{type:"primary",size:"small",icon:o.jsx(le,{}),loading:y.load_anomalies,onClick:T,children:"查看异常详情"}),o.jsx(Q,{size:"small",onClick:N,children:"批量忽略"})]})]}),type:"warning",showIcon:!0,style:{marginBottom:16}}),o.jsx(ve,{style:{margin:"16px 0"}}),o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx(QS,{strong:!0,className:"typography-label-primary",children:"完成要求："}),o.jsx("ul",{style:{marginTop:4,paddingLeft:20},children:X.requirements.map(((e,t)=>o.jsx("li",{style:{marginBottom:2},children:o.jsx(QS,{className:"typography-body-secondary",children:e})},t)))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx(QS,{strong:!0,className:"typography-label-primary",children:"操作提示："}),o.jsx("ul",{style:{marginTop:4,paddingLeft:20},children:X.tips.map(((e,t)=>o.jsx("li",{style:{marginBottom:2},children:o.jsx(QS,{className:"typography-body-secondary",children:e})},t)))})]})]}),!e&&o.jsx(Be,{message:"请先选择工资运行版本",description:"选择一个工资运行版本后，系统将自动显示对应的操作步骤",type:"info",showIcon:!0,style:{marginTop:16}})]})]}),o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(le,{style:{color:"#ff4d4f"}}),o.jsx("span",{children:"审核异常详情"}),o.jsxs(ze,{color:"red",children:[j.length," 个异常"]})]}),open:b,onCancel:()=>x(!1),width:800,footer:[o.jsx(Q,{onClick:()=>x(!1),children:"关闭"},"close"),o.jsx(Q,{danger:!0,onClick:N,disabled:0===j.length,children:"批量忽略全部"},"ignore-all"),o.jsx(Q,{type:"primary",onClick:()=>{x(!1),(null==l?void 0:l())||a()},children:"刷新数据"},"refresh")],children:j.length>0?o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:j.map(((t,r)=>o.jsx(se,{size:"small",style:{marginBottom:8},title:o.jsxs(ue,{children:[o.jsxs(ze,{color:"red",children:["异常 #",r+1]}),o.jsx(QS,{strong:!0,className:"typography-label-primary",children:t.anomaly_type||"数据异常"})]}),children:o.jsxs("div",{className:"typography-body-secondary",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"异常描述："}),t.description||t.message||"未知异常"]}),t.employee_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"涉及员工："}),t.employee_name]}),t.field_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"异常字段："}),t.field_name]}),t.expected_value&&o.jsxs("p",{children:[o.jsx("strong",{children:"期望值："}),t.expected_value]}),t.actual_value&&o.jsxs("p",{children:[o.jsx("strong",{children:"实际值："}),t.actual_value]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs(ue,{children:[o.jsx(Q,{size:"small",type:"link",onClick:()=>(async(t,r)=>{if(e)try{await Lt.ignoreAnomalies({anomaly_ids:[t.id||`temp_${r}`],reason:"用户手动忽略"}),n.success("已忽略该异常"),await T(),(null==l?void 0:l())||a()}catch(i){n.error("忽略异常失败")}})(t,r),children:"忽略此异常"}),o.jsx(Q,{size:"small",type:"link",onClick:()=>{n.info("修复功能开发中...")},children:"尝试修复"})]})})]})},r)))}):o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:o.jsx(QS,{className:"typography-body-secondary",children:"暂无异常数据"})})}),o.jsx(Yt,{visible:O,progress:_,result:k,onClose:z,onRetry:L})]})},n_=e=>[/电话/i,/手机/i,/联系方式/i,/phone/i,/mobile/i,/账号/i,/账户/i,/account/i,/卡号/i,/银行/i,/身份证/i,/证件/i,/id.*card/i,/identity/i,/客户号/i,/编号/i,/工号/i,/员工号/i,/人员编号/i,/邮编/i,/postal/i,/zip/i,/code/i,/qq/i,/微信/i,/wechat/i,/email/i,/邮箱/i].some((t=>t.test(e))),r_=(e,t)=>{if(null==e)return"N/A";if(t&&n_(t))return String(e);if("number"==typeof e)return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof e){if(t&&n_(t))return e;const n=parseFloat(e);if(!isNaN(n)&&isFinite(n))return n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.toString()},i_=(e,t)=>{if(null==e)return"N/A";if(t&&n_(t))return String(e);if("number"==typeof e)return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof e){if(t&&n_(t))return e;const n=parseFloat(e);if(!isNaN(n)&&isFinite(n))return n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.toString()},o_=e=>{if(null==e)return"N/A";const t=String(e);let n=null;const r=t.match(/(\d{4})年(\d{1,2})月/);if(r){const e=parseInt(r[1]),t=parseInt(r[2])-1;n=new Date(e,t)}if(!n){const e=t.match(/^(\d{4})-(\d{1,2})$/);if(e){const t=parseInt(e[1]),r=parseInt(e[2])-1;n=new Date(t,r)}}if(!n){const e=new Date(t);isNaN(e.getTime())||(n=e)}return n&&!isNaN(n.getTime())?`${n.getFullYear()}年${String(n.getMonth()+1).padStart(2,"0")}月`:t},a_=e=>{if(null==e)return"N/A";const t=String(e);let n=null;const r=t.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);if(r){const e=parseInt(r[1]),t=parseInt(r[2])-1,i=parseInt(r[3]);n=new Date(e,t,i)}if(!n){const e=t.match(/(\d{4})年(\d{1,2})月/);if(e){const t=parseInt(e[1]),r=parseInt(e[2])-1;n=new Date(t,r)}}if(!n){const e=new Date(t);isNaN(e.getTime())||(n=e)}return n&&!isNaN(n.getTime())?`${n.getFullYear()}年${String(n.getMonth()+1).padStart(2,"0")}月`:t},l_=e=>{try{if(null==e)return String(e);if("object"!=typeof e)return String(e);if(Array.isArray(e))return`[${e.length} 项]`;if("[object Object]"===e.toString()){const t=Object.keys(e);if(0===t.length)return"{}";return`{${t.slice(0,3).map((t=>{const n=e[t];return null==n?`${t}: -`:"object"==typeof n?`${t}: ${null===n?"-":Array.isArray(n)?`[${n.length}项]`:"{...}"}`:`${t}: ${String(n).substring(0,15)}${String(n).length>15?"...":""}`})).join(", ")}${t.length>3?", ...":""}}`}const t=new WeakSet,n=(e,n)=>{if("function"==typeof n||"symbol"==typeof n)return"[Function]";if(null!=n&&"object"==typeof n){if(t.has(n))return"[Circular]";if(t.add(n),e&&e.split(".").length>3)return"[Deep Object]"}return n},r=JSON.stringify(e,n,2);if(r&&r.length>500){return r.substring(0,497)+"..."}return r||String(e)}catch(t){try{if(e&&"object"==typeof e){const t=Object.keys(e);if(t.length>0){return`{${t.slice(0,3).map((t=>{try{const n=e[t];return"object"==typeof n?`${t}: [Object]`:`${t}: ${String(n).substring(0,20)}`}catch{return`${t}: [Error]`}})).join(", ")}${t.length>3?"...":""}}`}}return String(e)}catch{return"[不可序列化对象]"}}},s_=(e,t)=>{if(null==e)return!1;if(e===t)return!0;const n=String(e).toLowerCase(),r=String(t).toLowerCase();if(n===r)return!0;if("*"===r||"**"===r)return!0;if(r.startsWith("*")&&r.endsWith("*")&&r.length>2){const e=r.substring(1,r.length-1);return n.includes(e)}if(r.endsWith("*")&&!r.startsWith("*")){const e=r.substring(0,r.length-1);return n.startsWith(e)}if(r.startsWith("*")&&!r.endsWith("*")){const e=r.substring(1);return n.endsWith(e)}if(r.includes("*")||r.includes("?")){const e=r.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${e}$`,"i").test(n)}return n===r},c_=e=>"object"==typeof e&&null!==e&&!!(e.$$typeof||e.$typeof||e.type&&e.props),u_=e=>{var t;if(null==e)return"";if(zt.isValidElement(e)||c_(e)){const n=e.props;if("span"===e.type){if(void 0!==n.children)return String(n.children);if("#999"===(null==(t=n.style)?void 0:t.color)&&"N/A"===n.children)return"N/A"}if("pre"===e.type)return n.children||"";if("function"==typeof e.type&&e.type.displayName){const t=e.type.displayName;if("CheckCircleOutlined"===t)return"是";if("CloseCircleOutlined"===t)return"否"}return n&&void 0!==n.children?u_(n.children):""}return Array.isArray(e)?e.map((e=>u_(e))).join(""):String(e)},d_=e=>{if(null==e)return null;if(c_(e)){if(e.props){if(void 0!==e.props.children)return d_(e.props.children);if("string"==typeof e.props.children){const t=e.props.children.match(/[\d,.-]+/);if(t){const e=parseFloat(t[0].replace(/,/g,""));if(!isNaN(e))return e}}}return"[React元素]"}if(Array.isArray(e))return e.map((e=>d_(e)));if("object"==typeof e&&null!==e){if(e.constructor===Object){if(0===Object.keys(e).length)return"{}";const t=Object.keys(e).slice(0,3);if(t.length>0){return`{${t.map((t=>{const n=e[t];return null==n?`${t}: -`:"object"==typeof n?`${t}: ${null===n?"-":Array.isArray(n)?`[${n.length}项]`:"{...}"}`:`${t}: ${String(n).substring(0,15)}${String(n).length>15?"...":""}`})).join(", ")}${Object.keys(e).length>3?", ...":""}}`}}return l_(e)}return e},f_=(e,t)=>{const n=d_(e);if(null==n)return"";if("boolean"==typeof n)return n?"是":"否";if("number"==typeof n)return isNaN(n)||!isFinite(n)?"":n;if("string"==typeof n){const e=n.replace(/[\x00-\x1F\x7F-\x9F]/g,"");if(t&&n_(t))return e;const r=parseFloat(e);return isNaN(r)||!isFinite(r)||e.includes("{")||e.includes("[")?e:r}return"object"==typeof n&&null!==n?l_(n):String(n).replace(/[\x00-\x1F\x7F-\x9F]/g,"")},p_=(e,t,n,r)=>{const i=t.dataIndex||t.key;if(t.render)try{const o=t.render(e,n,r,{},{}),a=u_(o);if(i&&n_(i))return a;const l=parseFloat(a);return!isNaN(l)&&isFinite(l)&&"N/A"!==a?l:a}catch(o){return f_(e,i)}return f_(e,i)},h_={all:["payrollData"],lists:()=>[...h_.all,"list"],list:e=>[...h_.lists(),e],details:()=>[...h_.all,"detail"],detail:e=>[...h_.details(),e]};const y_={debounceDelay:300,enableSuggestions:!0,maxSuggestions:5},m_="/config/user-preferences",v_={getPresets:async()=>(await Ut.get(`${m_}/payroll-data-modal`)).data,getPresetCategories:async()=>(await Ut.get(`${m_}/payroll-data-modal/categories`)).data,savePreset:async e=>(await Ut.post(`${m_}/payroll-data-modal`,e)).data,updatePreset:async(e,t)=>(await Ut.put(`${m_}/payroll-data-modal/${e}`,t)).data,async deletePreset(e){await Ut.delete(`${m_}/payroll-data-modal/${e}`)},applyPreset:async e=>(await Ut.post(`${m_}/payroll-data-modal/${e}/apply`)).data,duplicatePreset:async(e,t)=>(await Ut.post(`${m_}/payroll-data-modal/${e}/duplicate`,{newName:t})).data,async setDefaultPreset(e){await Ut.post(`${m_}/payroll-data-modal/${e}/set-default`)},async getDefaultPreset(){try{return(await Ut.get(`${m_}/payroll-data-modal/default`)).data}catch(e){return null}},exportPreset:async e=>(await Ut.get(`${m_}/payroll-data-modal/${e}/export`,{responseType:"blob"})).data,async importPreset(e){const t=new FormData;t.append("file",e);return(await Ut.post(`${m_}/payroll-data-modal/import`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},g_=()=>{const{t:e}=Wt(["payroll","common"]),[t,r]=It.useState([]),[i,o]=It.useState(!1),[a,l]=It.useState(null),s=It.useCallback((async()=>{try{o(!0);const e=await v_.getPresets();r(e.presets)}catch(t){n.error(e("common:message.load_failed"))}finally{o(!1)}}),[e]),c=It.useCallback((async()=>{try{let e=await v_.getDefaultPreset();if(!e){const t=await v_.getPresets(),n=(t.presets||[]).sort(((e,t)=>(t.usageCount||0)!==(e.usageCount||0)?(t.usageCount||0)-(e.usageCount||0):e.lastUsedAt&&t.lastUsedAt?new Date(t.lastUsedAt).getTime()-new Date(e.lastUsedAt).getTime():new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()));n.length>0&&(e=n[0])}return l(e),e}catch(e){return null}}),[]),u=It.useCallback((async(t,i,o,a={})=>{var s,c,u;try{const s={name:t,filterConfig:i,columnSettings:o,...a},c=await v_.savePreset(s);return r((e=>[...e,c])),a.isDefault&&l(c),n.success(e("payroll:presets.save_success")),c}catch(d){let t=e("payroll:presets.save_failed");throw(null==(c=null==(s=null==d?void 0:d.response)?void 0:s.data)?void 0:c.detail)&&("string"==typeof d.response.data.detail?t=d.response.data.detail:(null==(u=d.response.data.detail.error)?void 0:u.message)&&(t=d.response.data.detail.error.message)),n.error(t),d}}),[e]),d=It.useCallback((async t=>{try{return await v_.applyPreset(t.id),r((e=>e.map((e=>e.id===t.id?{...e,usageCount:(e.usageCount||0)+1,lastUsedAt:(new Date).toISOString()}:e)))),n.success(e("payroll:presets.apply_success",{name:t.name})),t}catch(i){throw n.error(e("payroll:presets.apply_failed")),i}}),[e]),f=It.useCallback((async t=>{try{await v_.deletePreset(t),r((e=>e.filter((e=>e.id!==t)))),(null==a?void 0:a.id)===t&&l(null),n.success(e("payroll:presets.delete_success"))}catch(i){throw n.error(e("payroll:presets.delete_failed")),i}}),[e,a]),p=It.useCallback((async r=>{try{await v_.setDefaultPreset(r);const i=t.find((e=>e.id===r));i&&(l(i),n.success(e("payroll:presets.set_default_success")))}catch(i){throw n.error(e("payroll:presets.set_default_failed")),i}}),[e,t]),h=It.useCallback((async(t,i)=>{var o,a,l;try{const o=await v_.duplicatePreset(t,i);return r((e=>[...e,o])),n.success(e("payroll:presets.duplicate_success")),o}catch(s){let t=e("payroll:presets.duplicate_failed");throw(null==(a=null==(o=null==s?void 0:s.response)?void 0:o.data)?void 0:a.detail)&&("string"==typeof s.response.data.detail?t=s.response.data.detail:(null==(l=s.response.data.detail.error)?void 0:l.message)&&(t=s.response.data.detail.error.message)),n.error(t),s}}),[e]),y=It.useCallback((async(t,i)=>{var o,a,s;try{const o=await v_.updatePreset(t,i);return r((e=>e.map((e=>e.id===t?o:e)))),i.isDefault&&l(o),n.success(e("payroll:presets.update_success")),o}catch(c){let t=e("payroll:presets.update_failed");throw(null==(a=null==(o=null==c?void 0:c.response)?void 0:o.data)?void 0:a.detail)&&("string"==typeof c.response.data.detail?t=c.response.data.detail:(null==(s=c.response.data.detail.error)?void 0:s.message)&&(t=c.response.data.detail.error.message)),n.error(t),c}}),[e]),m=It.useCallback((e=>{l(e)}),[]);It.useEffect((()=>{s(),c()}),[s,c]);const v=It.useCallback(((e,t,n)=>({filterConfig:e,searchQuery:t,searchMode:n,timestamp:(new Date).toISOString()})),[]);return{presets:t,defaultPreset:a,loading:i,loadPresets:s,loadDefaultPreset:c,savePreset:u,applyPreset:d,deletePreset:f,setAsDefault:p,duplicatePreset:h,updatePreset:y,setCurrentPreset:m,getCurrentConfig:v}},b_="/config/user-preferences/groups",x_={getGroups:async()=>(await Ut.get(`${b_}`)).data,getGroupsStats:async()=>(await Ut.get(`${b_}/stats`)).data,createGroup:async e=>(await Ut.post(`${b_}`,e)).data,updateGroup:async(e,t)=>(await Ut.put(`${b_}/${e}`,t)).data,async deleteGroup(e){await Ut.delete(`${b_}/${e}`)},async updateGroupsOrder(e){await Ut.put(`${b_}/reorder`,{groupIds:e})},getGroup:async e=>(await Ut.get(`${b_}/${e}`)).data},j_=()=>{const{t:e}=Wt(["payroll","common"]),[t,r]=It.useState([]),[i,o]=It.useState({}),[a,l]=It.useState(!1),s=It.useCallback((async()=>{try{l(!0);const[e,t]=await Promise.all([x_.getGroups(),x_.getGroupsStats()]);r(e.groups);const n=t.reduce(((e,t)=>(e[t.groupId]={presetCount:t.presetCount,lastUsedAt:t.lastUsedAt},e)),{});o(n)}catch(t){n.error(e("payroll:presets.group_manager.load_failed"))}finally{l(!1)}}),[e]),c=It.useCallback((async t=>{var i,a;try{l(!0);const i=await x_.createGroup(t);return r((e=>[...e,i])),o((e=>({...e,[i.id]:{presetCount:0}}))),n.success(e("payroll:presets.group_manager.create_success")),i}catch(s){let t=e("payroll:presets.group_manager.create_failed");throw(null==(a=null==(i=null==s?void 0:s.response)?void 0:i.data)?void 0:a.detail)&&"string"==typeof s.response.data.detail&&(t=s.response.data.detail),n.error(t),s}finally{l(!1)}}),[e]),u=It.useCallback((async(t,i)=>{var o,a;try{l(!0);const o=await x_.updateGroup(t,i);return r((e=>e.map((e=>e.id===t?o:e)))),n.success(e("payroll:presets.group_manager.update_success")),o}catch(s){let t=e("payroll:presets.group_manager.update_failed");throw(null==(a=null==(o=null==s?void 0:s.response)?void 0:o.data)?void 0:a.detail)&&"string"==typeof s.response.data.detail&&(t=s.response.data.detail),n.error(t),s}finally{l(!1)}}),[e]),d=It.useCallback((async t=>{var i,a;try{l(!0),await x_.deleteGroup(t),r((e=>e.filter((e=>e.id!==t)))),o((e=>{const{[t]:n,...r}=e;return r})),n.success(e("payroll:presets.group_manager.delete_success"))}catch(s){let t=e("payroll:presets.group_manager.delete_failed");throw(null==(a=null==(i=null==s?void 0:s.response)?void 0:i.data)?void 0:a.detail)&&"string"==typeof s.response.data.detail&&(t=s.response.data.detail),n.error(t),s}finally{l(!1)}}),[e]),f=It.useCallback((async i=>{try{await x_.updateGroupsOrder(i);const o=i.map((e=>t.find((t=>t.id===e)))).filter(Boolean);r(o),n.success(e("payroll:presets.group_manager.reorder_success"))}catch(o){throw n.error(e("payroll:presets.group_manager.reorder_failed")),o}}),[t,e]),p=It.useCallback((e=>{var t;return(null==(t=i[e])?void 0:t.presetCount)||0}),[i]),h=It.useCallback((e=>{var t;return null==(t=i[e])?void 0:t.lastUsedAt}),[i]),y=It.useCallback((async()=>{try{const e=(await x_.getGroupsStats()).reduce(((e,t)=>(e[t.groupId]={presetCount:t.presetCount,lastUsedAt:t.lastUsedAt},e)),{});o(e)}catch(e){}}),[]);return It.useEffect((()=>{s()}),[s]),{groups:t,groupStats:i,loading:a,loadGroups:s,createGroup:c,updateGroup:u,deleteGroup:d,updateGroupsOrder:f,getGroupPresetCount:p,getGroupLastUsed:h,refreshStats:y}},{Text:w_,Title:O_}=V,{TextArea:S_}=Ae,__=[{value:"FolderOutlined",label:"文件夹",icon:o.jsx(Ge,{})},{value:"AppstoreOutlined",label:"应用",icon:o.jsx(_e,{})},{value:"FileTextOutlined",label:"文档",icon:o.jsx(Ve,{})},{value:"BarChartOutlined",label:"图表",icon:o.jsx(G,{})},{value:"SettingOutlined",label:"设置",icon:o.jsx(Qe,{})},{value:"UserOutlined",label:"用户",icon:o.jsx(Y,{})},{value:"TeamOutlined",label:"团队",icon:o.jsx(X,{})},{value:"BankOutlined",label:"银行",icon:o.jsx(H,{})},{value:"CalendarOutlined",label:"日历",icon:o.jsx(Te,{})},{value:"CheckCircleOutlined",label:"完成",icon:o.jsx(Me,{})},{value:"ExclamationCircleOutlined",label:"重要",icon:o.jsx(le,{})}],P_=["#1890ff","#52c41a","#722ed1","#fa8c16","#f5222d","#eb2f96","#13c2c2","#faad14","#a0d911","#2f54eb","#fa541c","#c41d7f"],k_=e=>{switch(e){case"AppstoreOutlined":return o.jsx(_e,{});case"FileTextOutlined":return o.jsx(Ve,{});case"BarChartOutlined":return o.jsx(G,{});case"SettingOutlined":return o.jsx(Qe,{});case"UserOutlined":return o.jsx(Y,{});case"TeamOutlined":return o.jsx(X,{});case"BankOutlined":return o.jsx(H,{});case"CalendarOutlined":return o.jsx(Te,{});case"CheckCircleOutlined":return o.jsx(Me,{});case"ExclamationCircleOutlined":return o.jsx(le,{});default:return o.jsx(Ge,{})}},A_=({visible:e,group:t,onClose:n,onSave:i,loading:a=!1})=>{const{t:l}=Wt(["payroll","common"]),[s]=Pe.useForm();It.useEffect((()=>{e&&t?s.setFieldsValue({name:t.name,description:t.description,color:t.color||"#1890ff",icon:t.icon||"FolderOutlined"}):e&&!t&&s.setFieldsValue({color:"#1890ff",icon:"FolderOutlined"})}),[e,t,s]);const c=()=>{s.resetFields(),n()};return o.jsx(r,{title:l(t?"payroll:presets.group_manager.edit_group":"payroll:presets.group_manager.create_group"),open:e,onCancel:c,footer:[o.jsx(Q,{onClick:c,children:l("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:a,onClick:async()=>{var e,t;try{const n=await s.validateFields(),r={...n,color:"string"==typeof n.color?n.color:(null==(t=null==(e=n.color)?void 0:e.toHexString)?void 0:t.call(e))||"#1890ff",sort_order:0,is_active:!0};i(r),s.resetFields()}catch(n){}},children:l("common:button.save")},"save")],width:600,children:o.jsxs(Pe,{form:s,layout:"vertical",children:[o.jsx(Pe.Item,{name:"name",label:l("payroll:presets.group_manager.group_name"),rules:[{required:!0,message:l("payroll:presets.group_manager.name_required")},{max:50,message:l("payroll:presets.group_manager.name_too_long")}],children:o.jsx(Ae,{placeholder:l("payroll:presets.group_manager.name_placeholder")})}),o.jsx(Pe.Item,{name:"description",label:l("payroll:presets.group_manager.group_description"),rules:[{max:200,message:l("payroll:presets.group_manager.description_too_long")}],children:o.jsx(S_,{rows:3,placeholder:l("payroll:presets.group_manager.description_placeholder")})}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"color",label:l("payroll:presets.group_manager.group_color"),children:o.jsx(Je,{presets:[{label:l("payroll:presets.group_manager.preset_colors"),colors:P_}],showText:!0,format:"hex",size:"large"})})}),o.jsx(me,{span:12,children:o.jsx(Pe.Item,{name:"icon",label:l("payroll:presets.group_manager.group_icon"),children:o.jsx(Ce,{placeholder:l("payroll:presets.group_manager.icon_placeholder"),optionRender:e=>o.jsxs(ue,{children:[e.data.icon,o.jsx("span",{children:e.data.label})]}),children:__.map((e=>o.jsx(Ce.Option,{value:e.value,icon:e.icon,label:e.label,children:o.jsxs(ue,{children:[e.icon,o.jsx("span",{children:e.label})]})},e.value)))})})})]}),o.jsx(Pe.Item,{label:l("payroll:presets.group_manager.preview"),children:o.jsx(se,{size:"small",style:{backgroundColor:"#fafafa"},children:o.jsx(Pe.Item,{noStyle:!0,shouldUpdate:!0,children:({getFieldValue:e})=>{var t,n;const r=e("name")||l("payroll:presets.group_manager.preview_name"),i="string"==typeof e("color")?e("color"):(null==(n=null==(t=e("color"))?void 0:t.toHexString)?void 0:n.call(t))||"#1890ff",a=e("icon")||"FolderOutlined";return o.jsx("div",{children:o.jsxs(ue,{children:[o.jsx("span",{style:{color:i,fontSize:"18px"},children:k_(a)}),o.jsx(w_,{strong:!0,style:{color:i},children:r}),o.jsx(ze,{color:i,children:l("payroll:presets.group_manager.preview_tag")})]})})}})})})]})})},C_=({visible:e,onClose:t})=>{const{t:n}=Wt(["payroll","common"]),[i,a]=It.useState(!1),[l,s]=It.useState(null),{groups:c,loading:u,createGroup:d,updateGroup:f,deleteGroup:p,getGroupPresetCount:h}=j_(),y=()=>{s(null),a(!0)},m=e=>{const t=h(e.id);return o.jsxs(ue,{size:"small",children:[o.jsxs(w_,{type:"secondary",style:{fontSize:"12px"},children:[t," ",n("payroll:presets.group_manager.presets_count")]}),e.createdAt&&o.jsxs(w_,{type:"secondary",style:{fontSize:"12px"},children:[n("payroll:presets.group_manager.created_at"),": ",new Date(e.createdAt).toLocaleDateString()]})]})};return o.jsxs(o.Fragment,{children:[o.jsxs(r,{title:o.jsxs(ue,{children:[o.jsx(Ge,{}),n("payroll:presets.group_manager.title")]}),open:e,onCancel:t,footer:[o.jsx(Q,{onClick:t,children:n("common:button.close")},"close")],width:800,style:{top:20},children:[o.jsx("div",{style:{marginBottom:16},children:o.jsxs(ye,{justify:"space-between",align:"middle",children:[o.jsx(me,{children:o.jsxs(ue,{children:[o.jsx(O_,{level:5,style:{margin:0},children:n("payroll:presets.group_manager.manage_groups")}),o.jsxs(w_,{type:"secondary",children:["(",c.length," ",n("payroll:presets.group_manager.total_groups"),")"]})]})}),o.jsx(me,{children:o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),onClick:y,children:n("payroll:presets.group_manager.create_group")})})]})}),o.jsx(ve,{style:{margin:"16px 0"}}),o.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:0===c.length?o.jsx(se,{style:{textAlign:"center",padding:"40px 20px"},children:o.jsxs(ue,{direction:"vertical",size:"large",children:[o.jsx(Ge,{style:{fontSize:"48px",color:"#d9d9d9"}}),o.jsxs("div",{children:[o.jsx(w_,{type:"secondary",style:{fontSize:"16px"},children:n("payroll:presets.group_manager.no_groups")}),o.jsx("br",{}),o.jsx(w_,{type:"secondary",children:n("payroll:presets.group_manager.create_first_group")})]}),o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),size:"large",onClick:y,children:n("payroll:presets.group_manager.create_group")})]})}):o.jsx(Ye,{dataSource:c,loading:u,renderItem:(e,t)=>o.jsx(Ye.Item,{actions:[o.jsx(Z,{title:n("payroll:presets.group_manager.drag_to_reorder"),children:o.jsx(Q,{type:"text",icon:o.jsx(Xe,{}),size:"small",style:{cursor:"grab"}})}),o.jsx(Q,{type:"text",icon:o.jsx(Ke,{}),size:"small",onClick:()=>(e=>{s(e),a(!0)})(e),children:n("common:button.edit")},"edit"),o.jsx(Ze,{title:n("payroll:presets.group_manager.delete_confirm_title"),description:n("payroll:presets.group_manager.delete_confirm_content",{name:e.name}),okText:n("common:button.delete"),cancelText:n("common:button.cancel"),okType:"danger",onConfirm:()=>(async e=>{try{await p(e)}catch(t){}})(e.id),children:o.jsx(Q,{type:"text",danger:!0,icon:o.jsx(Se,{}),size:"small",children:n("common:button.delete")})},"delete")],children:o.jsx(Ye.Item.Meta,{avatar:o.jsx("div",{style:{color:e.color||"#1890ff",fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",backgroundColor:`${e.color||"#1890ff"}15`,borderRadius:"8px"},children:k_(e.icon)}),title:o.jsxs(ue,{children:[o.jsx(w_,{strong:!0,style:{color:e.color||"#1890ff"},children:e.name}),o.jsxs(ze,{color:e.color||"#1890ff",style:{fontSize:"11px"},children:["#",t+1]})]}),description:o.jsxs("div",{children:[e.description&&o.jsx("div",{style:{marginBottom:8},children:o.jsx(w_,{type:"secondary",children:e.description})}),m(e)]})})},e.id)})})]}),o.jsx(A_,{visible:i,group:l,onClose:()=>{a(!1),s(null)},onSave:async e=>{try{l?await f(l.id,e):await d(e),a(!1),s(null)}catch(t){}},loading:u})]})},{Text:E_,Title:T_}=V,{Panel:N_}=rt,M_=({visible:e,onClose:t,onSave:n,loading:i=!1,availableGroups:a=[],presets:l=[],getGroupPresetCount:s=()=>0})=>{const{t:c}=Wt(["payroll","common"]),[u]=Pe.useForm();return o.jsx(r,{title:c("payroll:presets.save_modal.title"),open:e,onCancel:t,footer:[o.jsx(Q,{onClick:t,children:c("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:i,onClick:async()=>{try{const e=await u.validateFields();n(e.name,e.description,e.isDefault,e.isPublic,e.category),u.resetFields()}catch(e){}},children:c("common:button.save")},"save")],width:500,children:o.jsxs(Pe,{form:u,layout:"vertical",children:[o.jsx(Pe.Item,{name:"name",label:c("payroll:presets.save_modal.name"),rules:[{required:!0,message:c("payroll:presets.save_modal.name_required")}],children:o.jsx(Ae,{placeholder:c("payroll:presets.save_modal.name_placeholder")})}),o.jsx(Pe.Item,{name:"description",label:c("payroll:presets.save_modal.description"),children:o.jsx(Ae.TextArea,{rows:3,placeholder:c("payroll:presets.save_modal.description_placeholder")})}),o.jsx(Pe.Item,{name:"category",label:c("payroll:presets.save_modal.category"),children:o.jsx(Ce,{placeholder:c("payroll:presets.save_modal.category_placeholder"),allowClear:!0,options:[{value:"",label:c("payroll:presets.save_modal.no_category")},...a.map((e=>{const t=s(e.id);return{value:e.name,label:o.jsxs(ue,{children:[o.jsx("span",{style:{color:e.color},children:e.name}),o.jsxs(ze,{color:e.color,style:{fontSize:"11px"},children:[t," 个预设"]})]})}}))]})}),o.jsxs(Pe.Item,{name:"isDefault",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:c("payroll:presets.save_modal.set_as_default")})]}),o.jsxs(Pe.Item,{name:"isPublic",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:c("payroll:presets.save_modal.make_public")})]})]})})},D_=({visible:e,preset:t,onClose:n,onSave:i,loading:a=!1,availableGroups:l=[],presets:s=[],getGroupPresetCount:c=()=>0})=>{const{t:u}=Wt(["payroll","common"]),[d]=Pe.useForm();zt.useEffect((()=>{t&&e&&d.setFieldsValue({name:t.name,description:t.description,category:t.category,isDefault:t.isDefault,isPublic:t.isPublic})}),[t,e,d]);const f=()=>{d.resetFields(),n()};return o.jsx(r,{title:u("payroll:presets.edit_modal.title"),open:e,onCancel:f,footer:[o.jsx(Q,{onClick:f,children:u("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:a,onClick:async()=>{if(null==t?void 0:t.id)try{const e=await d.validateFields();i(t.id,e.name,e.description,e.isDefault,e.isPublic,e.category)}catch(e){}},children:u("common:button.save")},"save")],width:500,children:o.jsxs(Pe,{form:d,layout:"vertical",children:[o.jsx(Pe.Item,{name:"name",label:u("payroll:presets.edit_modal.name"),rules:[{required:!0,message:u("payroll:presets.edit_modal.name_required")}],children:o.jsx(Ae,{placeholder:u("payroll:presets.edit_modal.name_placeholder")})}),o.jsx(Pe.Item,{name:"description",label:u("payroll:presets.edit_modal.description"),children:o.jsx(Ae.TextArea,{rows:3,placeholder:u("payroll:presets.edit_modal.description_placeholder")})}),o.jsx(Pe.Item,{name:"category",label:u("payroll:presets.edit_modal.category"),children:o.jsx(Ce,{placeholder:u("payroll:presets.edit_modal.category_placeholder"),allowClear:!0,options:[{value:"",label:u("payroll:presets.edit_modal.no_category")},...l.map((e=>{const t=c(e.id);return{value:e.name,label:o.jsxs(ue,{children:[o.jsx("span",{style:{color:e.color},children:e.name}),o.jsxs(ze,{color:e.color,style:{fontSize:"11px"},children:[t," 个预设"]})]})}}))]})}),o.jsxs(Pe.Item,{name:"isDefault",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:u("payroll:presets.edit_modal.set_as_default")})]}),o.jsxs(Pe.Item,{name:"isPublic",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:u("payroll:presets.edit_modal.make_public")})]})]})})},I_=({visible:e,onClose:t,currentFilterConfig:i,currentColumnSettings:a,getCurrentConfig:l,onApplyPreset:s})=>{var c;const{t:u}=Wt(["payroll","common"]),[d,f]=It.useState(!1),[p,h]=It.useState(null),[y,m]=It.useState(!1),[v,g]=It.useState(null),[b,x]=It.useState(null),[j,w]=It.useState(!1),{groups:O,getGroupPresetCount:S,refreshStats:_}=j_(),{presets:P,defaultPreset:k,loading:A,savePreset:C,applyPreset:E,deletePreset:T,setAsDefault:N,duplicatePreset:M,updatePreset:D}=g_(),I=async e=>{var t,r,i,o;if(v)try{await M(v.id,e),m(!1),g(null)}catch(a){if(400===(null==(t=null==a?void 0:a.response)?void 0:t.status)&&(null==(o=null==(i=null==(r=null==a?void 0:a.response)?void 0:r.data)?void 0:i.detail)?void 0:o.includes("已存在"))){const e=(new Date).getTime(),t=`${v.name} - 副本${e}`;try{await M(v.id,t),m(!1),g(null),n.success(u("payroll:presets.duplicate_auto_renamed",{name:t}))}catch(l){}}}},R=e=>{const t=[{key:"view",icon:o.jsx(be,{}),label:u("common:button.view"),onClick:()=>x(e)},{key:"edit",icon:o.jsx(Ke,{}),label:u("common:button.edit"),onClick:()=>h(e)},{key:"write_current",icon:o.jsx(tt,{}),label:u("payroll:presets.write_current_config"),onClick:()=>(async e=>{r.confirm({title:u("payroll:presets.write_current_confirm.title"),content:u("payroll:presets.write_current_confirm.content",{name:e.name}),okText:u("payroll:presets.write_current_confirm.ok"),cancelText:u("common:button.cancel"),onOk:async()=>{try{const t=l?l():{filterConfig:i,columnSettings:a,tableFilterState:{}};await D(e.id,{name:e.name,description:e.description,category:e.category,isDefault:e.isDefault,isPublic:e.isPublic,filterConfig:t.filterConfig,columnSettings:t.columnSettings,tableFilterState:t.tableFilterState}),n.success(u("payroll:presets.write_current_success",{name:e.name}))}catch(t){n.error(u("payroll:presets.write_current_error"))}}})})(e)},{key:"duplicate",icon:o.jsx(ot,{}),label:u("payroll:presets.duplicate"),onClick:()=>{g(e),m(!0)}},{key:"set_default",icon:(null==k?void 0:k.id)===e.id?o.jsx(nt,{}):o.jsx(at,{}),label:(null==k?void 0:k.id)===e.id?u("payroll:presets.default_preset"):u("payroll:presets.set_as_default"),disabled:(null==k?void 0:k.id)===e.id,onClick:()=>N(e.id)},{type:"divider"},{key:"export",icon:o.jsx(ne,{}),label:u("payroll:presets.export"),onClick:()=>{n.info(u("payroll:presets.export_coming_soon"))}},{type:"divider"},{key:"delete",icon:o.jsx(Se,{}),label:u("common:button.delete"),danger:!0,onClick:()=>{r.confirm({title:u("payroll:presets.delete_confirm.title"),content:u("payroll:presets.delete_confirm.content",{name:e.name}),okText:u("common:button.delete"),cancelText:u("common:button.cancel"),okType:"danger",onOk:()=>T(e.id)})}}];return o.jsx(lt,{menu:{items:t},trigger:["click"],children:o.jsx(Q,{type:"text",icon:o.jsx(st,{}),size:"small"})})},B=e=>{var t;return o.jsx(Ye.Item,{style:{padding:"8px 12px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"12px"},children:[o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px",flexWrap:"wrap"},children:[o.jsx(E_,{strong:!0,style:{fontSize:"14px"},children:e.name}),(null==k?void 0:k.id)===e.id&&o.jsx(nt,{style:{color:"#faad14",fontSize:"12px"}}),e.category&&o.jsx(ze,{color:(null==(t=O.find((t=>t.name===e.category)))?void 0:t.color)||"default",style:{fontSize:"11px",margin:0,padding:"1px 4px"},children:e.category}),e.isPublic&&o.jsx(ze,{color:"blue",style:{fontSize:"11px",margin:0,padding:"1px 4px"},children:"公开"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[e.description&&o.jsx(E_,{type:"secondary",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},title:e.description,children:e.description}),o.jsxs(E_,{type:"secondary",style:{fontSize:"11px"},children:["使用次数: ",e.usageCount||0]}),e.lastUsedAt&&o.jsxs(E_,{type:"secondary",style:{fontSize:"11px"},children:["最后使用: ",new Date(e.lastUsedAt).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[o.jsx(Q,{type:"primary",size:"small",icon:o.jsx(be,{}),onClick:()=>(async e=>{try{await E(e),s(e),n.success(u("payroll:presets.applied_successfully",{name:e.name}))}catch(t){}})(e),style:{fontSize:"12px"},children:"应用"}),R(e)]})]})},e.id)};return o.jsxs(o.Fragment,{children:[o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(Qe,{}),u("payroll:presets.manager_title")]}),open:e,onCancel:t,footer:[o.jsx(Q,{icon:o.jsx(Ge,{}),onClick:()=>w(!0),children:u("payroll:presets.manage_groups")},"manage-groups"),o.jsx(Q,{type:"primary",icon:o.jsx(tt,{}),onClick:()=>f(!0),children:u("payroll:presets.save_current")},"save-current"),o.jsx(Q,{onClick:t,children:u("common:button.close")},"close")],width:800,style:{top:20},children:o.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:0===P.length?o.jsx(et,{description:u("payroll:presets.no_presets"),image:et.PRESENTED_IMAGE_SIMPLE,children:o.jsx(Q,{type:"primary",icon:o.jsx(tt,{}),onClick:()=>f(!0),children:u("payroll:presets.create_first")})}):(()=>{const e=P.reduce(((e,t)=>{const n=t.category||"未分组";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),t=Object.keys(e);return t.length<=1?o.jsx(Ye,{dataSource:P,loading:A,renderItem:e=>B(e),size:"small",style:{border:"1px solid #f0f0f0",borderRadius:"6px",backgroundColor:"#fafafa"}}):o.jsx(rt,{defaultActiveKey:t,ghost:!0,items:t.map((t=>{const n=O.find((e=>e.name===t));return{key:t,label:o.jsxs(ue,{children:[o.jsx(Ge,{style:{color:(null==n?void 0:n.color)||"#666"}}),o.jsx("span",{children:t}),o.jsx(ze,{color:(null==n?void 0:n.color)||"default",children:e[t].length})]}),children:o.jsx(Ye,{dataSource:e[t],renderItem:e=>B(e),size:"small",style:{border:"1px solid #f0f0f0",borderRadius:"6px",backgroundColor:"#fafafa"}})}}))})})()})}),o.jsx(M_,{visible:d,onClose:()=>f(!1),onSave:async(e,t,n,r,o)=>{try{const s=l?l():{filterConfig:i,columnSettings:a,tableFilterState:{}};await C(e,s.filterConfig,s.columnSettings,{description:t,category:o,isDefault:n,isPublic:r,tableFilterState:s.tableFilterState}),_(),f(!1)}catch(s){}},availableGroups:O,presets:P,getGroupPresetCount:S}),o.jsx(D_,{visible:!!p,preset:p,onClose:()=>h(null),onSave:async(e,t,n,r,i,o)=>{try{await D(e,{name:t,description:n,category:o,isDefault:r,isPublic:i}),h(null)}catch(a){}},loading:A,availableGroups:O,presets:P,getGroupPresetCount:S}),o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(be,{}),u("payroll:presets.view_modal.title")]}),open:!!b,onCancel:()=>x(null),footer:[o.jsx(Q,{onClick:()=>x(null),children:u("common:button.close")},"close"),o.jsx(Q,{type:"primary",icon:o.jsx(Ke,{}),onClick:()=>{h(b),x(null)},children:u("common:button.edit")},"edit")],width:700,children:b&&o.jsxs("div",{children:[o.jsxs(se,{size:"small",style:{marginBottom:16},children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(E_,{strong:!0,children:u("payroll:presets.view_modal.basic_info")})}),o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.name"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.name})]}),b.description&&o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.description"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.description})]}),b.category&&o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.category"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.category})]}),o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.properties"),":"]}),o.jsx("div",{style:{marginLeft:8,marginTop:4},children:o.jsxs(ue,{children:[b.isDefault&&o.jsx(ze,{color:"gold",icon:o.jsx(nt,{}),children:u("payroll:presets.default")}),b.isPublic&&o.jsx(ze,{color:"blue",children:u("payroll:presets.public")}),o.jsxs(ze,{children:[u("payroll:presets.usage_count"),": ",b.usageCount||0]})]})})]})]})]}),o.jsxs(se,{size:"small",style:{marginBottom:16},children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(E_,{strong:!0,children:u("payroll:presets.view_modal.filter_config")})}),o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.hide_jsonb_columns"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.filterConfig.hideJsonbColumns?u("common:yes"):u("common:no")})]}),o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.hide_zero_columns"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.filterConfig.hideZeroColumns?u("common:yes"):u("common:no")})]}),o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.hide_empty_columns"),":"]}),o.jsx(E_,{style:{marginLeft:8},children:b.filterConfig.hideEmptyColumns?u("common:yes"):u("common:no")})]}),(null==(c=b.filterConfig.excludePatterns)?void 0:c.length)>0&&o.jsxs("div",{children:[o.jsxs(E_,{type:"secondary",children:[u("payroll:presets.view_modal.exclude_patterns"),":"]}),o.jsx("div",{style:{marginLeft:8,marginTop:4},children:b.filterConfig.excludePatterns.map(((e,t)=>o.jsx(ze,{style:{marginBottom:4},children:e},t)))})]})]})]}),o.jsxs(se,{size:"small",children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(E_,{strong:!0,children:u("payroll:presets.view_modal.column_settings")})}),o.jsx("div",{style:{maxHeight:200,overflowY:"auto"},children:o.jsx(ue,{direction:"vertical",style:{width:"100%"},children:Object.entries(b.columnSettings).map((([e,t])=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(E_,{children:e}),o.jsxs(ue,{children:[void 0!==t.show&&o.jsx(ze,{color:t.show?"green":"red",children:t.show?u("payroll:presets.view_modal.visible"):u("payroll:presets.view_modal.hidden")}),t.fixed&&o.jsxs(ze,{color:"blue",children:[u("payroll:presets.view_modal.fixed"),": ",t.fixed]})]})]},e)))})})]})]})}),o.jsxs(r,{title:u("payroll:presets.duplicate_modal.title"),open:y,onCancel:()=>{m(!1),g(null)},footer:[o.jsx(Q,{onClick:()=>{m(!1),g(null)},children:u("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",onClick:()=>{var e;const t=document.getElementById("duplicate-name-input");(null==(e=null==t?void 0:t.value)?void 0:e.trim())?I(t.value.trim()):n.warning(u("payroll:presets.duplicate_modal.name_required"))},children:u("payroll:presets.duplicate")},"duplicate")],width:500,children:[o.jsx("div",{style:{marginBottom:16},children:o.jsx(E_,{type:"secondary",children:u("payroll:presets.duplicate_modal.description",{name:null==v?void 0:v.name})})}),o.jsx(Pe,{layout:"vertical",children:o.jsx(Pe.Item,{label:u("payroll:presets.duplicate_modal.new_name_label"),required:!0,children:o.jsx(Ae,{id:"duplicate-name-input",placeholder:u("payroll:presets.duplicate_modal.new_name_placeholder"),defaultValue:v?`${v.name} - 副本`:"",onPressEnter:()=>{var e;const t=document.getElementById("duplicate-name-input");(null==(e=null==t?void 0:t.value)?void 0:e.trim())&&I(t.value.trim())}})})})]}),o.jsx(C_,{visible:j,onClose:()=>w(!1)})]})},R_=[{name:"basic",priority:1,patterns:["*姓名*","*身份证号*","*部门*","*岗位*","*职务*","*账号*","*人员编号*","*员工编号*","*人员类别*","*编制*"]},{name:"salary",priority:2,patterns:["*工资*","*薪酬*","*基本*","*岗位*","*职务*","*津贴*","*补贴*"]},{name:"bonus",priority:3,patterns:["*奖金*","*绩效*","*考核*","*年终*"]},{name:"allowance",priority:4,patterns:["*补助*","*费用*","*交通*","*通讯*","*住房*"]},{name:"deduction",priority:5,patterns:["*扣除*","*扣*","*代扣*","*个税*","*社保*","*公积金*"]},{name:"insurance",priority:6,patterns:["*保险*","*医疗*","*养老*","*失业*","*工伤*","*生育*"]},{name:"fund",priority:7,patterns:["*公积金*","*住房*基金*"]},{name:"other",priority:8,patterns:["*其他*","*备注*","*说明*"]},{name:"period",priority:9,patterns:["*期间*","*月份*","*年月*"]},{name:"total",priority:10,patterns:["*合计*","*总计*","*应发*","*实发*","*净额*"]}],B_=(e,t=R_)=>{for(const n of t)for(const t of n.patterns)if(s_(e,t))return n;return{name:"unknown",priority:999,patterns:[]}},z_=(e,t,n,r)=>{if(!r)return!0;if(r.includePatterns&&r.includePatterns.length>0){let t=!1;for(const n of r.includePatterns)if(s_(e,n)){t=!0;break}if(!t)return!1}if(r.excludePatterns&&r.excludePatterns.length>0)for(const i of r.excludePatterns)if(s_(e,i))return!1;if(!0===r.hideJsonbColumns){if(n.some((t=>{const n=t[e];return"object"==typeof n&&null!==n}))&&"object"==typeof t&&null!==t)return!1}if(!0===r.hideEmptyColumns){if(!n.some((t=>{const n=t[e];return null!=n&&""!==n&&0!==n})))return!1}if(!0===r.hideZeroColumns){if(n.some((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))}))){if(!n.some((t=>{const n=t[e];if("number"==typeof n)return 0!==n;if("string"==typeof n){const e=parseFloat(n);return!isNaN(e)&&0!==e}return!1})))return!1}}if(!0===r.showOnlyNumericColumns){if(!n.some((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))})))return!1}if(r.minValueThreshold&&r.minValueThreshold>0||r.maxValueThreshold&&r.maxValueThreshold<1/0){const t=Math.max(...n.map((t=>{const n=t[e];if("number"==typeof n)return n;if("string"==typeof n){const e=parseFloat(n);return isNaN(e)?0:e}return 0})));if(r.minValueThreshold&&t<r.minValueThreshold||r.maxValueThreshold&&t>r.maxValueThreshold)return!1}return!0},L_=(e,t)=>{if(!e||0===e.length)return[];const n=(e[0]?Object.keys(e[0]).map((t=>((e,t)=>{const n={title:e,dataIndex:e,key:e,ellipsis:!0,width:150};("员工姓名"===e||"employee_name"===e||e.includes("姓名"))&&(n.fixed="left",n.width=120);const r=e=>[/电话/i,/手机/i,/联系方式/i,/phone/i,/mobile/i,/账号/i,/账户/i,/account/i,/卡号/i,/银行/i,/身份证/i,/证件/i,/id.*card/i,/identity/i,/客户号/i,/编号/i,/工号/i,/员工号/i,/人员编号/i,/邮编/i,/postal/i,/zip/i,/code/i,/qq/i,/微信/i,/wechat/i,/email/i,/邮箱/i].some((t=>t.test(e))),i=((e,t)=>{if(r(e))return!1;if("number"==typeof t)return!0;if("string"==typeof t){const e=parseFloat(t);return!isNaN(e)&&isFinite(e)}return[/金额/i,/工资/i,/薪/i,/费/i,/津贴/i,/补贴/i,/奖金/i,/保险/i,/公积金/i,/税/i,/扣/i,/合计/i,/总/i,/实发/i,/应发/i,/比例/i,/率/i,/percent/i,/ratio/i,/amount/i,/salary/i,/pay/i].some((t=>t.test(e)))})(e,t);n.render=(t,n,o)=>{if((a=t)&&(a.$$typeof===Symbol.for("react.element")||a.$$typeof===Symbol.for("react.portal")||a.$$typeof===Symbol.for("react.fragment")||"object"==typeof a&&null!==a&&(a.$$typeof||a.$typeof||a.type&&a.props||void 0!==a._owner))){try{if(t.props&&void 0!==t.props.children)return l(t.props.children);if(t.props&&void 0!==t.props.value)return l(t.props.value);if(t.props){const e=Object.keys(t.props);for(const n of e){const e=t.props[n];if("string"==typeof e||"number"==typeof e)return l(e)}}}catch(s){}return"[无法提取数据]"}var a;if(null==t)return"-";if("object"==typeof t&&null!==t){if(Array.isArray(t))return`[数组:${t.length}项]`;const e=["value","text","label","name","title","content","data"];for(const r of e)if(r in t&&null!==t[r]&&void 0!==t[r])return l(t[r]);const n=Object.keys(t);for(const r of n){const e=t[r];if("function"!=typeof e&&null!=e)return l(e)}try{const e=JSON.stringify(t);return e.length>50?`[对象: ${n.slice(0,3).join(", ")}]`:e}catch(s){return"[复杂对象]"}}return l(t);function l(t){if(null==t)return"-";if("boolean"==typeof t)return t?"是":"否";if(r(e))return String(t);if("number"==typeof t)return t.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof t&&i){const e=parseFloat(t);if(!isNaN(e)&&isFinite(e))return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return String(t)||"-"}};const o=t&&"number"==typeof t.value;return n.sorter=o?(t,n)=>{const r=t[e],i=n[e];return(r&&"object"==typeof r&&"value"in r?r.value||0:r||0)-(i&&"object"==typeof i&&"value"in i?i.value||0:i||0)}:(t,n)=>{const r=t[e],i=n[e],o=String(r&&"object"==typeof r&&"value"in r?r.value||"":r||""),a=String(i&&"object"==typeof i&&"value"in i?i.value||"":i||"");return o.localeCompare(a,"zh-CN")},n})(t,e[0][t]))):[]).filter((n=>{const r=n.title,i=z_(r,e[0][r],e,t);return i}));return F_(n,t,e)},F_=(e,t,n)=>{switch(t.columnSortMode||"byCategory"){case"byCategory":default:return U_(e);case"byAlphabet":return W_(e);case"byImportance":return V_(e);case"byDataType":return q_(e,n);case"custom":return H_(e,t.customColumnOrder||[])}},$_=e=>"员工姓名"===e||"employee_name"===e||e.includes("姓名")||"姓名"===e,U_=e=>e.sort(((e,t)=>{const n=e.title,r=t.title;if($_(n)&&!$_(r))return-1;if(!$_(n)&&$_(r))return 1;if($_(n)&&$_(r))return 0;const i=B_(n),o=B_(r);return i.priority!==o.priority?i.priority-o.priority:n.localeCompare(r,"zh-CN")})),W_=e=>e.sort(((e,t)=>{const n=e.title,r=t.title;return $_(n)&&!$_(r)?-1:!$_(n)&&$_(r)?1:$_(n)&&$_(r)?0:n.localeCompare(r,"zh-CN")})),V_=e=>{const t={"员工姓名":1,"员工编号":2,"身份证号":3,"部门名称":4,"职位名称":5,"基本工资":10,"岗位工资":11,"津贴合计":12,"补贴合计":13,"奖金合计":14,"应发合计":15,"实发合计":16,"个人所得税":20,"养老保险":21,"医疗保险":22,"失业保险":23,"住房公积金":24,"工作天数":30,"考勤天数":31,"加班费":32};return e.sort(((e,n)=>{const r=e.title,i=n.title;if($_(r)&&!$_(i))return-1;if(!$_(r)&&$_(i))return 1;const o=t[r]||999,a=t[i]||999;return o!==a?o-a:r.localeCompare(i,"zh-CN")}))},q_=(e,t)=>e.sort(((e,n)=>{const r=e.title,i=n.title;if($_(r)&&!$_(i))return-1;if(!$_(r)&&$_(i))return 1;if($_(r)&&$_(i))return 0;const o=G_(r,t),a=G_(i,t);return o&&!a?-1:!o&&a?1:r.localeCompare(i,"zh-CN")})),H_=(e,t)=>{if(!t||0===t.length)return U_(e);const n=new Map;let r=1;return t.forEach((e=>{$_(e)||n.set(e,r++)})),e.sort(((e,t)=>{const r=e.title,i=t.title;if($_(r)&&!$_(i))return-1;if(!$_(r)&&$_(i))return 1;if($_(r)&&$_(i))return 0;const o=n.get(r),a=n.get(i);if(void 0!==o&&void 0!==a)return o-a;if(void 0!==o&&void 0===a)return-1;if(void 0===o&&void 0!==a)return 1;const l=B_(r),s=B_(i);return l.priority!==s.priority?l.priority-s.priority:r.localeCompare(i,"zh-CN")}))},G_=(e,t)=>{if(!t||0===t.length)return!1;const n=[/金额/i,/工资/i,/薪/i,/费/i,/津贴/i,/补贴/i,/奖金/i,/保险/i,/公积金/i,/税/i,/扣/i,/合计/i,/总/i,/实发/i,/应发/i,/天数/i,/小时/i,/次数/i,/比例/i,/率/i].some((t=>t.test(e))),r=t.slice(0,10),i=r.filter((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))})).length/r.length>.7;return n||i},Y_={hideJsonbColumns:!0,hideZeroColumns:!0,hideEmptyColumns:!0,includePatterns:[],excludePatterns:["*id","*时间","*日期"],minValueThreshold:0,maxValueThreshold:1/0,showOnlyNumericColumns:!1,columnSortMode:"byCategory",customColumnOrder:[]},X_="_searchContainer_u8wom_2",{Text:K_}=V,Z_={[Jt.AUTO]:{label:"智能搜索",icon:o.jsx(yt,{}),color:"blue",description:"自动判断搜索模式，支持数值范围查询"},[Jt.FUZZY]:{label:"模糊搜索",icon:o.jsx(pt,{}),color:"green",description:"支持拼写错误和部分匹配"},[Jt.EXACT]:{label:"精确搜索",icon:o.jsx(mt,{}),color:"orange",description:"完全匹配搜索内容"},[Jt.RANGE]:{label:"数值范围",icon:o.jsx(mt,{}),color:"purple",description:"支持数值范围搜索，如: 实发合计>10000"},[Jt.REGEX]:{label:"正则表达式",icon:o.jsx(mt,{}),color:"red",description:"支持正则表达式搜索"},[Jt.SMART]:{label:"智能分析",icon:o.jsx(yt,{}),color:"cyan",description:"基于AI的智能搜索分析"}},Q_=({value:e="",placeholder:t="搜索员工姓名、编号、部门、职位... 或 实发合计>10000",onSearch:n,onClear:r,suggestions:i=[],searchMode:a=Jt.AUTO,onSearchModeChange:l,isSearching:s=!1,totalResults:c=0,searchTime:u=0,disabled:d=!1,showHistory:f=!0,showPerformance:p=!0,className:h})=>{var y;const[m,v]=It.useState(!1),g=It.useRef(null),{history:b,addToHistory:x,clearHistory:j}=((e=10)=>{const[t,n]=It.useState([]);return{history:t,addToHistory:It.useCallback((t=>{t.trim()&&n((n=>{const r=n.filter((e=>e!==t));return[t,...r].slice(0,e)}))}),[e]),clearHistory:It.useCallback((()=>{n([])}),[]),removeFromHistory:It.useCallback((e=>{n((t=>t.filter((t=>t!==e))))}),[])}})(),w=It.useCallback(rn.debounce(((e,t)=>{e.trim()&&n(e.trim(),t)}),300),[n]);It.useEffect((()=>()=>{w.cancel()}),[w]);const O=async e=>{const{searchQuery:t,searchMode:r}=e,i=(null==t?void 0:t.trim())||"";return i&&x(i),n(i,r||Jt.AUTO),v(!1),Promise.resolve()};p&&(c>0||u>0)&&u>0&&(o.Fragment,u.toFixed(1));const S=zt.useMemo((()=>({searchQuery:e,searchMode:a})),[]);return It.useEffect((()=>{g.current&&g.current.setFieldsValue({searchQuery:e,searchMode:a})}),[e,a]),o.jsx("div",{className:`${h} search-form-controls`,children:o.jsx(ct,{formRef:g,layout:"horizontal",submitter:{render:()=>null},onFinish:O,onValuesChange:(e,t)=>{var i;const{searchQuery:o,searchMode:a}=t;if(e.searchMode&&l&&(l(e.searchMode),(null==o?void 0:o.trim())&&n(o.trim(),e.searchMode)),void 0!==e.searchQuery){const t=(null==(i=e.searchQuery)?void 0:i.trim())||"";t?(v(!0),w(t,a||Jt.AUTO)):(v(!1),w.cancel(),""===e.searchQuery&&r())}},initialValues:S,autoFocusFirstInput:!1,preserve:!1,style:{margin:0},children:o.jsxs("div",{className:X_,children:[o.jsx("div",{style:{flexShrink:0},children:o.jsx(ut,{name:"searchMode",width:96,options:Object.entries(Z_).map((([e,t])=>({label:o.jsxs(ue,{size:1,style:{height:"18px",lineHeight:"18px"},children:[o.jsx("span",{style:{fontSize:"11px",lineHeight:"18px"},children:t.icon}),o.jsx("span",{style:{fontSize:"12px",lineHeight:"18px"},children:t.label})]}),value:e}))),fieldProps:{size:"small",disabled:d,style:{minWidth:96,maxHeight:"26px",overflow:"hidden"},optionLabelProp:"label"},tooltip:(null==(y=Z_[a])?void 0:y.description)||"选择搜索模式"})}),o.jsx("div",{style:{flex:1},children:o.jsx(dt,{name:"searchQuery",placeholder:t,fieldProps:{size:"small",style:{width:"100%"},disabled:d,prefix:s?o.jsx(De,{style:{color:"#1890ff",fontSize:"12px"}}):o.jsx(pt,{style:{color:"#999",fontSize:"12px"}}),suffix:o.jsx(ue,{size:2,children:o.jsx(Q,{type:"text",size:"small",icon:o.jsx(ft,{style:{fontSize:"12px"}}),onClick:()=>{var e;null==(e=g.current)||e.setFieldsValue({searchQuery:""}),v(!1),r()},style:{color:"#999",padding:"0 2px"}})}),onPressEnter:()=>{var e;const t=null==(e=g.current)?void 0:e.getFieldsValue();t&&O(t)},autoComplete:"off"}})}),f&&b.length>0&&o.jsx("div",{style:{flexShrink:0},children:o.jsx(Z,{title:"清空搜索历史",children:o.jsx(Q,{size:"small",icon:o.jsx(ht,{style:{fontSize:"12px"}}),onClick:j,disabled:d,style:{padding:"0 4px"}})})})]})})})},J_=({searchQuery:e,searchResults:t,isSearching:n,searchMode:r,suggestions:i,totalResults:a,searchTime:l,isEmptyQuery:s,hasResults:c,performance:u,onSearch:d,onClear:f,onSearchModeChange:p,placeholder:h="搜索员工姓名、编号、部门、职位...",showPerformance:y=!0})=>{const{t:m}=Wt(["payroll","common"]),[v,g]=It.useState(!1);return o.jsx(se,{title:o.jsxs(ye,{justify:"space-between",align:"middle",wrap:!1,children:[o.jsx(me,{flex:"auto",children:o.jsxs(ue,{wrap:!0,size:4,align:"center",children:[o.jsx(pt,{}),o.jsx("span",{children:"智能搜索"}),!s&&o.jsxs(ze,{color:"blue",style:{margin:0},children:[a," 条结果",u.isOptimal&&o.jsx("span",{style:{color:"#52c41a"},children:" ⚡"})]}),s&&o.jsx("span",{style:{fontSize:"12px",color:"#666",marginLeft:"2px"},children:"💡 支持多关键词搜索，用空格分隔"})]})}),o.jsx(me,{flex:"none",children:o.jsx(Q,{type:"text",size:"small",onClick:()=>g(!v),icon:v?o.jsx(vt,{}):o.jsx(gt,{}),style:{padding:"2px 6px",height:"auto",lineHeight:1},children:o.jsx("span",{style:{fontSize:"12px"},className:"search-card-toggle-text",children:v?"展开":"收起"})})})]}),size:"small",style:{marginBottom:8,border:"1px solid #d9d9d9",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.02)",overflow:"hidden"},styles:{header:{padding:"4px 8px",minHeight:"28px",borderBottom:v?"0px":"1px solid #f0f0f0"},body:{padding:v?0:"4px 6px",backgroundColor:"#fafafa"}},children:!v&&o.jsx("div",{style:{margin:0,padding:0},children:o.jsx(Q_,{value:e,onSearch:d,onClear:f,suggestions:i,searchMode:r,onSearchModeChange:p,isSearching:n,totalResults:a,searchTime:l,showPerformance:y,placeholder:h})})})},{Text:eP}=V,tP=({availableColumns:e,filterConfig:t,onFilterConfigChange:i})=>{const[a,l]=It.useState(!1),[s,c]=It.useState(t.customColumnOrder||[]),u=[{key:"byCategory",label:"按类别排序",icon:o.jsx(wt,{}),onClick:()=>d("byCategory")},{key:"byAlphabet",label:"按字母排序",icon:o.jsx(wt,{}),onClick:()=>d("byAlphabet")},{key:"byImportance",label:"按重要性排序",icon:o.jsx(wt,{}),onClick:()=>d("byImportance")},{key:"byDataType",label:"数字列优先",icon:o.jsx(wt,{}),onClick:()=>d("byDataType")},{type:"divider"},{key:"custom",label:"自定义排序",icon:o.jsx(bt,{}),onClick:()=>l(!0)}],d=e=>{i({...t,columnSortMode:e,customColumnOrder:[]});n.success(`已应用"${{byCategory:"按类别排序",byAlphabet:"按字母排序",byImportance:"按重要性排序",byDataType:"数字列优先"}[e]}"`)},f=e=>"员工姓名"===e||"employee_name"===e||e.includes("姓名")||"姓名"===e;return o.jsxs(o.Fragment,{children:[o.jsx(lt,{menu:{items:u},placement:"bottomLeft",trigger:["click"],children:o.jsx(Q,{size:"small",icon:o.jsx(bt,{}),title:`当前排序: ${{byCategory:"类别",byAlphabet:"字母",byImportance:"重要性",byDataType:"数字优先",custom:"自定义"}[t.columnSortMode||"byCategory"]||"类别"}`,children:"字段排序"})}),o.jsxs(r,{title:o.jsxs(ue,{children:[o.jsx(Qe,{}),"自定义字段排序"]}),open:a,onCancel:()=>l(!1),onOk:()=>{i({...t,columnSortMode:"custom",customColumnOrder:s}),l(!1),n.success(`已设置自定义排序，${s.length}个字段优先显示`)},width:600,okText:"应用排序",cancelText:"取消",children:[o.jsxs("div",{style:{marginBottom:16},children:[o.jsx(eP,{type:"secondary",children:"选择的字段将按顺序显示在表格前面，未选择的字段保持默认排序"}),o.jsx("br",{}),o.jsx(eP,{type:"secondary",style:{fontSize:"12px",color:"#52c41a"},children:"💡 员工姓名已自动固定在最左侧，无需手动排序"})]}),o.jsxs("div",{style:{display:"flex",gap:16,height:400},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx(eP,{strong:!0,children:"可选字段"}),o.jsx("div",{style:{border:"1px solid #d9d9d9",borderRadius:6,padding:8,marginTop:8,height:350,overflowY:"auto"},children:e.filter((e=>!s.includes(e)&&!f(e))).map((e=>o.jsxs("div",{style:{padding:"4px 8px",margin:"2px 0",background:"#fafafa",borderRadius:4,cursor:"pointer",fontSize:"12px",transition:"background 0.2s"},onClick:()=>{var t;f(t=e)?n.info("员工姓名已固定在最左侧，无需手动排序"):s.includes(t)||c([...s,t])},onMouseEnter:e=>{e.currentTarget.style.background="#e6f7ff"},onMouseLeave:e=>{e.currentTarget.style.background="#fafafa"},children:["+ ",e]},e)))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx(eP,{strong:!0,children:"排序字段"}),o.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:6,padding:8,marginTop:8,height:350,overflowY:"auto"},children:[s.map(((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",margin:"2px 0",background:"#f6ffed",border:"1px solid #d9f7be",borderRadius:4,fontSize:"12px"},children:[o.jsxs("span",{style:{flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},children:[t+1,". ",e]}),o.jsxs(ue,{size:"small",children:[o.jsx(Q,{type:"text",size:"small",icon:o.jsx(xt,{}),disabled:0===t,onClick:()=>(e=>{if(e>0){const t=[...s];[t[e-1],t[e]]=[t[e],t[e-1]],c(t)}})(t),style:{padding:"0 4px",minWidth:"auto"}}),o.jsx(Q,{type:"text",size:"small",icon:o.jsx(jt,{}),disabled:t===s.length-1,onClick:()=>(e=>{if(e<s.length-1){const t=[...s];[t[e],t[e+1]]=[t[e+1],t[e]],c(t)}})(t),style:{padding:"0 4px",minWidth:"auto"}}),o.jsx(Q,{type:"text",size:"small",onClick:()=>(e=>{const t=s.filter(((t,n)=>n!==e));c(t)})(t),style:{padding:"0 4px",minWidth:"auto",color:"#ff4d4f"},children:"×"})]})]},e))),0===s.length&&o.jsx("div",{style:{textAlign:"center",color:"#999",padding:"20px",fontSize:"12px"},children:"点击左侧字段添加到排序列表"})]})]})]})]})]})},{Panel:nP}=rt,{Option:rP}=Ce,iP={hideJsonbColumns:!0,hideZeroColumns:!0,hideEmptyColumns:!0,includePatterns:[],excludePatterns:["*id","*时间","*日期"],minValueThreshold:0,maxValueThreshold:1/0,showOnlyNumericColumns:!1},oP=({visible:e,onClose:t,filterConfig:r,onFilterConfigChange:i,dataSource:a})=>{const{t:l}=Wt(["payroll","common"]),s=It.useRef(null),[c,u]=zt.useState(!1),[d,f]=zt.useState(!1),p=It.useRef(null),h=zt.useMemo((()=>{if(!a||0===a.length)return[];const e=new Set;return a.forEach((t=>{Object.keys(t).forEach((t=>{"id"===t||"key"===t||t.startsWith("_")||e.add(t)}))})),Array.from(e).sort()}),[a]),y=zt.useMemo((()=>{const e={basic:[],salary:[],insurance:[],deduction:[],others:[]};return h.forEach((t=>{const n=t.toLowerCase();n.includes("姓名")||n.includes("编号")||n.includes("部门")||n.includes("职位")?e.basic.push(t):n.includes("工资")||n.includes("薪")||n.includes("津贴")||n.includes("补贴")||n.includes("奖金")?e.salary.push(t):n.includes("保险")||n.includes("公积金")||n.includes("社保")?e.insurance.push(t):n.includes("扣")||n.includes("税")||n.includes("费")?e.deduction.push(t):e.others.push(t)})),e}),[h]),m=e=>{i({...r,...e})},v=()=>{p.current&&clearTimeout(p.current),f(!1),t()};It.useEffect((()=>()=>{p.current&&clearTimeout(p.current)}),[]),It.useEffect((()=>{const t=t=>{"Escape"===t.key&&e&&!c&&v()};if(e)return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e,c]);const g=o.jsxs("div",{style:{maxWidth:280,fontSize:"13px"},children:[o.jsx("div",{style:{marginBottom:12,fontWeight:600,color:"#1890ff",borderBottom:"1px solid #f0f0f0",paddingBottom:6},children:"🎯 智能面板控制"}),o.jsxs("div",{style:{lineHeight:"1.7"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"🖱️"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"智能收起"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["鼠标离开后 ",o.jsx("span",{style:{color:"#f5222d",fontWeight:500},children:"800ms"})," 自动收起"]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"📌"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"固定模式"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["点击图钉",c&&o.jsx("span",{style:{color:"#52c41a",fontWeight:500},children:" (当前已固定)"})]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"⌨️"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"快捷键"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["按 ",o.jsx("kbd",{style:{padding:"1px 4px",background:"linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%)",border:"1px solid #d9d9d9",borderRadius:"3px",fontSize:"11px",fontFamily:"monospace"},children:"ESC"})," 快速关闭"]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"✕"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"手动关闭"}),o.jsx("div",{style:{color:"#666",fontSize:"12px"},children:"点击关闭按钮随时关闭"})]})]})]})]}),b=e=>{switch(e){case"salary":m({...iP,includePatterns:["*工资*","*薪资*","*薪酬*","*合计*","*金额*","*应发*","*实发*","*津贴*","*补贴*","*奖金*"],excludePatterns:["*id*","*时间*","*日期*","*编号*"]}),n.success('已应用"工资相关"预设');break;case"insurance":m({...iP,includePatterns:["*保险*","*公积金*","*社保*","*医疗*","*养老*","*失业*","*工伤*","*生育*"],excludePatterns:["*id*","*时间*","*日期*"]}),n.success('已应用"保险公积金"预设');break;case"amounts":m({...iP,showOnlyNumericColumns:!0,excludePatterns:["*id*","*比例*","*费率*"]}),n.success('已应用"只看金额"预设');break;case"reset":m(iP),n.success("已重置为默认配置");break;case"all":m({...iP,includePatterns:["*"],excludePatterns:[]}),n.success('已应用"显示所有列"预设')}},x=e=>{switch(e){case"byCategory":m({...r,columnSortMode:"byCategory",customColumnOrder:[]}),n.success('已应用"按类别排序"');break;case"byAlphabet":m({...r,columnSortMode:"byAlphabet",customColumnOrder:[]}),n.success('已应用"按字母排序"');break;case"byImportance":m({...r,columnSortMode:"byImportance",customColumnOrder:[]}),n.success('已应用"按重要性排序"');break;case"byDataType":m({...r,columnSortMode:"byDataType",customColumnOrder:[]}),n.success('已应用"数字列优先"')}};return e?o.jsx(se,{ref:s,title:o.jsxs(ue,{style:{width:"100%",justifyContent:"space-between"},children:[o.jsxs(ue,{children:[o.jsx(mt,{}),o.jsx("span",{children:"列筛选配置"}),o.jsx(St,{content:g,title:null,trigger:["hover","click"],placement:"bottomLeft",overlayStyle:{zIndex:1050,maxWidth:350},mouseEnterDelay:.5,mouseLeaveDelay:.1,destroyTooltipOnHide:!0,children:o.jsx(_t,{style:{color:"#999",fontSize:"14px",cursor:"help",marginLeft:"4px",transition:"color 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#1890ff"},onMouseLeave:e=>{e.currentTarget.style.color="#999"}})}),d&&o.jsx("span",{style:{color:"#999",fontSize:"12px"},children:"即将收起..."})]}),o.jsxs(ue,{children:[o.jsx(tP,{availableColumns:h,filterConfig:r,onFilterConfigChange:i}),o.jsx(Z,{title:c?"取消固定":"固定面板",children:o.jsx(Q,{type:"text",size:"small",icon:c?o.jsx(Pt,{}):o.jsx(kt,{}),onClick:()=>{u(!c),p.current&&(clearTimeout(p.current),f(!1))},style:{color:c?"#1890ff":"#999",padding:"0 4px"}})}),o.jsx(Z,{title:"关闭面板 (ESC)",children:o.jsx(Q,{type:"text",size:"small",icon:o.jsx(At,{}),onClick:v,style:{color:"#999",padding:"0 4px"}})})]})]}),size:"small",style:{marginBottom:16,border:c?"2px solid #1890ff":void 0,boxShadow:c?"0 4px 12px rgba(24, 144, 255, 0.2)":void 0,transition:"all 0.3s ease",opacity:d?.7:1},onMouseEnter:()=>{p.current&&(clearTimeout(p.current),f(!1))},onMouseLeave:()=>{!c&&e&&(f(!0),p.current=setTimeout((()=>{t(),f(!1)}),800))},children:o.jsxs(rt,{size:"small",children:[o.jsx(nP,{header:"基础筛选",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideJsonbColumns,onChange:e=>m({hideJsonbColumns:e})}),o.jsx("span",{children:"隐藏 JSONB 列（原始数据列）"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideZeroColumns,onChange:e=>m({hideZeroColumns:e})}),o.jsx("span",{children:"隐藏全零列"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideEmptyColumns,onChange:e=>m({hideEmptyColumns:e})}),o.jsx("span",{children:"隐藏空列"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.showOnlyNumericColumns,onChange:e=>m({showOnlyNumericColumns:e})}),o.jsx("span",{children:"只显示数值列"})]})]})},"basic"),o.jsx(nP,{header:"模式匹配",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs("label",{children:["包含模式（支持通配符 * 和 ?）：",o.jsx("span",{style:{color:"#666",fontSize:"12px",marginLeft:"8px"},children:'设置后仅显示匹配的列，例如 "*工资*" 显示所有包含"工资"的列'})]}),o.jsxs(Ce,{mode:"tags",style:{width:"100%",minHeight:"32px"},placeholder:"例如：*工资*、*保险*、*金额*（使用*通配符）",value:r.includePatterns,onChange:e=>{m({includePatterns:e})},maxTagCount:"responsive",maxTagPlaceholder:e=>`+${e.length}项...`,allowClear:!0,showSearch:!0,tokenSeparators:[",","，",";","；"," "],filterOption:(e,t)=>("string"==typeof(null==t?void 0:t.children)?t.children:String((null==t?void 0:t.children)||"")).toLowerCase().includes(e.toLowerCase()),dropdownStyle:{maxHeight:400,overflow:"auto"},tagRender:e=>{const{label:t,closable:n,onClose:r}=e;return o.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",margin:"2px",backgroundColor:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"4px",fontSize:"12px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:String(t),children:[t,n&&o.jsx("span",{style:{marginLeft:"4px",cursor:"pointer"},onClick:r,children:"×"})]})},children:[o.jsx(rP,{value:"*工资*",children:'*工资*（包含"工资"）'}),o.jsx(rP,{value:"*保险*",children:'*保险*（包含"保险"）'}),o.jsx(rP,{value:"*金额*",children:'*金额*（包含"金额"）'}),o.jsx(rP,{value:"*合计*",children:'*合计*（包含"合计"）'}),o.jsx(rP,{value:"*津贴*",children:'*津贴*（包含"津贴"）'}),o.jsx(rP,{value:"*补贴*",children:'*补贴*（包含"补贴"）'}),o.jsx(rP,{value:"*奖金*",children:'*奖金*（包含"奖金"）'}),o.jsx(rP,{value:"基本*",children:'基本*（以"基本"开头）'}),o.jsx(rP,{value:"*费额",children:'*费额（以"费额"结尾）'}),y.basic.length>0&&o.jsxs(o.Fragment,{children:[y.basic.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确匹配）"]},e))),y.basic.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.salary.length>0&&o.jsxs(o.Fragment,{children:[y.salary.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确匹配）"]},e))),y.salary.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.insurance.length>0&&o.jsxs(o.Fragment,{children:[y.insurance.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确匹配）"]},e))),y.insurance.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.deduction.length>0&&o.jsxs(o.Fragment,{children:[y.deduction.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确匹配）"]},e))),y.deduction.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.others.length>0&&o.jsxs(o.Fragment,{children:[y.others.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确匹配）"]},e))),y.others.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{children:"排除模式（支持通配符 * 和 ?）："}),o.jsxs(Ce,{mode:"tags",style:{width:"100%",minHeight:"32px"},placeholder:"例如：*id、*时间、*日期",value:r.excludePatterns,onChange:e=>{m({excludePatterns:e})},maxTagCount:"responsive",maxTagPlaceholder:e=>`+${e.length}项...`,allowClear:!0,showSearch:!0,tokenSeparators:[",","，",";","；"," "],filterOption:(e,t)=>("string"==typeof(null==t?void 0:t.children)?t.children:String((null==t?void 0:t.children)||"")).toLowerCase().includes(e.toLowerCase()),dropdownStyle:{maxHeight:400,overflow:"auto"},tagRender:e=>{const{label:t,closable:n,onClose:r}=e;return o.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",margin:"2px",backgroundColor:"#fff2e8",border:"1px solid #ffbb96",borderRadius:"4px",fontSize:"12px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:String(t),children:[t,n&&o.jsx("span",{style:{marginLeft:"4px",cursor:"pointer"},onClick:r,children:"×"})]})},children:[o.jsx(rP,{value:"*id",children:"*id"}),o.jsx(rP,{value:"*时间",children:"*时间"}),o.jsx(rP,{value:"*日期",children:"*日期"}),o.jsx(rP,{value:"*编号",children:"*编号"}),Object.entries(y).map((([e,t])=>t.length>0?o.jsxs(zt.Fragment,{children:[t.map((e=>o.jsxs(rP,{value:e,children:[e,"（精确排除）"]},`exclude-${e}`))),t.map((e=>o.jsxs(rP,{value:`*${e}*`,children:["*",e,"*（包含排除）"]},`exclude-*${e}*`)))]},e):null))]})]})]})},"patterns"),o.jsx(nP,{header:"数值范围",children:o.jsxs(ue,{wrap:!0,children:[o.jsx("span",{children:"最小值阈值："}),o.jsx(Ot,{value:r.minValueThreshold,onChange:e=>m({minValueThreshold:e||0}),placeholder:"0"}),o.jsx("span",{children:"最大值阈值："}),o.jsx(Ot,{value:r.maxValueThreshold===1/0?void 0:r.maxValueThreshold,onChange:e=>m({maxValueThreshold:e||1/0}),placeholder:"无限制"})]})},"values"),o.jsx(nP,{header:"快速预设",children:o.jsxs(ue,{wrap:!0,children:[o.jsx(Q,{size:"small",onClick:()=>b("salary"),children:"工资相关"}),o.jsx(Q,{size:"small",onClick:()=>b("insurance"),children:"保险公积金"}),o.jsx(Q,{size:"small",onClick:()=>b("amounts"),children:"只看金额"}),o.jsx(Q,{size:"small",type:"primary",onClick:()=>b("all"),children:"显示所有列"}),o.jsx(Q,{size:"small",onClick:()=>b("reset"),children:"重置默认"})]})},"presets"),o.jsx(nP,{header:"智能排序",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{marginBottom:"8px",display:"block"},children:["按字段类型排序：",o.jsx("span",{style:{color:"#666",fontSize:"12px",marginLeft:"8px"},children:"基础信息 → 薪资项目 → 扣减项目 → 合计金额"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(Q,{size:"small",onClick:()=>x("byCategory"),children:"按类别排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byAlphabet"),children:"按字母排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byImportance"),children:"按重要性排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byDataType"),children:"数字列优先"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{marginBottom:"8px",display:"block"},children:"自定义排序模式："}),o.jsx(Ce,{style:{width:"100%"},placeholder:"选择字段排序到前面",mode:"tags",onChange:e=>{return t=e,m({...r,columnSortMode:"custom",customColumnOrder:t}),void(t.length>0&&n.success(`已设置自定义排序，${t.length}个字段优先显示`));var t},tokenSeparators:[",","，",";","；"," "],children:h.map((e=>o.jsx(rP,{value:e,children:e},e)))}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"选中的字段将按选择顺序排在前面，其他字段保持默认顺序"})]})]})},"sorting"),!1]})}):null},aP={filename:"",sheetName:"工资数据",presetName:"默认预设",includeHeaders:!0,autoWidth:!0,maxColumnWidth:50,dateFormat:"YYYY年MM月",numberFormat:"#,##0.00"},lP=(e,t,n)=>{const r=n||"",i=[e||"薪资数据",t||"默认预设",(new Date).toISOString().slice(0,19).replace(/[:-]/g,"").replace("T","_")];return r&&i.splice(2,0,r),`${i.join("_")}.xlsx`},sP=(e,t)=>{const n=t.filter((e=>{const t="action"===e.key||"action"===e.dataIndex||"操作"===e.title,n=!0===e.hideInTable,r=!t&&!n;return r})).map(((e,t)=>{const n=e.title,r=`col_${t}`;let i=Math.max(2*n.length,12);return n.includes("姓名")&&(i=Math.max(i,15)),n.includes("编号")&&(i=Math.max(i,18)),(n.includes("金额")||n.includes("工资")||n.includes("合计"))&&(i=Math.max(i,16)),{header:n,key:r,width:i,column:e}})),r=e.map(((e,t)=>{const r={};return n.forEach(((n,i)=>{const o=n.column,a=o.dataIndex,l=e[a];try{let i;if(o.render&&"function"==typeof o.render){const n=o.render(l,e,t,{},{}),r=u_(n);if(a&&!n_(a)){const e=r.replace(/[,\s]/g,""),t=parseFloat(e);i=!isNaN(t)&&isFinite(t)&&"N/A"!==e&&"-"!==e?t:r||"-"}else i=r||"-"}else i=p_(l,o,e,t);r[n.key]=i}catch(s){r[n.key]="-"}})),r}));return{orderedColumns:n,processedData:r,stats:{recordCount:e.length,columnCount:n.length}}},cP=async(e,t,n)=>{const r=new an.Workbook;r.creator="Payroll System",r.lastModifiedBy="Payroll System",r.created=new Date,r.modified=new Date;const i=r.addWorksheet(n.sheetName);i.columns=e.map((e=>({header:e.header,key:e.key,width:e.width})));const o=i.getRow(1);return o.height=25,o.font={bold:!0,size:12},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},o.alignment={vertical:"middle",horizontal:"center"},o.eachCell((e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})),t.forEach(((t,n)=>{const r={};e.forEach((e=>{const n=t[e.key];r[e.key]=n}));i.addRow(r).eachCell(((t,n)=>{const r=e[n-1];r&&("number"==typeof t.value?(t.alignment={horizontal:"right",vertical:"middle"},r.column.dataIndex&&!n_(r.column.dataIndex)&&(t.numFmt="#,##0.00")):t.alignment={horizontal:"left",vertical:"middle"},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),i.eachRow((e=>{e.number>1&&(e.height=20)})),r},uP=async(e,t,r,i)=>{try{n.loading({content:"正在生成Excel文件...",key:"export"});const o={...aP,...i,filename:(null==i?void 0:i.filename)||lP(r,(null==i?void 0:i.presetName)||aP.presetName,(null==i?void 0:i.sheetName)!==aP.sheetName?null==i?void 0:i.sheetName:void 0)},{orderedColumns:a,processedData:l,stats:s}=sP(e,t);if(0===l.length)return n.warning({content:"没有数据可导出",key:"export"}),{success:!1,error:"没有数据可导出"};const c=await cP(a,l,o),u=await c.xlsx.writeBuffer(),d=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return on.saveAs(d,o.filename),n.success({content:`导出完成！文件：${o.filename}`,key:"export",duration:5}),{success:!0,filename:o.filename,recordCount:s.recordCount,columnCount:s.columnCount}}catch(o){const e=o instanceof Error?o.message:"未知错误";return n.error({content:`导出失败：${e}`,key:"export",duration:10}),{success:!1,error:e}}},dP=async(e,t,r,i)=>{if(0===e.length)return n.warning("请先选择要导出的数据行"),{success:!1,error:"没有选中任何数据"};const o={...i,sheetName:`选中数据_${e.length}条`,filename:lP(r,(null==i?void 0:i.presetName)||"默认预设",`选中数据_${e.length}条`)};return uP(e,t,r,o)},fP=Object.freeze(Object.defineProperty({__proto__:null,createWorkbookWithExcelJS:cP,exportSelectedRows:dP,exportToExcel:uP,generateExportFilename:lP,processExportDataWithExcelJS:sP},Symbol.toStringTag,{value:"Module"})),pP=({record:e,onViewDetail:t,onEdit:r,onDelete:i})=>{const{t:a}=Wt(["payroll","common"]);return o.jsxs(ue,{size:"small",children:[o.jsx(Ht,{icon:o.jsx(be,{}),onClick:()=>t(e),tooltipTitle:a("common:button.view"),actionType:"view"}),o.jsx(Ht,{icon:o.jsx(Ke,{}),onClick:()=>r(e),tooltipTitle:a("common:button.edit"),actionType:"edit"}),o.jsx(Ht,{icon:o.jsx(Se,{}),onClick:()=>{i?i(e):n.warning("删除功能开发中...")},tooltipTitle:a("common:button.delete"),actionType:"delete"})]})},hP=({dataCount:e,onExport:t,onOpenPresets:n,onOpenFilter:r,onRefresh:i,isExporting:a=!1,isRefreshing:l=!1})=>{const s=[o.jsxs(Q,{type:"primary",icon:o.jsx(ne,{}),onClick:t,disabled:0===e,loading:a,children:["导出Excel (",e,")"]},"export"),o.jsx(Q,{icon:o.jsx(Ct,{}),onClick:n,children:"预设报表管理"},"presets")];return r&&s.splice(s.length-1,0,o.jsx(Q,{icon:o.jsx(mt,{}),onClick:r,children:"列筛选"},"filter")),s},yP=({selectedRowKeys:e,selectedRows:t})=>{if(0===e.length)return null;const n=t.reduce(((e,t)=>{const n=t.应发合计,r="number"==typeof n?n:"string"==typeof n?parseFloat(n):0;return e+(isNaN(r)?0:r)}),0),r=t.reduce(((e,t)=>{const n=t.实发合计,r="number"==typeof n?n:"string"==typeof n?parseFloat(n):0;return e+(isNaN(r)?0:r)}),0);return o.jsxs("div",{children:["已选择 ",o.jsx("a",{style:{fontWeight:600},children:e.length})," 项   ",o.jsxs("span",{children:["应发合计: ¥",n.toFixed(2),"   实发合计: ¥",r.toFixed(2)]})]})},mP=({selectedRowKeys:e,selectedRows:t,onCleanSelected:r,onBatchDelete:i,onBatchExport:a})=>{const{t:l}=Wt(["payroll","common"]);return o.jsxs(ue,{children:[o.jsx("a",{onClick:()=>{i?i(e):n.warning("批量删除功能开发中...")},style:{color:"#ff4d4f"},children:"批量删除"}),o.jsx("a",{onClick:()=>{a?a(t):n.info("批量导出功能开发中...")},children:"批量导出"}),o.jsx("a",{onClick:r,children:"取消选择"})]})},vP=({onClose:e,extraActions:t=[]})=>{const{t:n}=Wt(["common"]);return[...t,o.jsx(Q,{onClick:e,children:n("common:button.close")},"close")]},gP=({visible:e,onClose:t,periodId:i,periodName:a})=>{const{t:l}=Wt(["payroll","common","employee"]),s=It.useRef(null),c=Zt();zt.useEffect((()=>{e&&i>0&&c.removeQueries({queryKey:h_.list({periodId:i.toString(),size:100,page:1})})}),[e,i,c]);const u=It.useMemo((()=>({periodId:i&&i>0?i.toString():void 0,size:100,page:1})),[i]),d=It.useMemo((()=>({enabled:e&&i>0,staleTime:3e4,gcTime:3e5})),[e,i]),{data:f,isLoading:p,error:h,refetch:y}=function(e,t={}){const{t:r}=Wt();Zt();const{enabled:i=!0,refetchInterval:o,onError:a,onSuccess:l}=t;return Qt({queryKey:h_.list(e),queryFn:async()=>{var t,i,o,s;try{const t=(await Ut.get(`/reports/payroll-modal/period/${e.periodId}?limit=${e.size||100}`)).data,n=e=>e&&(e.$$typeof===Symbol.for("react.element")||e.$$typeof===Symbol.for("react.portal")||e.$$typeof===Symbol.for("react.fragment")||"object"==typeof e&&null!==e&&(e.$$typeof||e.$typeof||e.type&&e.props||void 0!==e._owner)),r=e=>{if(null==e)return e;if(n(e))return"[已清理的React元素]";if(Array.isArray(e))return e.map((e=>r(e)));if("object"==typeof e){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]=r(n)})),t}return e},i=e=>{if(!e||"object"!=typeof e)return{};const t=r(e),n={};return Object.entries(t).forEach((([e,t])=>{if("object"==typeof t&&null!==t)if(Array.isArray(t))n[e]=t;else try{n[e]=JSON.stringify(t)}catch(r){n[e]="[无法序列化的对象]"}else n[e]=t})),n},o=t.map(((e,t)=>{var n,r,o,a,l,s,c,u,d,f,p,h,y,m,v,g,b,x,j,w,O,S,_,P,k,A,C,E,T,N,M,D,I,R,B,z,L,F,$,U,W,V,q,H,G,Y,X,K,Z,Q,J,ee,te,ne,re,ie,oe,ae,le,se,ce,ue,de,fe,pe,he,ye,me,ve,ge,be,xe,je,we;return{id:e.薪资条目id||t,key:e.薪资条目id||`row-${t}`,"薪资条目id":e.薪资条目id,"员工编号":null==(n=e.基础信息)?void 0:n.员工编号,"员工姓名":null==(r=e.基础信息)?void 0:r.员工姓名,"部门名称":null==(o=e.基础信息)?void 0:o.部门名称,"职位名称":null==(a=e.基础信息)?void 0:a.职位名称,"人员类别":null==(l=e.基础信息)?void 0:l.人员类别,"编制":null==(s=e.基础信息)?void 0:s.编制,"薪资期间名称":null==(c=e.基础信息)?void 0:c.薪资期间名称,"应发合计":null==(u=e.汇总信息)?void 0:u.应发合计,"扣除合计":null==(d=e.汇总信息)?void 0:d.扣除合计,"实发合计":null==(f=e.汇总信息)?void 0:f.实发合计,"电话":null==(h=null==(p=e.员工详细信息)?void 0:p.联系信息)?void 0:h.电话,"邮箱":null==(m=null==(y=e.员工详细信息)?void 0:y.联系信息)?void 0:m.邮箱,"家庭住址":null==(g=null==(v=e.员工详细信息)?void 0:v.联系信息)?void 0:g.家庭住址,"紧急联系人":null==(x=null==(b=e.员工详细信息)?void 0:b.联系信息)?void 0:x.紧急联系人,"紧急联系电话":null==(w=null==(j=e.员工详细信息)?void 0:j.联系信息)?void 0:w.紧急联系电话,"身份证号":null==(S=null==(O=e.员工详细信息)?void 0:O.个人信息)?void 0:S.身份证号,"出生日期":null==(P=null==(_=e.员工详细信息)?void 0:_.个人信息)?void 0:P.出生日期,"性别":null==(A=null==(k=e.员工详细信息)?void 0:k.个人信息)?void 0:A.性别,"民族":null==(E=null==(C=e.员工详细信息)?void 0:C.个人信息)?void 0:E.民族,"民族详情":null==(N=null==(T=e.员工详细信息)?void 0:T.个人信息)?void 0:N.民族详情,"婚姻状况":null==(D=null==(M=e.员工详细信息)?void 0:M.个人信息)?void 0:D.婚姻状况,"学历":null==(R=null==(I=e.员工详细信息)?void 0:I.个人信息)?void 0:R.学历,"政治面貌":null==(z=null==(B=e.员工详细信息)?void 0:B.个人信息)?void 0:z.政治面貌,"入职日期":null==(F=null==(L=e.员工详细信息)?void 0:L.工作信息)?void 0:F.入职日期,"首次工作日期":null==(U=null==($=e.员工详细信息)?void 0:$.工作信息)?void 0:U.首次工作日期,"现职位开始日期":null==(V=null==(W=e.员工详细信息)?void 0:W.工作信息)?void 0:V.现职位开始日期,"中断服务年限":null==(H=null==(q=e.员工详细信息)?void 0:q.工作信息)?void 0:H.中断服务年限,"员工状态":null==(Y=null==(G=e.员工详细信息)?void 0:G.工作信息)?void 0:Y.员工状态,"用工类型":null==(K=null==(X=e.员工详细信息)?void 0:X.工作信息)?void 0:K.用工类型,"合同类型":null==(Q=null==(Z=e.员工详细信息)?void 0:Z.工作信息)?void 0:Q.合同类型,"薪级":null==(ee=null==(J=e.员工详细信息)?void 0:J.工作信息)?void 0:ee.薪级,"薪档":null==(ne=null==(te=e.员工详细信息)?void 0:te.工作信息)?void 0:ne.薪档,"职位等级":null==(ie=null==(re=e.员工详细信息)?void 0:re.工作信息)?void 0:ie.职位等级,"社保客户号":null==(ae=null==(oe=e.员工详细信息)?void 0:oe.社保公积金信息)?void 0:ae.社保客户号,"住房公积金客户号":null==(se=null==(le=e.员工详细信息)?void 0:le.社保公积金信息)?void 0:se.住房公积金客户号,"开户银行":null==(ue=null==(ce=e.员工详细信息)?void 0:ce.银行账号信息)?void 0:ue.开户银行,"账户持有人":null==(fe=null==(de=e.员工详细信息)?void 0:de.银行账号信息)?void 0:fe.账户持有人,"银行账号":null==(he=null==(pe=e.员工详细信息)?void 0:pe.银行账号信息)?void 0:he.银行账号,"开户支行":null==(me=null==(ye=e.员工详细信息)?void 0:ye.银行账号信息)?void 0:me.开户支行,"银行代码":null==(ge=null==(ve=e.员工详细信息)?void 0:ve.银行账号信息)?void 0:ge.银行代码,"账户类型":null==(xe=null==(be=e.员工详细信息)?void 0:be.银行账号信息)?void 0:xe.账户类型,...i(e.应发明细),...i(null==(je=e.扣除明细)?void 0:je.个人扣缴项目),...i(null==(we=e.扣除明细)?void 0:we.单位扣缴项目),...i(e.计算参数)}})).map((e=>{const t={};return Object.keys(e).forEach((n=>{t[n]=d_(e[n])})),t})).map(((e,t)=>{const n={};return Object.keys(e).forEach((t=>{const r=e[t];if("object"==typeof r&&null!==r){const e=r.$$typeof||r.$typeof||r.type&&r.props;n[t]=e?"[数据错误:React元素]":r}else n[t]=r})),n})),a={data:o,total:o.length,page:e.page||1,size:e.size||100};return null==l||l(a),a}catch(h){const l=(null==(s=null==(o=null==(i=null==(t=null==h?void 0:h.response)?void 0:t.data)?void 0:i.detail)?void 0:o.error)?void 0:s.message)||(null==h?void 0:h.message)||r("common.error.fetchFailed");throw n.error(l),null==a||a(h),h}},enabled:i,refetchInterval:o,staleTime:0,gcTime:0,retry:(e,t)=>{var n,r;return!((null==(n=null==t?void 0:t.response)?void 0:n.status)>=400&&(null==(r=null==t?void 0:t.response)?void 0:r.status)<500)&&e<1},retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!0,throwOnError:!1})}(u,d),m=It.useMemo((()=>{if(!(null==f?void 0:f.data))return[];return f.data.map(((e,t)=>({...e,id:e.id||t})))}),[f]),v=It.useMemo((()=>m.map(((e,t)=>{const n={...e};return Object.keys(n).forEach((e=>{const t=n[e];if("object"==typeof t&&null!==t){(t.$$typeof||t.$typeof||t.type&&t.props)&&(n[e]="[数据错误:React元素]")}})),n}))),[m]),{query:g,results:b,isSearching:x,searchMode:j,suggestions:w,totalResults:O,searchTime:S,search:_,clearSearch:P,setSearchMode:k,isEmptyQuery:A,hasResults:C,performance:E}=((e,t={})=>{const n={...y_,...t},[r,i]=It.useState({query:"",results:[],isSearching:!1,searchMode:Jt.AUTO,suggestions:[],totalResults:0,searchTime:0}),o=It.useMemo((()=>{const t={...n,keys:void 0};return new en(e,t)}),[e,n]);It.useEffect((()=>{o.updateData(e),e.length>0&&0===r.results.length&&!r.query.trim()&&i((t=>({...t,results:e.map((e=>({item:e}))),totalResults:e.length})))}),[e.length]);const a=It.useCallback(((t,r=Jt.AUTO)=>{if(0===e.length)return;const a=performance.now();i((e=>({...e,isSearching:!0,query:t,searchMode:r})));try{const e=tn(o,t,r),l=performance.now()-a;if(i((t=>({...t,results:e,isSearching:!1,totalResults:e.length,searchTime:l}))),n.enableSuggestions&&t.trim()){const e=o.getSuggestions(t,n.maxSuggestions);i((t=>({...t,suggestions:e})))}}catch(h){i((e=>({...e,isSearching:!1,results:[],totalResults:0})))}}),[o,n,e.length]),l=It.useCallback(((e,t=Jt.AUTO)=>{a(e,t)}),[a]),s=It.useMemo((()=>nn(o,n.debounceDelay)),[o,n.debounceDelay]),c=It.useCallback(((e,t=Jt.AUTO)=>{i((n=>({...n,query:e,isSearching:!0,searchMode:t}))),s(e,(t=>{const r=performance.now();if(i((e=>({...e,results:t,isSearching:!1,totalResults:t.length,searchTime:r%1e3}))),n.enableSuggestions&&e.trim()){const t=o.getSuggestions(e,n.maxSuggestions);i((e=>({...e,suggestions:t})))}}))}),[s,o,n]),u=It.useCallback(((e,t=Jt.AUTO)=>{l(e,t)}),[l]),d=It.useCallback((()=>{i({query:"",results:e.map((e=>({item:e}))),isSearching:!1,searchMode:Jt.AUTO,suggestions:[],totalResults:e.length,searchTime:0})}),[e]),f=It.useCallback((e=>{i((t=>(t.query.trim()&&setTimeout((()=>{l(t.query,e)}),0),{...t,searchMode:e})))}),[l]),p=It.useCallback((e=>o.getSuggestions(e,n.maxSuggestions)),[o,n.maxSuggestions]);return{...r,search:c,searchImmediate:u,clearSearch:d,setSearchMode:f,getSuggestions:p,isEmptyQuery:!r.query.trim(),hasResults:r.results.length>0,performance:{searchTime:r.searchTime,resultsCount:r.totalResults,isOptimal:r.searchTime<100}}})(v,{threshold:.3,debounceDelay:300,enableSuggestions:!0,maxSuggestions:5}),T=It.useMemo((()=>{if(A||!b||0===b.length)return;const e=b.map((e=>v.findIndex((t=>t===e.item)))).filter((e=>-1!==e));return new Set(e)}),[b,v,A]),{filteredDataSource:N,filterConfig:M,currentColumnsState:D,generateColumns:I,setFilterConfig:R}=(({data:e,periodName:t,searchResults:n,searchMode:r=Jt.AUTO})=>{var i,o,a;const[l,s]=It.useState(Y_),[c,u]=It.useState({}),[d,f]=It.useState([]),[p,h]=It.useState({current:1,pageSize:10}),y=It.useMemo((()=>{let t=e||[];return n&&n.size>0&&(t=t.filter(((e,t)=>n.has(t)))),c.filters&&Object.entries(c.filters).forEach((([e,n])=>{n&&n.length>0&&(t=t.filter((t=>{const r=t[e];return n.includes(r)})))})),t}),[e,n,c.filters]),m=It.useMemo((()=>[{name:"basic",priority:1,patterns:["姓名","身份证号","部门","岗位","职务","账号","人员编号"]},{name:"salary",priority:2,patterns:["*工资*","*薪酬*","*基本*","*岗位*","*职务*","*津贴*","*补贴*"]},{name:"bonus",priority:3,patterns:["*奖金*","*绩效*","*考核*","*年终*"]},{name:"allowance",priority:4,patterns:["*补助*","*费用*","*交通*","*通讯*","*住房*"]},{name:"deduction",priority:5,patterns:["*扣除*","*扣*","*代扣*","*个税*","*社保*","*公积金*"]},{name:"insurance",priority:6,patterns:["*保险*","*医疗*","*养老*","*失业*","*工伤*","*生育*"]},{name:"fund",priority:7,patterns:["*公积金*","*住房*基金*"]},{name:"other",priority:8,patterns:["*其他*","*备注*","*说明*"]},{name:"period",priority:9,patterns:["*期间*","*月份*","*年月*"]},{name:"total",priority:10,patterns:["*合计*","*总计*","*应发*","*实发*","*净额*"]}]),[]),v=It.useCallback((e=>{for(const t of m)for(const n of t.patterns)if(s_(e,n))return t;return{name:"unknown",priority:999,patterns:[]}}),[m]),g=It.useCallback((async(e,n,r)=>{const{exportToExcel:i}=await qt((async()=>{const{exportToExcel:e}=await Promise.resolve().then((()=>fP));return{exportToExcel:e}}),void 0);return(await i(e,n,t,{presetName:r||"默认预设"})).success}),[t]);return It.useEffect((()=>{if(e&&e.length>0){const t=L_(e,l);f(t)}else f([])}),[e.length,null==(i=l.includePatterns)?void 0:i.join(","),null==(o=l.excludePatterns)?void 0:o.join(","),l.hideJsonbColumns,l.hideZeroColumns,l.hideEmptyColumns,l.showOnlyNumericColumns,l.minValueThreshold,l.maxValueThreshold,l.columnSortMode,null==(a=l.customColumnOrder)?void 0:a.join(",")]),{filteredDataSource:y,currentColumnsState:d,filterConfig:l,tableFilterState:c,pagination:p,setFilterConfig:s,setTableFilterState:u,setPagination:h,setCurrentColumnsState:f,generateColumns:L_,exportToExcel:g,shouldShowField:z_,getFieldGroup:v,formatNumber:r_,renderNumber:i_,formatDate:o_,formatDateToChinese:a_,safeStringify:l_,matchesPattern:s_,extractTextFromRender:u_,cleanValue:f_,processValue:p_}})({data:v,periodName:a,searchResults:T,searchMode:j});g_();const[B,z]=It.useState(!1),[L,F]=It.useState(!1),[$,U]=It.useState("默认预设");It.useEffect((()=>{}),[L,M]);const[W,V]=It.useState(!1),[q,H]=It.useState(!1),[G,Y]=It.useState(""),[X,K]=It.useState(null),[Z,Q]=It.useState(null),[J,ee]=It.useState(!1),[te,ne]=It.useState(!1),re=It.useMemo((()=>{if(!N||0===N.length)return D.length>0?[...D,{title:l("common:table.action"),key:"action",fixed:"right",width:120,render:(e,t)=>o.jsx(pP,{record:t,onViewDetail:ie,onEdit:oe,onDelete:ae})}]:[];return[...D.length>0?D:I(N,M),{title:l("common:table.action"),key:"action",fixed:"right",width:120,render:(e,t)=>o.jsx(pP,{record:t,onViewDetail:ie,onEdit:oe,onDelete:ae})}]}),[D,I,N,M,l]),ie=async e=>{e.薪资条目id?(Y(String(e.薪资条目id)),V(!0)):n.warning(l("payroll:entry_form.message.update_success_no_data"))},oe=async e=>{if(e.薪资条目id)try{const t=await Xt(e.薪资条目id);if(t.data){const e=t.data;K(e),Q(e.payroll_run_id),H(!0)}else n.error(l("payroll:entry_detail_modal.not_found"))}catch(t){n.error(`${l("payroll:entry_form.error_fetch_employee")}: ${t.message||l("common:unknown_error")}`)}else n.warning(l("payroll:runs_page.form.placeholder.payroll_period"))},ae=e=>{n.warning("删除功能开发中...")},le=()=>{ne(!0),y().finally((()=>{ne(!1),n.success(l("common:table.refreshSuccess"))}))},se=async e=>{if(0!==e.length){ee(!0);try{const t=[...re];await dP(e,t,a,{presetName:$})}catch(t){}finally{ee(!1)}}else n.warning("请先选择要导出的数据")};return o.jsxs(r,{title:`工资数据详情 - ${a||"未知期间"}`,open:e,onCancel:t,width:"90%",style:{top:20},footer:o.jsx(vP,{onClose:t}),destroyOnClose:!0,children:[o.jsx(J_,{searchQuery:g,searchResults:b,isSearching:x,searchMode:j,suggestions:w,totalResults:O,searchTime:S,isEmptyQuery:A,hasResults:C,performance:E,onSearch:_,onClear:P,onSearchModeChange:k,placeholder:"搜索员工姓名、编号、部门、职位... 或 实发合计>10000",showPerformance:!0}),o.jsx(oP,{visible:L,onClose:()=>F(!1),filterConfig:M,onFilterConfigChange:R,dataSource:v}),o.jsx(Et,{actionRef:s,columns:re,dataSource:N,rowKey:"id",loading:p,size:"small",scroll:{x:"max-content",y:600},search:!1,onLoad:()=>{},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t[0]}-${t[1]} 条/总共 ${e} 条`,pageSizeOptions:["10","20","50","100"],defaultPageSize:20},toolbar:{actions:hP({dataCount:N.length,onExport:async()=>{if(0!==N.length){ee(!0);try{const e=[...re];await uP(N,e,a,{presetName:$})}catch(e){}finally{ee(!1)}}else n.warning(l("payroll:batch_import.result.no_result"))},onOpenPresets:()=>z(!0),onOpenFilter:()=>F(!0),onRefresh:le,isExporting:J,isRefreshing:te})},rowSelection:{type:"checkbox"},tableAlertRender:({selectedRowKeys:e,selectedRows:t})=>o.jsx(yP,{selectedRowKeys:e,selectedRows:t}),tableAlertOptionRender:({selectedRowKeys:e,selectedRows:t,onCleanSelected:n})=>o.jsx(mP,{selectedRowKeys:e,selectedRows:t,onCleanSelected:n,onBatchExport:se}),options:{reload:le,density:!0,fullScreen:!0,setting:{draggable:!0,checkable:!0,listsHeight:500}}}),o.jsx(I_,{visible:B,onClose:()=>z(!1),currentFilterConfig:M,currentColumnSettings:{},getCurrentConfig:()=>({filterConfig:M,columnSettings:{},tableFilterState:{searchQuery:g||void 0,searchMode:j||Jt.AUTO,pagination:{current:1,pageSize:20}}}),onApplyPreset:e=>{var t,r;U(e.name||"默认预设"),e.filterConfig&&R(e.filterConfig);const i=(null==(t=e.tableFilterState)?void 0:t.searchQuery)||e.searchQuery;i&&_(i);const o=(null==(r=e.tableFilterState)?void 0:r.searchMode)||e.searchMode||Jt.AUTO;k(o),n.success(`已应用预设: ${e.name}`)}}),o.jsx(Kt,{visible:W,entryId:G,onClose:()=>{V(!1),Y("")}}),o.jsx(Ft,{visible:q,entry:X,payrollPeriodId:i,payrollRunId:Z,onSuccess:()=>{H(!1),K(null),Q(null),y(),n.success(l("payroll:entry_form.message.update_success"))},onClose:()=>{H(!1),K(null),Q(null)}})]})},{Text:bP}=V,xP=({currentPeriod:e,currentVersion:t,onPeriodChange:n,onVersionChange:r,onSettings:a,onDateChange:l})=>{const s=()=>{if(!t)return 0;const e=c(t.status_name);return Math.round((e+1)/5*100)},c=e=>{switch(e){case"DRAFT":case"草稿":default:return 0;case"PRUN_CALCULATED":case"已计算":return 1;case"IN_REVIEW":case"审核中":return 2;case"APPROVED_FOR_PAYMENT":case"批准支付":return 3;case"PAID":case"已支付":return 4}};return o.jsx(Tt,{offsetTop:0,children:o.jsx("div",{className:"payroll-context-bar",children:o.jsxs("div",{className:"context-content",children:[o.jsx("div",{className:"context-left",children:o.jsxs(ue,{size:"large",children:[o.jsxs(ue,{className:"context-section",children:[o.jsx(Te,{className:"context-icon period-icon"}),o.jsx("div",{className:"context-info",children:o.jsx(bP,{strong:!0,className:"context-label",children:"薪资周期"})}),o.jsx("div",{className:"period-actions",children:o.jsx(Ee,{picker:"month",format:"YYYY年MM月",placeholder:"选择月份",size:"small",value:(null==e?void 0:e.start_date)?i(e.start_date):null,onChange:e=>{e&&l&&l(e.year(),e.month()+1)},className:"period-date-picker",allowClear:!1})})]}),o.jsx(ve,{type:"vertical",className:"context-divider"}),o.jsxs(ue,{className:"context-section",children:[o.jsx(Ve,{className:"context-icon version-icon"}),o.jsxs("div",{className:"context-info",children:[o.jsx(bP,{strong:!0,className:"context-label",children:"工资运行"}),o.jsxs("div",{className:"version-status",children:[o.jsx(bP,{className:"context-value",children:(u=t,u?`版本 ${u.version_number||"1.0"}`:"无版本")}),t&&o.jsx(ze,{color:(()=>{if(!t)return"default";return{DRAFT:"processing","草稿":"processing",PRUN_CALCULATED:"warning","已计算":"warning",IN_REVIEW:"processing","审核中":"processing",APPROVED_FOR_PAYMENT:"success","批准支付":"success",PAID:"success","已支付":"success"}[t.status_name]||"default"})(),className:"status-tag",children:t.status_name})]})]}),r&&t&&o.jsx(Q,{size:"small",type:"text",icon:o.jsx(Nt,{}),onClick:r,className:"context-action",children:"切换"})]}),o.jsx(ve,{type:"vertical",className:"context-divider"}),t&&o.jsx("div",{className:"progress-section",children:o.jsxs(ue,{align:"center",children:[o.jsx($e,{className:"context-icon progress-icon"}),o.jsxs("div",{className:"progress-info",children:[o.jsx(bP,{className:"progress-label",children:(e=>{switch(e){case"DRAFT":case"草稿":default:return"数据准备";case"PRUN_CALCULATED":case"已计算":return"审核检查";case"IN_REVIEW":case"审核中":return"审核批准";case"APPROVED_FOR_PAYMENT":case"批准支付":return"支付准备";case"PAID":case"已支付":return"完成归档"}})(t.status_name)}),o.jsx(Mt,{percent:s(),size:"small",showInfo:!1,strokeColor:{"0%":"#108ee9","50%":"#52c41a","100%":"#87d068"},className:"progress-bar"})]}),o.jsxs("div",{className:"progress-detail",children:[o.jsxs(bP,{className:"progress-text",children:[s(),"%"]}),o.jsxs(bP,{className:"progress-step",children:["第",c(t.status_name)+1,"/5步"]})]})]})})]})}),o.jsx("div",{className:"context-right",children:o.jsxs(ue,{children:[e&&t&&o.jsx(Z,{title:`创建时间: ${i(t.initiated_at).format("YYYY-MM-DD HH:mm")}`,children:o.jsx(Q,{size:"small",type:"text",icon:o.jsx(J,{}),className:"context-info-btn"})}),a&&o.jsx(Q,{size:"small",type:"text",icon:o.jsx(Qe,{}),onClick:a,className:"context-settings",children:"设置"})]})})]})})});var u},{Header:jP,Content:wP}=Dt,OP=()=>{const{t:e}=Wt(["simplePayroll","common"]),{selectedPeriodId:t,selectedVersionId:n,payrollDataModalVisible:r,payrollStats:a,dataIntegrityStats:l,currentPeriod:s,currentVersion:c,versions:u,auditSummary:d,periodsLoading:f,auditLoading:p,setPayrollDataModalVisible:h,handleRefresh:y,handleRefreshAfterDelete:m,handleVersionRefresh:v,handleAuditRefresh:g,resetLoadingStates:b,handleNavigateToBulkImport:x,handleImportTaxData:j,handleDateChange:w,handleDeleteVersion:O}=ln();return!(null==s?void 0:s.start_date)||i(s.start_date).format("YYYY年MM月"),o.jsxs(Dt,{className:"simple-payroll-modern",children:[o.jsx(jP,{className:"payroll-header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{className:"header-title",children:e("simplePayroll:title")}),o.jsx("p",{className:"header-subtitle",children:e("simplePayroll:subtitle")})]})}),o.jsx(xP,{currentPeriod:s||null,currentVersion:c||null,onPeriodChange:()=>{},onVersionChange:()=>{},onSettings:()=>{},onDateChange:w}),o.jsx(wP,{className:"payroll-content",children:f?o.jsx("div",{className:"loading-container",children:o.jsx(W,{size:"large"})}):o.jsxs(o.Fragment,{children:[o.jsx(qS,{selectedVersionId:n,currentPeriod:s,currentVersion:c,versions:u,payrollStats:a,dataIntegrityStats:l,auditSummary:d,auditLoading:p,resetLoadingStates:b}),o.jsxs("div",{className:"main-grid",children:[o.jsx("div",{className:"sidebar-controls",children:o.jsx(YS,{selectedPeriodId:t,selectedVersionId:n,handleNavigateToBulkImport:x,handleImportTaxData:j,setPayrollDataModalVisible:h,onRefresh:y,onRefreshAfterDelete:m})}),o.jsx("div",{className:"main-workspace",children:t?o.jsx(t_,{selectedPeriod:s||null,selectedVersion:c||null,auditSummary:d,onRefresh:y,onAuditRefresh:g,onVersionRefresh:v,onDeleteVersion:O}):o.jsx(XS,{})})]})]})}),o.jsx(gP,{visible:r,onClose:()=>h(!1),periodId:t||0,periodName:null==s?void 0:s.name})]})};export{OP as default};
