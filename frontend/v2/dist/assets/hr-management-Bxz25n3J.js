const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/exceljs.min-BdG9S1UE.js","assets/react-vendor-D9vUlElp.js","assets/excel-vendor-BHR_E30J.js"])))=>i.map(i=>d[i]);
import{R as e,b as t,r as n,g as r,u as o}from"./react-vendor-D9vUlElp.js";import{j as a,P as s,T as i,A as l,B as c,s as u,R as p,a as d,I as m,S as h,b as f,D as g,c as y,d as _,e as v,f as b,g as x,h as w,i as S,k,l as C,M as E,C as j}from"./antd-vendor-C1V4cVms.js";import{j as I,g as P,f as T,l as A,a as O,e as R,b as L}from"./employee-service-EoGCXWnj.js";import{u as D}from"./i18n-vendor-DF0Yg0Xi.js";import{u as $}from"./state-vendor-BIBp6L7x.js";const N=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,o,a);return a},z=e=>e;const M=t=>{const n=(e=>e?N(e):N)(t),r=t=>function(t,n=z){const r=e.useSyncExternalStore(t.subscribe,(()=>n(t.getState())),(()=>n(t.getInitialState())));return e.useDebugValue(r),r}(n,t);return Object.assign(r,n),r},U=e=>e?M(e):M,B={},F=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map((e=>{if((e=function(e){return"/"+e}(e))in B)return;B[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,o&&r.setAttribute("nonce",o),document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))},W=()=>{const e=$((e=>e.auth.userPermissions)),n=$((e=>e.auth.userRoles)),r=$((e=>e.auth.userRoleCodes)),o=t.useCallback((t=>!!e&&e.includes(t)),[e]),a=t.useCallback((t=>!!e&&(0===t.length||t.every((t=>e.includes(t))))),[e]),s=t.useCallback((t=>!!e&&(0===t.length||t.some((t=>e.includes(t))))),[e]),i=t.useCallback((e=>!!r&&r.includes(e)),[r]),l=t.useCallback((e=>!!r&&(0===e.length||e.some((e=>r.includes(e))))),[r]),c=t.useCallback((e=>!!r&&(0===e.length||e.every((e=>r.includes(e))))),[r]);return{userPermissions:e,userRoles:n,userRoleCodes:r,hasPermission:o,hasAllPermissions:a,hasAnyPermission:s,hasRole:i,hasAnyRole:l,hasAllRoles:c}};function H(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=n.getItem(e))?t:null;return o instanceof Promise?o.then(r):r(o)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const G=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>G(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>G(e)(n)}}},Y=(e,t)=>(n,r,o)=>{let a={storage:H((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const i=new Set,l=new Set;let c=a.storage;if(!c)return e(((...e)=>{n(...e)}),r,o);const u=()=>{const e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},p=o.setState;o.setState=(e,t)=>{p(e,t),u()};const d=e(((...e)=>{n(...e),u()}),r,o);let m;o.getInitialState=()=>d;const h=()=>{var e,t;if(!c)return;s=!1,i.forEach((e=>{var t;return e(null!=(t=r())?t:d)}));const o=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:d))||void 0;return G(c.getItem.bind(c))(a.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}}return[!1,void 0]})).then((e=>{var t;const[o,s]=e;if(m=a.merge(s,null!=(t=r())?t:d),n(m,!0),o)return u()})).then((()=>{null==o||o(m,void 0),m=r(),s=!0,l.forEach((e=>e(m)))})).catch((e=>{null==o||o(void 0,e)}))};return o.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>s,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||h(),m||d},V={authToken:null,currentUserId:null,currentUserNumericId:null,currentUser:null,userRoles:null,userRoleCodes:null,userPermissions:null,isLoadingUser:!1,loginError:null,fetchUserError:null},q=e=>{if(!e||!e.roles)return{roles:null,roleCodes:null,permissions:null};return{roles:e.roles.map((e=>e.name)),roleCodes:e.roles.map((e=>e.code)),permissions:Array.from(new Set(e.roles.flatMap((e=>{var t;return(null==(t=e.permissions)?void 0:t.map((e=>e.code)))||[]}))))}},K=(e,t)=>{if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},J=U()(Y(((e,t)=>({...V,loginAction:async t=>{e({isLoadingUser:!0,loginError:null,fetchUserError:null});try{const n=await A(t),{access_token:r,user:o}=n;if(!r||!o){throw new Error("Access token or user object not found in login response")}const a=I(r).sub,{roles:s,roleCodes:i,permissions:l}=q(o);e((e=>({...e,authToken:r,currentUser:o,currentUserId:a,currentUserNumericId:o.id,userRoles:K(e.userRoles,s)?e.userRoles:s,userRoleCodes:K(e.userRoleCodes,i)?e.userRoleCodes:i,userPermissions:K(e.userPermissions,l)?e.userPermissions:l,loginError:null,isLoadingUser:!1})))}catch(n){const t=T(n),r={...V,loginError:t,isLoadingUser:!1};e(r)}},fetchCurrentUserDetails:async n=>{if(null==n){return void e({fetchUserError:"Numeric User ID is missing, cannot fetch details.",currentUser:null,userRoles:null,userPermissions:null,isLoadingUser:!1})}e({isLoadingUser:!0,fetchUserError:null});try{const t=await P(n),{roles:r,roleCodes:o,permissions:a}=q(t);e((e=>({...e,currentUser:t,currentUserNumericId:t.id,currentUserId:t.username,userRoles:K(e.userRoles,r)?e.userRoles:r,userRoleCodes:K(e.userRoleCodes,o)?e.userRoleCodes:o,userPermissions:K(e.userPermissions,a)?e.userPermissions:a,isLoadingUser:!1,fetchUserError:null})))}catch(r){const n=T(r);t().logoutAction();e({fetchUserError:n})}},logoutAction:()=>{e(V)},initializeAuth:()=>{const n=t().authToken,r=t().currentUserNumericId,o=t().isLoadingUser;if(n)try{const a=I(n),s=Date.now()/1e3;if(a.exp&&a.exp<s)return void t().logoutAction();const i={currentUserId:a.sub};e(i),o||(null!=r?t().fetchCurrentUserDetails(r):t().logoutAction())}catch(a){t().logoutAction()}else(t().currentUser||t().userRoles||t().userPermissions||t().authToken)&&e(V)},clearLoginError:()=>{e({loginError:null})},clearFetchUserError:()=>{e({fetchUserError:null})},setAuthToken:t=>{e({authToken:t})}})),{name:"auth-storage",storage:H((()=>localStorage)),partialize:e=>({authToken:e.authToken,currentUserNumericId:e.currentUserNumericId,currentUser:e.currentUser})})),Q=()=>{const{userPermissions:e,hasPermission:n,hasAnyPermission:r}=W(),{currentUser:o,userPermissions:a}=J(),s=t.useMemo((()=>{if(!e)return{canViewList:!0,canViewDetail:!0,canCreate:!0,canUpdate:!0,canDelete:!0,canExport:!0,canBulkImport:!0,canViewModule:!0};return{canViewList:r(["employee:view_list","employee:view","hr:employee_view","EMPLOYEE_LIST_VIEW"]),canViewDetail:r(["employee:view_detail","employee:view","hr:employee_detail","EMPLOYEE_DETAIL_VIEW"]),canCreate:r(["employee:create","hr:employee_create","employee:add","EMPLOYEE_CREATE"]),canUpdate:r(["employee:update","employee:edit","hr:employee_update","hr:employee_edit","EMPLOYEE_UPDATE","EMPLOYEE_EDIT"]),canDelete:r(["employee:delete","hr:employee_delete","EMPLOYEE_DELETE"]),canExport:r(["employee:export","hr:employee_export","employee:download","EMPLOYEE_EXPORT"]),canBulkImport:r(["employee:bulk_import","employee:import","hr:employee_import","EMPLOYEE_IMPORT"]),canViewModule:r(["employee:module_view","hr:module_view","employee:access","HR_MODULE_ACCESS"])}}),[e,r]);return{...s,hasPermission:n,hasAnyPermission:r,userPermissions:e,permissions:s}};var X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X.apply(this,arguments)};function Z(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ee="-ms-",te="-moz-",ne="-webkit-",re="comm",oe="rule",ae="decl",se="@keyframes",ie=Math.abs,le=String.fromCharCode,ce=Object.assign;function ue(e){return e.trim()}function pe(e,t){return(e=t.exec(e))?e[0]:e}function de(e,t,n){return e.replace(t,n)}function me(e,t,n){return e.indexOf(t,n)}function he(e,t){return 0|e.charCodeAt(t)}function fe(e,t,n){return e.slice(t,n)}function ge(e){return e.length}function ye(e){return e.length}function _e(e,t){return t.push(e),e}function ve(e,t){return e.filter((function(e){return!pe(e,t)}))}var be=1,xe=1,we=0,Se=0,ke=0,Ce="";function Ee(e,t,n,r,o,a,s,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:be,column:xe,length:s,return:"",siblings:i}}function je(e,t){return ce(Ee("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ie(e){for(;e.root;)e=je(e.root,{children:[e]});_e(e,e.siblings)}function Pe(){return ke=Se<we?he(Ce,Se++):0,xe++,10===ke&&(xe=1,be++),ke}function Te(){return he(Ce,Se)}function Ae(){return Se}function Oe(e,t){return fe(Ce,e,t)}function Re(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Le(e){return ue(Oe(Se-1,Ne(91===e?e+2:40===e?e+1:e)))}function De(e){for(;(ke=Te())&&ke<33;)Pe();return Re(e)>2||Re(ke)>3?"":" "}function $e(e,t){for(;--t&&Pe()&&!(ke<48||ke>102||ke>57&&ke<65||ke>70&&ke<97););return Oe(e,Ae()+(t<6&&32==Te()&&32==Pe()))}function Ne(e){for(;Pe();)switch(ke){case e:return Se;case 34:case 39:34!==e&&39!==e&&Ne(ke);break;case 40:41===e&&Ne(e);break;case 92:Pe()}return Se}function ze(e,t){for(;Pe()&&e+ke!==57&&(e+ke!==84||47!==Te()););return"/*"+Oe(t,Se-1)+"*"+le(47===e?e:Pe())}function Me(e){for(;!Re(Te());)Pe();return Oe(e,Se)}function Ue(e){return function(e){return Ce="",e}(Be("",null,null,null,[""],e=function(e){return be=xe=1,we=ge(Ce=e),Se=0,[]}(e),0,[0],e))}function Be(e,t,n,r,o,a,s,i,l){for(var c=0,u=0,p=s,d=0,m=0,h=0,f=1,g=1,y=1,_=0,v="",b=o,x=a,w=r,S=v;g;)switch(h=_,_=Pe()){case 40:if(108!=h&&58==he(S,p-1)){-1!=me(S+=de(Le(_),"&","&\f"),"&\f",ie(c?i[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=Le(_);break;case 9:case 10:case 13:case 32:S+=De(h);break;case 92:S+=$e(Ae()-1,7);continue;case 47:switch(Te()){case 42:case 47:_e(We(ze(Pe(),Ae()),t,n,l),l);break;default:S+="/"}break;case 123*f:i[c++]=ge(S)*y;case 125*f:case 59:case 0:switch(_){case 0:case 125:g=0;case 59+u:-1==y&&(S=de(S,/\f/g,"")),m>0&&ge(S)-p&&_e(m>32?He(S+";",r,n,p-1,l):He(de(S," ","")+";",r,n,p-2,l),l);break;case 59:S+=";";default:if(_e(w=Fe(S,t,n,c,u,o,i,v,b=[],x=[],p,a),a),123===_)if(0===u)Be(S,t,w,w,b,a,p,i,x);else switch(99===d&&110===he(S,3)?100:d){case 100:case 108:case 109:case 115:Be(e,w,w,r&&_e(Fe(e,w,w,0,0,o,i,v,o,b=[],p,x),x),o,x,p,i,r?b:x);break;default:Be(S,w,w,w,[""],x,0,i,x)}}c=u=m=0,f=y=1,v=S="",p=s;break;case 58:p=1+ge(S),m=h;default:if(f<1)if(123==_)--f;else if(125==_&&0==f++&&125==(ke=Se>0?he(Ce,--Se):0,xe--,10===ke&&(xe=1,be--),ke))continue;switch(S+=le(_),_*f){case 38:y=u>0?1:(S+="\f",-1);break;case 44:i[c++]=(ge(S)-1)*y,y=1;break;case 64:45===Te()&&(S+=Le(Pe())),d=Te(),u=p=ge(v=S+=Me(Ae())),_++;break;case 45:45===h&&2==ge(S)&&(f=0)}}return a}function Fe(e,t,n,r,o,a,s,i,l,c,u,p){for(var d=o-1,m=0===o?a:[""],h=ye(m),f=0,g=0,y=0;f<r;++f)for(var _=0,v=fe(e,d+1,d=ie(g=s[f])),b=e;_<h;++_)(b=ue(g>0?m[_]+" "+v:de(v,/&\f/g,m[_])))&&(l[y++]=b);return Ee(e,t,n,0===o?oe:i,l,c,u,p)}function We(e,t,n,r){return Ee(e,t,n,re,le(ke),fe(e,2,-2),0,r)}function He(e,t,n,r,o){return Ee(e,t,n,ae,fe(e,0,r),fe(e,r+1,-1),r,o)}function Ge(e,t,n){switch(function(e,t){return 45^he(e,0)?(((t<<2^he(e,0))<<2^he(e,1))<<2^he(e,2))<<2^he(e,3):0}(e,t)){case 5103:return ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+e+e;case 4789:return te+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+e+te+e+ee+e+e;case 5936:switch(he(e,t+11)){case 114:return ne+e+ee+de(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ne+e+ee+de(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ne+e+ee+de(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ne+e+ee+e+e;case 6165:return ne+e+ee+"flex-"+e+e;case 5187:return ne+e+de(e,/(\w+).+(:[^]+)/,ne+"box-$1$2"+ee+"flex-$1$2")+e;case 5443:return ne+e+ee+"flex-item-"+de(e,/flex-|-self/g,"")+(pe(e,/flex-|baseline/)?"":ee+"grid-row-"+de(e,/flex-|-self/g,""))+e;case 4675:return ne+e+ee+"flex-line-pack"+de(e,/align-content|flex-|-self/g,"")+e;case 5548:return ne+e+ee+de(e,"shrink","negative")+e;case 5292:return ne+e+ee+de(e,"basis","preferred-size")+e;case 6060:return ne+"box-"+de(e,"-grow","")+ne+e+ee+de(e,"grow","positive")+e;case 4554:return ne+de(e,/([^-])(transform)/g,"$1"+ne+"$2")+e;case 6187:return de(de(de(e,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),e,"")+e;case 5495:case 3959:return de(e,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return de(de(e,/(.+:)(flex-)?(.*)/,ne+"box-pack:$3"+ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+e+e;case 4200:if(!pe(e,/flex-|baseline/))return ee+"grid-column-align"+fe(e,t)+e;break;case 2592:case 3360:return ee+de(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,pe(e.props,/grid-\w+-end/)}))?~me(e+(n=n[t].value),"span",0)?e:ee+de(e,"-start","")+e+ee+"grid-row-span:"+(~me(n,"span",0)?pe(n,/\d+/):+pe(n,/\d+/)-+pe(e,/\d+/))+";":ee+de(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return pe(e.props,/grid-\w+-start/)}))?e:ee+de(de(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return de(e,/(.+)-inline(.+)/,ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ge(e)-1-t>6)switch(he(e,t+1)){case 109:if(45!==he(e,t+4))break;case 102:return de(e,/(.+:)(.+)-([^]+)/,"$1"+ne+"$2-$3$1"+te+(108==he(e,t+3)?"$3":"$2-$3"))+e;case 115:return~me(e,"stretch",0)?Ge(de(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return de(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,a,s,i){return ee+n+":"+r+i+(o?ee+n+"-span:"+(a?s:+s-+r)+i:"")+e}));case 4949:if(121===he(e,t+6))return de(e,":",":"+ne)+e;break;case 6444:switch(he(e,45===he(e,14)?18:11)){case 120:return de(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ne+(45===he(e,14)?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ee+"$2box$3")+e;case 100:return de(e,":",":"+ee)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return de(e,"scroll-","scroll-snap-")+e}return e}function Ye(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Ve(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ae:return e.return=e.return||e.value;case re:return"";case se:return e.return=e.value+"{"+Ye(e.children,r)+"}";case oe:if(!ge(e.value=e.props.join(",")))return""}return ge(n=Ye(e.children,r))?e.return=e.value+"{"+n+"}":""}function qe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ae:return void(e.return=Ge(e.value,e.length,n));case se:return Ye([je(e,{value:de(e.value,"@","@"+ne)})],r);case oe:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(pe(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ie(je(e,{props:[de(t,/:(read-\w+)/,":-moz-$1")]})),Ie(je(e,{props:[t]})),ce(e,{props:ve(n,r)});break;case"::placeholder":Ie(je(e,{props:[de(t,/:(plac\w+)/,":"+ne+"input-$1")]})),Ie(je(e,{props:[de(t,/:(plac\w+)/,":-moz-$1")]})),Ie(je(e,{props:[de(t,/:(plac\w+)/,ee+"input-$1")]})),Ie(je(e,{props:[t]})),ce(e,{props:ve(n,r)})}return""}))}}var Ke={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Je={},Qe="undefined"!=typeof process&&void 0!==Je&&(Je.REACT_APP_SC_ATTR||Je.SC_ATTR)||"data-styled",Xe="active",Ze="data-styled-version",et="6.1.19",tt="/*!sc*/\n",nt="undefined"!=typeof window&&"undefined"!=typeof document,rt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==Je&&void 0!==Je.REACT_APP_SC_DISABLE_SPEEDY&&""!==Je.REACT_APP_SC_DISABLE_SPEEDY?"false"!==Je.REACT_APP_SC_DISABLE_SPEEDY&&Je.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==Je&&void 0!==Je.SC_DISABLE_SPEEDY&&""!==Je.SC_DISABLE_SPEEDY&&("false"!==Je.SC_DISABLE_SPEEDY&&Je.SC_DISABLE_SPEEDY)),ot=Object.freeze([]),at=Object.freeze({});var st=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),it=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,lt=/(^-|-$)/g;function ct(e){return e.replace(it,"-").replace(lt,"")}var ut=/(a)(d)/gi,pt=function(e){return String.fromCharCode(e+(e>25?39:97))};function dt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=pt(t%52)+n;return(pt(t%52)+n).replace(ut,"$1-$2")}var mt,ht=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ft=function(e){return ht(5381,e)};function gt(e){return"string"==typeof e&&!0}var yt="function"==typeof Symbol&&Symbol.for,_t=yt?Symbol.for("react.memo"):60115,vt=yt?Symbol.for("react.forward_ref"):60112,bt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},St=((mt={})[vt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mt[_t]=wt,mt);function kt(e){return("type"in(t=e)&&t.type.$$typeof)===_t?wt:"$$typeof"in e?St[e.$$typeof]:bt;var t}var Ct=Object.defineProperty,Et=Object.getOwnPropertyNames,jt=Object.getOwnPropertySymbols,It=Object.getOwnPropertyDescriptor,Pt=Object.getPrototypeOf,Tt=Object.prototype;function At(e,t,n){if("string"!=typeof t){if(Tt){var r=Pt(t);r&&r!==Tt&&At(e,r,n)}var o=Et(t);jt&&(o=o.concat(jt(t)));for(var a=kt(e),s=kt(t),i=0;i<o.length;++i){var l=o[i];if(!(l in xt||n&&n[l]||s&&l in s||a&&l in a)){var c=It(t,l);try{Ct(e,l,c)}catch(u){}}}}return e}function Ot(e){return"function"==typeof e}function Rt(e){return"object"==typeof e&&"styledComponentId"in e}function Lt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Dt(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function $t(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Nt(e,t,n){if(void 0===n&&(n=!1),!n&&!$t(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Nt(e[r],t[r]);else if($t(t))for(var r in t)e[r]=Nt(e[r],t[r]);return e}function zt(e,t){Object.defineProperty(e,"toString",{value:t})}function Mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Ut=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw Mt(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var a=r;a<o;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(e+1),i=(a=0,t.length);a<i;a++)this.tag.insertRule(s,t[a])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,a=r;a<o;a++)t+="".concat(this.tag.getRule(a)).concat(tt);return t},e}(),Bt=new Map,Ft=new Map,Wt=1,Ht=function(e){if(Bt.has(e))return Bt.get(e);for(;Ft.has(Wt);)Wt++;var t=Wt++;return Bt.set(e,t),Ft.set(t,e),t},Gt=function(e,t){Wt=t+1,Bt.set(e,t),Ft.set(t,e)},Yt="style[".concat(Qe,"][").concat(Ze,'="').concat(et,'"]'),Vt=new RegExp("^".concat(Qe,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),qt=function(e,t,n){for(var r,o=n.split(","),a=0,s=o.length;a<s;a++)(r=o[a])&&e.registerName(t,r)},Kt=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(tt),o=[],a=0,s=r.length;a<s;a++){var i=r[a].trim();if(i){var l=i.match(Vt);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Gt(u,c),qt(e,u,l[3]),e.getTag().insertRules(c,o)),o.length=0}else o.push(i)}}},Jt=function(e){for(var t=document.querySelectorAll(Yt),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Qe)!==Xe&&(Kt(e,o),o.parentNode&&o.parentNode.removeChild(o))}};var Qt=function(e){var t,n,r=document.head,o=e||r,a=document.createElement("style"),s=(t=o,(n=Array.from(t.querySelectorAll("style[".concat(Qe,"]"))))[n.length-1]),i=void 0!==s?s.nextSibling:null;a.setAttribute(Qe,Xe),a.setAttribute(Ze,et);var l="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return l&&a.setAttribute("nonce",l),o.insertBefore(a,i),a},Xt=function(){function e(e){this.element=Qt(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}throw Mt(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Zt=function(){function e(e){this.element=Qt(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),en=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),tn=nt,nn={isServer:!nt,useCSSOMInjection:!rt},rn=function(){function e(e,t,n){void 0===e&&(e=at),void 0===t&&(t={});var r=this;this.options=X(X({},nn),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&nt&&tn&&(tn=!1,Jt(this)),zt(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=function(n){var o,a=(o=n,Ft.get(o));if(void 0===a)return"continue";var s=e.names.get(a),i=t.getGroup(n);if(void 0===s||!s.size||0===i.length)return"continue";var l="".concat(Qe,".g").concat(n,'[id="').concat(a,'"]'),c="";void 0!==s&&s.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(i).concat(l,'{content:"').concat(c,'"}').concat(tt)},a=0;a<n;a++)o(a);return r}(r)}))}return e.registerId=function(e){return Ht(e)},e.prototype.rehydrate=function(){!this.server&&nt&&Jt(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(X(X({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,r=e.isServer?new en(n):t?new Xt(n):new Zt(n),new Ut(r)));var e,t,n,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Ht(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ht(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Ht(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),on=/&/g,an=/^\s*\/\/.*$/gm;function sn(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=sn(e.children,t)),e}))}var ln=new rn,cn=function(){var e,t,n,r=at,o=r.options,a=void 0===o?at:o,s=r.plugins,i=void 0===s?ot:s,l=function(n,r,o){return o.startsWith(t)&&o.endsWith(t)&&o.replaceAll(t,"").length>0?".".concat(e):n},c=i.slice();c.push((function(e){e.type===oe&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(on,t).replace(n,l))})),a.prefix&&c.push(qe),c.push(Ve);var u=function(r,o,s,i){void 0===o&&(o=""),void 0===s&&(s=""),void 0===i&&(i="&"),e=i,t=o,n=new RegExp("\\".concat(t,"\\b"),"g");var l=r.replace(an,""),u=Ue(s||o?"".concat(s," ").concat(o," { ").concat(l," }"):l);a.namespace&&(u=sn(u,a.namespace));var p,d,m,h=[];return Ye(u,(p=c.concat((m=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&m(e)})),d=ye(p),function(e,t,n,r){for(var o="",a=0;a<d;a++)o+=p[a](e,t,n,r)||"";return o})),h};return u.hash=i.length?i.reduce((function(e,t){return t.name||Mt(15),ht(e,t.name)}),5381).toString():"",u}(),un=e.createContext({shouldForwardProp:void 0,styleSheet:ln,stylis:cn});function pn(){return t.useContext(un)}un.Consumer,e.createContext(void 0);var dn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=cn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,zt(this,(function(){throw Mt(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=cn),this.name+e.hash},e}(),mn=function(e){return e>="A"&&e<="Z"};function hn(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;mn(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var fn=function(e){return null==e||!1===e||""===e},gn=function(e){var t,n,r=[];for(var o in e){var a=e[o];e.hasOwnProperty(o)&&!fn(a)&&(Array.isArray(a)&&a.isCss||Ot(a)?r.push("".concat(hn(o),":"),a,";"):$t(a)?r.push.apply(r,Z(Z(["".concat(o," {")],gn(a),!1),["}"],!1)):r.push("".concat(hn(o),": ").concat((t=o,null==(n=a)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Ke||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function yn(e,t,n,r){return fn(e)?[]:Rt(e)?[".".concat(e.styledComponentId)]:Ot(e)?!Ot(o=e)||o.prototype&&o.prototype.isReactComponent||!t?[e]:yn(e(t),t,n,r):e instanceof dn?n?(e.inject(n,r),[e.getName(r)]):[e]:$t(e)?gn(e):Array.isArray(e)?Array.prototype.concat.apply(ot,e.map((function(e){return yn(e,t,n,r)}))):[e.toString()];var o}var _n=ft(et),vn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ot(n)&&!Rt(n))return!1}return!0}(e),this.componentId=t,this.baseHash=ht(_n,t),this.baseStyle=n,rn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Lt(r,this.staticRulesId);else{var o=Dt(yn(this.rules,e,t,n)),a=dt(ht(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,a)){var s=n(o,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,s)}r=Lt(r,a),this.staticRulesId=a}else{for(var i=ht(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var p=Dt(yn(u,e,t,n));i=ht(i,p+c),l+=p}}if(l){var d=dt(i>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=Lt(r,d)}}return r},e}(),bn=e.createContext(void 0);bn.Consumer;var xn={};function wn(n,r,o){var a,s=Rt(n),i=n,l=!gt(n),c=r.attrs,u=void 0===c?ot:c,p=r.componentId,d=void 0===p?function(e,t){var n="string"!=typeof e?"sc":ct(e);xn[n]=(xn[n]||0)+1;var r="".concat(n,"-").concat(function(e){return dt(ft(e)>>>0)}(et+n+xn[n]));return t?"".concat(t,"-").concat(r):r}(r.displayName,r.parentComponentId):p,m=r.displayName,h=void 0===m?gt(a=n)?"styled.".concat(a):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(a),")"):m,f=r.displayName&&r.componentId?"".concat(ct(r.displayName),"-").concat(r.componentId):r.componentId||d,g=s&&i.attrs?i.attrs.concat(u).filter(Boolean):u,y=r.shouldForwardProp;if(s&&i.shouldForwardProp){var _=i.shouldForwardProp;if(r.shouldForwardProp){var v=r.shouldForwardProp;y=function(e,t){return _(e,t)&&v(e,t)}}else y=_}var b=new vn(o,f,s?i.componentStyle:void 0);function x(n,r){return function(n,r,o){var a=n.attrs,s=n.componentStyle,i=n.defaultProps,l=n.foldedComponentIds,c=n.styledComponentId,u=n.target,p=e.useContext(bn),d=pn(),m=n.shouldForwardProp||d.shouldForwardProp,h=function(e,t,n){return void 0===n&&(n=at),e.theme!==n.theme&&e.theme||t||n.theme}(r,p,i)||at,f=function(e,t,n){for(var r,o=X(X({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var s=Ot(r=e[a])?r(o):r;for(var i in s)o[i]="className"===i?Lt(o[i],s[i]):"style"===i?X(X({},o[i]),s[i]):s[i]}return t.className&&(o.className=Lt(o.className,t.className)),o}(a,r,h),g=f.as||u,y={};for(var _ in f)void 0===f[_]||"$"===_[0]||"as"===_||"theme"===_&&f.theme===h||("forwardedAs"===_?y.as=f.forwardedAs:m&&!m(_,g)||(y[_]=f[_]));var v,b,x,w=(v=s,b=f,x=pn(),v.generateAndInjectStyles(b,x.styleSheet,x.stylis)),S=Lt(l,c);return w&&(S+=" "+w),f.className&&(S+=" "+f.className),y[gt(g)&&!st.has(g)?"class":"className"]=S,o&&(y.ref=o),t.createElement(g,y)}(w,n,r)}x.displayName=h;var w=e.forwardRef(x);return w.attrs=g,w.componentStyle=b,w.displayName=h,w.shouldForwardProp=y,w.foldedComponentIds=s?Lt(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=s?i.target:n,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=s?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)Nt(e,o[r],!0);return e}({},i.defaultProps,e):e}}),zt(w,(function(){return".".concat(w.styledComponentId)})),l&&At(w,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Sn(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var kn=function(e){return Object.assign(e,{isCss:!0})};function Cn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ot(e)||$t(e))return kn(yn(Sn(ot,Z([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?yn(r):kn(yn(Sn(r,t)))}function En(e,t,n){if(void 0===n&&(n=at),!t)throw Mt(1,t);var r=function(r){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return e(t,n,Cn.apply(void 0,Z([r],o,!1)))};return r.attrs=function(r){return En(e,t,X(X({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return En(e,t,X(X({},n),r))},r}var jn=function(e){return En(wn,e)},In=jn;st.forEach((function(e){In[e]=jn(e)}));const Pn=In(s)`
  &&& {
    .ant-pro-table-list-toolbar {
      padding: 16px 24px;
      background: #fafafa;
      border-radius: 8px 8px 0 0;
    }

    .ant-pro-table-list-toolbar-title {
      font-weight: 600;
      font-size: 16px;
      color: #262626;
    }

    .ant-table-thead > tr > th {
      background-color: #fafafa;
      font-weight: 500;
      color: #262626;
      border-bottom: 2px solid #f0f0f0;
    }

    .ant-table-tbody > tr > td {
      transition: background-color 0.3s;
      padding: 12px 16px;
    }

    .ant-table-tbody > tr:hover > td {
      background-color: #f5f5f5;
    }

    .ant-table-tbody > tr.ant-table-row-selected > td {
      background-color: #e6f7ff;
    }

    .ant-pro-table-search {
      padding: 16px 24px;
      background: white;
      border-bottom: 1px solid #f0f0f0;
    }

    .ant-pagination {
      margin: 16px 0 0 0;
      text-align: right;

      .ant-pagination-total-text {
        color: #8c8c8c;
        font-size: 14px;
      }
    }
  }
`;function Tn({title:e,search:n=!1,showToolbar:r=!0,toolBarRender:o,actionRef:s,emptyText:i,bordered:l=!0,size:c="middle",pagination:u,onRefresh:p,enableAdvancedFeatures:d=!0,customToolbarButtons:m=[],tableAlertOptionRender:h,...f}){const{t:g}=D(),y=t.useRef(null),_=s||y,[v,b]=t.useState(!1),x=!1!==u&&{showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],showTotal:(e,t)=>g("components:auto__range_0_range_1___total__e7acac",{range0:t[0],range1:t[1],total:e}),...u},w=!!n&&{collapsed:!1},S=!!r&&(()=>{const e=[...m];if(o){const t=o();return[...e,...t]}return e});return a.jsx(Pn,{...f,actionRef:_,headerTitle:e,search:w,toolBarRender:S,tableAlertOptionRender:h,pagination:x,bordered:l,size:c,locale:{emptyText:i||g("common:table.noData")},options:!!d&&{reload:!0,density:!0,setting:{draggable:!0,checkable:!0},fullScreen:!0}})}const{Title:An}=i;function On({pageTitle:e,addButtonText:t,onAddClick:n,showAddButton:r=!0,extraButtons:o=[],showPageTitle:s=!1,batchDelete:i,customToolbarButtons:d,rowSelection:m,...h}){const{modal:f}=l.useApp(),{t:g}=D("components"),y=async()=>{if(!(null==i?void 0:i.enabled)||!1===m||!(null==m?void 0:m.selectedRowKeys)||0===m.selectedRowKeys.length)return void u.warning((null==i?void 0:i.noSelectionMessage)||g("table_template.no_selection_warning","Please select items to delete."));const e=m.selectedRowKeys;f.confirm({title:i.confirmTitle,content:i.confirmContent.replace("{count}",String(e.length)),okText:i.confirmOkText,okType:"danger",cancelText:i.confirmCancelText,onOk:async()=>{try{await i.onBatchDelete(e),u.success(i.successMessage.replace("{count}",String(e.length))),m&&m.onChange&&m.onChange([],[],{type:"none"})}catch(t){u.error(i.errorMessage)}}})},_=[];return r&&n&&t&&_.push(a.jsx(c,{type:"primary",icon:a.jsx(p,{}),onClick:n,shape:"round",children:t},"create")),o.length>0&&_.push(...o),d&&d.length>0&&_.push(...d),a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{style:{marginBottom:16},children:a.jsx(An,{level:3,style:{margin:0},children:e})}),a.jsx(Tn,{enableAdvancedFeatures:!0,showToolbar:!0,title:e,customToolbarButtons:_,rowSelection:m,tableAlertOptionRender:({selectedRowKeys:e,onCleanSelected:t})=>{const n=[];return(null==i?void 0:i.enabled)&&e&&e.length>0&&n.push(a.jsx(c,{type:"link",danger:!0,size:"small",onClick:y,children:i.buttonText},"batch-delete")),n.push(a.jsx(c,{type:"link",size:"small",onClick:t,children:g("table_template.clear_selection","取消选择")},"clear-selection")),n},...h})]})}var Rn,Ln={exports:{}};const Dn=r((Rn||(Rn=1,Ln.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.activeClassName,n=void 0===t?"":t,o=e.activeIndex,i=void 0===o?-1:o,c=e.activeStyle,u=e.autoEscape,p=e.caseSensitive,d=void 0!==p&&p,m=e.className,h=e.findChunks,f=e.highlightClassName,g=void 0===f?"":f,y=e.highlightStyle,_=void 0===y?{}:y,v=e.highlightTag,b=void 0===v?"mark":v,x=e.sanitize,w=e.searchWords,S=e.textToHighlight,k=e.unhighlightTag,C=void 0===k?"span":k,E=e.unhighlightClassName,j=void 0===E?"":E,I=e.unhighlightStyle,P=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),T=(0,a.findAll)({autoEscape:u,caseSensitive:d,findChunks:h,sanitize:x,searchWords:w,textToHighlight:S}),A=b,O=-1,R="",L=void 0,D=(0,l.default)((function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t}));return(0,s.createElement)("span",r({className:m},P,{children:T.map((function(e,t){var r=S.substr(e.start,e.end-e.start);if(e.highlight){O++;var o=void 0;o="object"==typeof g?d?g[r]:(g=D(g))[r.toLowerCase()]:g;var a=O===+i;R=o+" "+(a?n:""),L=!0===a&&null!=c?Object.assign({},_,c):_;var l={children:r,className:R,key:t,style:L};return"string"!=typeof A&&(l.highlightIndex=O),(0,s.createElement)(A,l)}return(0,s.createElement)(C,{children:r,className:j,key:t,style:I})}))}))};var o,a=n(3),s=n(4),i=n(5),l=(o=i)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,s=void 0!==a&&a,i=e.findChunks,l=void 0===i?r:i,c=e.sanitize,u=e.searchWords,p=e.textToHighlight;return o({chunksToHighlight:n({chunks:l({autoEscape:t,caseSensitive:s,sanitize:c,searchWords:u,textToHighlight:p})}),totalLength:p?p.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t=t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({start:n.start,end:r})}else e.push(n,t);return e}),[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,o=void 0===r?a:r,s=e.searchWords,i=e.textToHighlight;return i=o(i),s.filter((function(e){return e})).reduce((function(e,r){r=o(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var a=new RegExp(r,n?"g":"gi"),s=void 0;s=a.exec(i);){var l=s.index,c=a.lastIndex;c>l&&e.push({start:l,end:c}),s.index==a.lastIndex&&a.lastIndex++}return e}),[])};t.findChunks=r;var o=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],o=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)o(0,n,!1);else{var a=0;t.forEach((function(e){o(a,e.start,!1),o(e.start,e.end,!0),a=e.end})),o(a,n,!1)}return r};function a(e){return e}}])},function(e,t){e.exports=n()},function(e,t){var n=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,o=[],a=void 0,s=!1,i=function(e,n){return t(e,o[n])};return function(){for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return s&&r===this&&n.length===o.length&&n.every(i)?a:(s=!0,r=this,o=n,a=e.apply(this,n))}}}])),Ln.exports)),$n=(e,t,n,r,o)=>{t(),r(e[0]),o(n)},Nn=(e,t)=>{e(),t("")},zn=e=>{const[n,r]=t.useState(""),[o,s]=t.useState(""),i=t.useRef(null),{t:l}=D(["common","components"]),u=t.useMemo((()=>e&&0!==e.length?{searchText:n,searchInput:i,onSearch:e=>{r(e)}}:{}),[n,e]);return{searchText:n,setSearchText:r,searchedColumn:o,setSearchedColumn:s,searchInput:i,getColumnSearch:e=>((e,t,n,r,o,s,i)=>({filterDropdown:({setSelectedKeys:t,selectedKeys:r,confirm:l,clearFilters:u,close:p})=>a.jsxs("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[a.jsx(m,{ref:s,placeholder:i.placeholder,value:r[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>$n(r,l,e,n,o),style:{marginBottom:8,display:"block"}}),a.jsxs(h,{children:[a.jsx(c,{type:"primary",onClick:()=>$n(r,l,e,n,o),icon:a.jsx(d,{}),size:"small",style:{width:90},children:i.searchButton}),a.jsx(c,{onClick:()=>u&&Nn(u,n),size:"small",style:{width:90},children:i.resetButton}),a.jsx(c,{type:"link",size:"small",onClick:()=>{l(),p()},children:i.closeButton})]})]}),filterIcon:e=>a.jsx(d,{style:{color:e?"#1890ff":void 0}}),onFilter:(t,n)=>{const r=n[e];return!!r&&String(r).toLowerCase().includes(t.toLowerCase())},filterDropdownProps:{onOpenChange:e=>{e&&setTimeout((()=>{var e;return null==(e=s.current)?void 0:e.select()}),100)}},render:n=>r===e?a.jsx(Dn,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t],autoEscape:!0,textToHighlight:n?n.toString():""}):n}))(e,n,r,o,s,i,{placeholder:l("common:search.placeholder","Search..."),searchButton:l("common:button.search","Search"),resetButton:l("common:button.reset","Reset"),closeButton:l("common:button.close","Close")}),searchProps:u}},Mn=(e,t)=>{switch(e){case"excel":return t("common:export.formatExcel","Excel (.xlsx)");case"csv":return t("common:export.formatCsv","CSV (.csv)");case"pdf":return t("common:export.formatPdf","PDF (.pdf)");default:return String(e).toUpperCase()}},Un=(e,n,r)=>{const{message:o}=l.useApp(),{t:s}=D(["common","components"]),i=t.useRef(!0);t.useEffect((()=>(i.current=!0,()=>{i.current=!1})),[]);const{filename:u=s("common:export.defaultFilename"),sheetName:p=s("common:export.defaultSheetName"),withHeader:d=!0,buttonText:m="导出Excel",successMessage:_=s("common:export.success_message"),supportedFormats:v=["excel"],onExportRequest:b,dropdownButtonText:x="导出"}=r||{},w=async()=>{if(e&&0!==e.length)try{const t=await F((()=>import("./exceljs.min-BdG9S1UE.js").then((e=>e.e))),__vite__mapDeps([0,1,2])),r=e.map((e=>{const t={};return null==n||n.forEach((n=>{if("dataIndex"in n&&n.dataIndex)if("string"==typeof n.dataIndex){const r=n.render?n.render(e[n.dataIndex],e,0):e[n.dataIndex];t[n.title]=r}else if(Array.isArray(n.dataIndex)){let r=e;n.dataIndex.forEach((e=>{r=r?r[e]:void 0}));const o=n.render?n.render(r,e,0):r;t[n.title]=o}})),t})),a=new t.Workbook,s=a.addWorksheet(p);if(r.length>0){const e=Object.keys(r[0]);d&&s.addRow(e),r.forEach((t=>{s.addRow(e.map((e=>t[e])))}))}const l=await a.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),m=URL.createObjectURL(c),h=document.createElement("a");h.href=m,h.download=`${u}.xlsx`,h.click(),URL.revokeObjectURL(m),i.current&&o.success(_)}catch(t){i.current&&o.error(s("common:export.exportFailed"))}else i.current&&o.warning(s("common:export.noDataToExport"))};return{ExportButton:()=>{const e=v.map((e=>({key:e,label:Mn(e,s),icon:a.jsx(f,{})})));if(1===v.length){const e=v[0];return a.jsx(c,{type:"primary",shape:"round",icon:a.jsx(f,{}),onClick:async()=>{b?(b(e),i.current&&o.success(_)):await w()},children:m})}return a.jsx(g,{menu:{items:e,onClick:async e=>{const t=e.key;if(b)b(t),i.current&&o.success(_);else switch(t){case"excel":await w();break;case"csv":i.current&&o.info(s("common:export.csvNotImplemented"));break;case"pdf":i.current&&o.info(s("common:export.pdfNotImplemented"))}}},trigger:["click"],placement:"bottomRight",children:a.jsx(c,{type:"primary",shape:"round",icon:a.jsx(f,{}),children:a.jsxs(h,{children:[x,a.jsx(y,{})]})})})},clientExportToExcel:w,exportToExcel:w}},Bn=e=>(t,n)=>{const r=t[e],o=n[e];return"number"==typeof r&&"number"==typeof o?r-o:0},Fn=e=>(t,n)=>{const r=t[e],o=n[e];return"string"==typeof r&&"string"==typeof o?r.localeCompare(o):0},Wn=({actionType:e,tooltipTitle:t,onClick:n,disabled:r,...o})=>{let s;switch(e){case"edit":default:s=a.jsx(v,{});break;case"delete":s=a.jsx(C,{});break;case"add":s=a.jsx(p,{});break;case"view":s=a.jsx(k,{});break;case"upload":s=a.jsx(S,{});break;case"download":s=a.jsx(f,{});break;case"approve":s=a.jsx(w,{});break;case"copy":s=a.jsx(x,{});break;case"print":s=a.jsx(b,{})}const{t:i}=D(["common","components"]),l=t||(e?i({edit:"common:edit",delete:"common:delete",add:"common:add",view:"common:view",upload:"common:upload",download:"common:download",approve:"common:approve",copy:"common:copy",print:"common:print",calculate:"common:calculate"}[e]):""),u="delete"===e;let d={};return"approve"===e&&(d={color:"#52c41a"}),a.jsx(_,{title:l,children:a.jsx(c,{type:"link",icon:s,onClick:n,disabled:r,danger:u,style:d,...o})})},Hn=(e,t="id",n="name")=>{const r=new Map;if(!e||0===e.length)return r;const o=e=>{try{const a=e[t],s=e[n];if(null==a||null==s)return;let i;if("number"==typeof a)i=a;else{if("string"!=typeof a)return;if(i=parseInt(a,10),isNaN(i))return}r.set(String(a),String(s));const l="children";e[l]&&Array.isArray(e[l])&&e[l].forEach(o)}catch(a){}};return e.forEach(o),r},Gn=()=>{const[e,n]=t.useState(null),[r,o]=t.useState(!0),[a,s]=t.useState(null),i=t.useMemo((()=>{if(!e)return null;const t=e=>new Map(e.map((e=>[Number(e.value),e.label]))),n=Hn(e.departments),r=Hn(e.personnelCategories);return{genderMap:t(e.genders),statusMap:t(e.statuses),departmentMap:n,personnelCategoryMap:r,employmentTypeMap:t(e.empTypes),contractTypeMap:t(e.contractTypesData),educationLevelMap:t(e.eduLevels),maritalStatusMap:t(e.maritals),politicalStatusMap:t(e.politicals),leaveTypeMap:t(e.leaveTypesData),payFrequencyMap:t(e.payFrequencies),positionMap:Hn(e.positions),jobPositionLevelMap:t(e.jobPositionLevels),...e.contractStatusesData?{contractStatusMap:t(e.contractStatusesData)}:{}}}),[e]),l=t.useMemo((()=>e?{genderOptions:e.genders,statusOptions:e.statuses,departmentOptions:e.departments,personnelCategoryOptions:e.personnelCategories,employmentTypeOptions:e.empTypes,contractTypeOptions:e.contractTypesData,educationLevelOptions:e.eduLevels,maritalStatusOptions:e.maritals,politicalStatusOptions:e.politicals,leaveTypeOptions:e.leaveTypesData,payFrequencyOptions:e.payFrequencies,employeeStatuses:e.statuses,contractStatusOptions:e.contractStatusesData||[],positionOptions:e.positions,jobPositionLevelOptions:e.jobPositionLevels}:null),[e]);return t.useEffect((()=>{let e=!0;return(async()=>{if(e){o(!0),s(null);try{const[t,r,a,s,i,l,c,u,p,d,m,h,f,g]=await Promise.all([O.getGenderLookup(),O.getEmployeeStatusesLookup(),O.getDepartmentsLookup(),O.getPersonnelCategoriesLookup(),O.getEmploymentTypesLookup(),O.getContractTypesLookup(),O.getEducationLevelsLookup(),O.getMaritalStatusesLookup(),O.getPoliticalStatusesLookup(),O.getLeaveTypesLookup(),O.getPayFrequenciesLookup(),R.getContractStatusesLookup(),O.getPositionsLookup(),O.getJobPositionLevelsLookup()]);if(!e)return;if(!e)return;e&&(n({genders:t,statuses:r,departments:a,personnelCategories:s,empTypes:i,contractTypesData:l,eduLevels:c,maritals:u,politicals:p,leaveTypesData:d,payFrequencies:m,contractStatusesData:h,positions:f,jobPositionLevels:g}),o(!1))}catch(t){e&&(s(t),o(!1))}}})(),()=>{e=!1}}),[]),{lookupMaps:i,rawLookups:l,loadingLookups:r,errorLookups:a,loading:r}};const Yn=new class{async getEmployees(e){try{const t=new URLSearchParams;if(e){const{page:n,size:r,full_name_contains:o,employee_code_contains:a,department_id:s,is_active:i,...l}=e;if(n&&r?(t.append("page",String(n)),t.append("size",String(r))):(t.append("page","1"),t.append("size","100")),o||a){const e=[o,a].filter(Boolean);e.length>0&&t.append("search",e.join(" "))}s&&t.append("department_id",String(s)),void 0!==i&&t.append("is_active",String(i))}else t.append("page","1"),t.append("size","100");const n=t.toString(),r="/employees"+(n?`?${n}`:""),o=await L.get(r);return{data:o.data.data.map((e=>({id:e.id,employee_code:e.employee_code,first_name:e.first_name,last_name:e.last_name,full_name:`${e.last_name||""}${e.first_name||""}`.trim(),email:e.email,phone_number:e.phone_number,id_number:e.id_number,hire_date:e.hire_date||"",status_lookup_value_id:e.status_lookup_value_id||1,department_id:e.department_id,department_name:e.departmentName,personnel_category_id:e.personnel_category_id,personnel_category_name:e.personnelCategoryName,actual_position_id:e.actual_position_id,position_name:e.actualPositionName,social_security_client_number:e.social_security_client_number,housing_fund_client_number:e.housing_fund_client_number,is_active:!0,created_at:e.created_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString()}))),meta:o.data.meta}}catch(t){throw t}}async getEmployeeById(e){var t,n,r,o;try{const a=(await L.get(`/employees/${e}`)).data.data;if(!a||!a.id)throw new Error("员工数据格式不正确或员工不存在");return{id:a.id,employee_code:a.employee_code,first_name:a.first_name,last_name:a.last_name,full_name:`${a.last_name}${a.first_name}`,email:a.email,phone_number:a.phone_number,id_number:a.id_number,date_of_birth:a.date_of_birth,gender_lookup_value_id:a.gender_lookup_value_id,nationality:a.nationality,ethnicity:a.ethnicity,hire_date:a.hire_date||"",first_work_date:a.first_work_date,status_lookup_value_id:a.status_lookup_value_id,employment_type_lookup_value_id:a.employment_type_lookup_value_id,education_level_lookup_value_id:a.education_level_lookup_value_id,marital_status_lookup_value_id:a.marital_status_lookup_value_id,political_status_lookup_value_id:a.political_status_lookup_value_id,contract_type_lookup_value_id:a.contract_type_lookup_value_id,home_address:a.home_address,emergency_contact_name:a.emergency_contact_name,emergency_contact_phone:a.emergency_contact_phone,department_id:a.department_id,department_name:null==(t=a.current_department)?void 0:t.name,personnel_category_id:a.personnel_category_id,personnel_category_name:null==(n=a.personnel_category)?void 0:n.name,actual_position_id:a.actual_position_id,position_name:null==(r=a.actual_position)?void 0:r.name,career_position_level_date:a.career_position_level_date,current_position_start_date:a.current_position_start_date,salary_level_lookup_value_id:a.salary_level_lookup_value_id,salary_grade_lookup_value_id:a.salary_grade_lookup_value_id,ref_salary_level_lookup_value_id:a.ref_salary_level_lookup_value_id,job_position_level_lookup_value_id:a.job_position_level_lookup_value_id,interrupted_service_years:a.interrupted_service_years,social_security_client_number:a.social_security_client_number,housing_fund_client_number:a.housing_fund_client_number||"",social_insurance_base:a.social_insurance_base,housing_fund_base:a.housing_fund_base,bank_name:a.bank_name,bank_account_number:a.bank_account_number,is_active:"ACTIVE"===(null==(o=a.status)?void 0:o.code),created_at:a.created_at||(new Date).toISOString(),updated_at:a.updated_at||(new Date).toISOString()}}catch(a){throw a}}async createEmployee(e){try{const t=await L.post("/employees/",e);return t.data.data||t.data}catch(t){throw t}}async updateEmployee(e,t){try{const n=await L.put(`/employees/${e}`,t);return n.data.data||n.data}catch(n){throw n}}async deleteEmployee(e){try{await L.delete(`/employees/${e}`)}catch(t){throw t}}async batchDeleteEmployees(e){try{await Promise.all(e.map((e=>this.deleteEmployee(e))))}catch(t){throw t}}async bulkCreateEmployees(e){try{return(await L.post("/employees/bulk",e)).data}catch(t){throw t}}async getDepartments(){try{const e=await L.get("/views-optimized/departments");return e.data.data||e.data||[]}catch(e){return[]}}async getPersonnelCategories(e){try{const t=e?`?department_id=${e}`:"",n=await L.get(`/views-optimized/personnel-categories${t}`);return n.data.data||n.data||[]}catch(t){return[]}}async getPositions(){try{const e=await L.get("/positions");return e.data.data||e.data||[]}catch(e){return[]}}async getLookupValues(e){try{let n;try{n=await L.get(`/config/lookup-values-public?lookup_type_code=${e}`)}catch(t){n=await L.get(`/config/lookup-values?lookup_type_code=${e}`)}return(n.data.data||n.data||[]).map((e=>({id:e.id,value:e.code||"",label:e.name||"",is_active:e.is_active??!0})))}catch(n){return[]}}},Vn={current:1,pageSize:10,total:0},qn={},Kn={},Jn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{t:n}=D(["employee","common"]),r=o(),{canViewDetail:s,canCreate:i,canUpdate:l,canDelete:p,canExport:f}=Q(),[g,y]=t.useState([]),[_,v]=t.useState(!1),[b,x]=t.useState([]),[w,S]=t.useState(Vn),[k,C]=t.useState(qn),[I,P]=t.useState(Kn),{lookupMaps:T,loadingLookups:A,errorLookups:O}=Gn(),L=t.useCallback((async()=>{v(!0);const e={page:w.current,size:w.pageSize,sortBy:k.field,sortOrder:"ascend"===k.order?"asc":"descend"===k.order?"desc":void 0,...I.full_name_contains&&{full_name_contains:I.full_name_contains},...I.employee_code_contains&&{employee_code_contains:I.employee_code_contains},...I.department_name_contains&&{department_name_contains:I.department_name_contains},...I.position_name_contains&&{position_name_contains:I.position_name_contains},...I.employee_status_equals&&{employee_status_equals:I.employee_status_equals}};try{const t=await R.getEmployeesFromView(e);if(t&&Array.isArray(t)){y(t);const e=t.length<w.pageSize?(w.current-1)*w.pageSize+t.length:w.current*w.pageSize+1;S((t=>({...t,total:e})))}else y([]),S((e=>({...e,total:0}))),u.error(n("employee:list_page.message.get_employees_failed_empty_response"))}catch(t){u.error(n("employee:list_page.message.get_employees_failed")),y([]),S((e=>({...e,total:0})))}finally{v(!1)}}),[w.current,w.pageSize,k,I,n]);t.useEffect((()=>{A||L()}),[L,A]);const $=t.useCallback((async e=>{E.confirm({title:n("employee:list_page.delete_confirm.title"),content:n("employee:list_page.delete_confirm.content"),okText:n("employee:list_page.delete_confirm.ok_text"),okType:"danger",cancelText:n("employee:list_page.delete_confirm.cancel_text"),onOk:async()=>{v(!0);try{await R.deleteEmployee(e),u.success(n("employee:list_page.message.delete_employee_success")),L()}catch(t){u.error(n("employee:list_page.message.delete_employee_failed"))}finally{v(!1)}}})}),[n,L]),N=e.useMemo((()=>((e,t,n,r,o,s)=>[{title:e("employee:list_page.table.column.full_name"),key:"full_name",dataIndex:"full_name",sorter:!0,render:(t,n)=>n.full_name&&n.full_name.trim()?n.full_name:a.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:e("employee:list_page.name_not_set")}),filterDropdown:({setSelectedKeys:e,selectedKeys:t,confirm:n,clearFilters:r})=>a.jsxs("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[a.jsx(m,{placeholder:"搜索姓名",value:t[0],onChange:t=>e(t.target.value?[t.target.value]:[]),onPressEnter:()=>n(),style:{marginBottom:8,display:"block"}}),a.jsxs(h,{children:[a.jsx(c,{type:"primary",onClick:()=>n(),icon:a.jsx(d,{}),size:"small",style:{width:90},children:"搜索"}),a.jsx(c,{onClick:()=>r&&r(),size:"small",style:{width:90},children:"重置"})]})]}),filterIcon:e=>a.jsx(d,{style:{color:e?"#1890ff":void 0}}),onFilter:(e,t)=>{var n;return(null==(n=t.full_name)?void 0:n.toLowerCase().includes(e.toLowerCase()))||!1}},{title:e("employee:list_page.table.column.employee_code"),dataIndex:"employee_code",key:"employee_code",sorter:!0},{title:e("employee:list_page.table.column.email"),dataIndex:"email",key:"email",sorter:!0},{title:e("employee:list_page.table.column.phone_number"),dataIndex:"phone_number",key:"phone_number",sorter:!0},{title:e("employee:list_page.table.column.department"),dataIndex:"department_name",key:"department_name",sorter:!0,filters:(null==t?void 0:t.departmentMap)?Array.from(t.departmentMap.entries()).map((e=>({text:e[1],value:e[1]}))):[],onFilter:(e,t)=>t.department_name===e,filterMultiple:!1},{title:e("employee:list_page.table.column.personnel_category"),dataIndex:"personnel_category_name",key:"personnel_category_name",sorter:!0},{title:e("employee:list_page.table.column.actual_position"),dataIndex:"position_name",key:"position_name",sorter:!0},{title:e("employee:list_page.table.column.status"),dataIndex:"employee_status",key:"employee_status",sorter:!0},{title:e("employee:list_page.table.column.hire_date"),dataIndex:"hire_date",key:"hire_date",render:(e,t,n)=>{const r=t.hire_date;return r?"string"==typeof r?new Date(r).toLocaleDateString():r.toLocaleDateString():""},sorter:!0},{title:e("employee:list_page.table.column.action"),key:"action",width:150,fixed:"right",render:(t,i,l)=>a.jsxs(h,{size:"small",children:[n.canViewDetail&&a.jsx(Wn,{actionType:"view",onClick:()=>s(String(i.id)),tooltipTitle:e("common:action.view")}),n.canUpdate&&a.jsx(Wn,{actionType:"edit",onClick:()=>r(i),tooltipTitle:e("common:action.edit")}),n.canDelete&&a.jsx(Wn,{actionType:"delete",danger:!0,onClick:()=>o(String(i.id)),tooltipTitle:e("common:action.delete")})]})}])(n,T,{canViewDetail:s,canUpdate:l,canDelete:p},(e=>r(`/hr/employees/${e.id}/edit`,{state:{employeeData:e}})),$,(e=>r(`/hr/employees/${e}`)))),[n,T,s,l,p,r,$]);t.useCallback(((e,t)=>{P((n=>({...n,[e]:t}))),S((e=>({...e,current:1})))}),[]);const z=e.useMemo((()=>N.filter((e=>"action"!==e.key)).map((e=>({title:e.title,dataIndex:e.dataIndex,key:e.key})))),[N]),{ExportButton:M}=Un(g,z,{filename:(()=>{const e=new Date,t=e.toLocaleDateString("zh-CN").replace(/\//g,"-"),r=e.toLocaleTimeString("zh-CN",{hour12:!1}).replace(/:/g,"-");return`${n("employee:list_page.page_title")}_${t}_${r}`})(),sheetName:n("employee:list_page.page_title"),buttonText:n("common:action.export_excel"),successMessage:n("common:message.export_success")}),U=p?{enabled:!0,buttonText:n("common:action.batch_delete_count",{count:b.length}),confirmTitle:n("common:confirm.batch_delete.title"),confirmContent:n("common:confirm.batch_delete.content",{count:b.length}),confirmOkText:n("common:action.confirm_delete"),confirmCancelText:n("common:action.cancel"),onBatchDelete:async e=>{v(!0);try{const t=e.map((e=>R.deleteEmployee(String(e))));await Promise.all(t),u.success(n("common:message.batch_delete_success",{count:e.length})),x([]),L()}catch(t){u.error(n("common:message.batch_delete_failed"))}finally{v(!1)}},noSelectionMessage:n("common:message.select_items_to_delete"),successMessage:n("common:message.batch_delete_success_generic"),errorMessage:n("common:message.batch_delete_failed_generic")}:void 0,B=_||A;return a.jsxs("div",{children:[(I.full_name_contains||I.employee_code_contains)&&a.jsx(j,{size:"small",style:{marginBottom:8,backgroundColor:"#f6ffed",borderColor:"#b7eb8f"},children:a.jsxs(h,{children:[a.jsx("span",{style:{color:"#52c41a",fontWeight:500},children:"🔍 当前筛选条件:"}),I.full_name_contains&&a.jsxs("span",{children:["姓名包含: ",a.jsxs("strong",{style:{color:"#1890ff"},children:['"',I.full_name_contains,'"']})]}),I.employee_code_contains&&a.jsxs("span",{children:["员工编号包含: ",a.jsxs("strong",{style:{color:"#1890ff"},children:['"',I.employee_code_contains,'"']})]}),a.jsxs("span",{style:{color:"#666"},children:["(",g.length," 条结果)"]})]})}),a.jsx(On,{addButtonText:n("employee:list_page.create_employee"),onAddClick:()=>r("/hr/employees/new"),showAddButton:i,extraButtons:f?[a.jsx(M,{},"export")]:[],batchDelete:U,columns:N,dataSource:g,loading:B,pagination:{current:w.current,pageSize:w.pageSize,total:w.total,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100","200"],showTotal:(e,t)=>`${n("common:pagination.total_range",{start:t[0],end:t[1],total:e})}`},rowKey:"id",bordered:!0,scroll:{x:"max-content"},rowSelection:p?{selectedRowKeys:b,onChange:x}:void 0,onChange:(e,t,n,r)=>{const o=Array.isArray(n)?n[0]:n;S((t=>({...t,current:e.current??1,pageSize:e.pageSize??10}))),C({field:o.field,order:null===o.order?void 0:o.order})}})]})}},Symbol.toStringTag,{value:"Module"}));export{Tn as E,Dn as H,On as O,Wn as T,F as _,zn as a,Un as b,U as c,In as d,Yn as e,Gn as f,Q as g,Jn as h,Bn as n,Fn as s,W as u};
