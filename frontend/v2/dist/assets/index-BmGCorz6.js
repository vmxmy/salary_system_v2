const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/payroll-management-BvFUgCwh.js","assets/hr-management-D97vxp0y.js","assets/react-vendor-D9vUlElp.js","assets/antd-vendor-DWzn6iQK.js","assets/employee-service-D8n0hVPx.js","assets/state-vendor-BIBp6L7x.js","assets/utils-vendor-CFhz7Dje.js","assets/i18n-vendor-DF0Yg0Xi.js","assets/hr-management-DTNwHUu_.css","assets/payroll-management-Bl2KAowS.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{s as n,M as r,Z as i,j as o,bq as a,br as s,bs as l,bt as c,bu as u,bv as d,bw as f,bx as p,by as h,bz as y,bA as m,bB as v,bC as g,bD as b,bE as x,bF as j,bG as w,bH as O,bI as S,bJ as _,bK as k,bL as A,bM as P,bN as C,bO as E,bP as T,bQ as M,bR as N,bS as D,bT as I,bU as B,bV as R,bW as L,bX as F,bY as z,bZ as $,b_ as U,n as W,T as V,L as q,_ as H,b$ as G,F as Y,J as K,c0 as X,d as Z,B as Q,az as J,aT as ee,c1 as te,b as ne,c2 as re,c3 as ie,c4 as oe,bi as ae,b6 as se,C as le,c5 as ce,S as ue,c6 as de,c7 as fe,c8 as pe,Q as he,r as ye,t as me,N as ve,U as ge,k as be,R as xe,au as je,aU as we,aH as Oe,l as Se,ax as _e,aq as ke,ay as Ae,I as Pe,u as Ce,b8 as Ee,v as Te,c9 as Me,h as Ne,ca as De,bh as Ie,cb as Be,m as Re,o as Le,V as Fe,x as ze,y as $e,z as Ue,cc as We,aR as Ve,ba as qe,G as He,cd as Ge,ce as Ye,cf as Ke,e as Xe,at as Ze,a1 as Qe,cg as Je,X as et,bd as tt,ch as nt,aK as rt,aw as it,g as ot,ci as at,D as st,aC as lt,cj as ct,ck as ut,a3 as dt,cl as ft,a as pt,cm as ht,cn as yt,co as mt,c as vt,cp as gt,cq as bt,cr as xt,cs as jt,a8 as wt,aA as Ot,ct as St,b5 as _t,cu as kt,cv as At,aO as Pt,cw as Ct,P as Et,cx as Tt,cy as Mt,E as Nt,aP as Dt}from"./antd-vendor-DWzn6iQK.js";import{b as It,u as Bt,g as Rt,R as Lt}from"./react-vendor-D9vUlElp.js";import{s as Ft,P as zt}from"./index-Rv_gV0PU.js";import{L as $t,b as Ut}from"./employee-service-D8n0hVPx.js";import{u as Wt}from"./i18n-vendor-DF0Yg0Xi.js";import{e as Vt,_ as qt,T as Ht}from"./hr-management-D97vxp0y.js";import{I as Gt,J as Yt,q as Kt,v as Xt}from"./payroll-management-BvFUgCwh.js";import{b as Zt,u as Qt}from"./admin-management-CYhSgojJ.js";import{r as Jt}from"./utils-vendor-CFhz7Dje.js";import{a as en}from"./exceljs.min-BdG9S1UE.js";import"./state-vendor-BIBp6L7x.js";import"./excel-vendor-BHR_E30J.js";const tn=()=>{const{t:e}=Wt(["simplePayroll","common"]),t=Bt(),[a,s]=It.useState(),[l,c]=It.useState(),[u,d]=It.useState(0),[f,p]=It.useState("workflow"),[h,y]=It.useState(!1),[m,v]=It.useState(!1),[g,b]=It.useState(!1),[x,j]=It.useState({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1}),[w,O]=It.useState({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1}),{periods:S,loading:_,refetch:k}=(()=>{const[e,t]=It.useState([]),[r,i]=It.useState(!1),[o,a]=It.useState(null),s=async()=>{var e,r,o,s;try{i(!0),a(null),$t.getState().auth.authToken;const e=((await Ft.getPayrollPeriods({is_active:!0,page:1,size:50})).data||[]).map((e=>({...e})));t(e)}catch(l){const i=(null==(s=null==(o=null==(r=null==(e=null==l?void 0:l.response)?void 0:e.data)?void 0:r.detail)?void 0:o.error)?void 0:s.message)||"获取工资期间失败";a(i),n.error(i),t([])}finally{i(!1)}};return It.useEffect((()=>{s()}),[]),{periods:e,loading:r,error:o,refetch:async()=>{await s()}}})(),{versions:A,loading:P,refetch:C}=(e=>{const[t,r]=It.useState([]),[i,o]=It.useState(!1),[a,s]=It.useState(null),l=async()=>{var t,i,a,l;if(e)try{o(!0),s(null);const t=((await Ft.getPayrollVersions({period_id:e,page:1,size:20})).data||[]).sort(((e,t)=>new Date(t.initiated_at).getTime()-new Date(e.initiated_at).getTime()));r(t)}catch(c){const e=(null==(l=null==(a=null==(i=null==(t=null==c?void 0:c.response)?void 0:t.data)?void 0:i.detail)?void 0:a.error)?void 0:l.message)||"获取工资运行失败";s(e),n.error(e),r([])}finally{o(!1)}else r([])};return It.useEffect((()=>{l()}),[e]),{versions:t,loading:i,error:a,refetch:async()=>{await l()}}})(a),{auditSummary:E,loading:T,refresh:M}=(e=>{const[t,n]=It.useState(null),[r,i]=It.useState(!1),[o,a]=It.useState(null),s=It.useCallback((async e=>{i(!0),a(null);try{const t=await Ft.getAuditSummary(e);t.data?n(t.data):n(null)}catch(t){a(t instanceof Error?t.message:"Unknown error"),n(null)}finally{i(!1)}}),[]),l=It.useCallback((()=>{e&&s(e)}),[e,s]);return It.useEffect((()=>{e?s(e):(n(null),a(null))}),[e,s]),{auditSummary:t,loading:r,error:o,refresh:l,fetchAuditSummary:s}})(l),N=async e=>{O((e=>({...e,loading:!0})));const t=setTimeout((()=>{O((e=>({...e,loading:!1})))}),5e3);try{const n=await Ft.getDataIntegrityStats(e);if(clearTimeout(t),n.data){const e=n.data.data_integrity;O({socialInsuranceBaseCount:e.social_insurance_base_count||0,housingFundBaseCount:e.housing_fund_base_count||0,occupationalPensionBaseCount:e.occupational_pension_base_count||0,incomeTaxPositiveCount:e.income_tax_positive_count||0,loading:!1})}else O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}catch(n){clearTimeout(t),O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}},D=async e=>{j((e=>({...e,loading:!0})));const t=setTimeout((()=>{j((e=>({...e,loading:!1})))}),5e3);try{const n=await Ft.getPayrollVersion(e);if(clearTimeout(t),n.data){const e=n.data;j({recordCount:e.total_entries||0,totalGrossPay:Number(Number(e.total_gross_pay||0).toFixed(2)),totalDeductions:Number(Number(e.total_deductions||0).toFixed(2)),totalNetPay:Number(Number(e.total_net_pay||0).toFixed(2)),loading:!1})}else j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}catch(n){clearTimeout(t),j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}},I=()=>{if(d((e=>e+1)),k(),a){S.some((e=>e.id===a))?(C(),N(a)):(s(void 0),c(void 0))}if(l){A.some((e=>e.id===l))?D(l):c(void 0)}},B=S.find((e=>e.id===a)),R=A.find((e=>e.id===l));return It.useEffect((()=>{l?D(l):j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1})}),[l]),It.useEffect((()=>{a?N(a):O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})}),[a]),It.useEffect((()=>{}),[S,_]),It.useEffect((()=>{if(!_&&S.length>0&&!a){const e=async()=>{try{const e=await Ft.getLatestPayrollPeriodWithData();e.data?s(e.data.id):t()}catch(e){t()}},t=()=>{const e=i(),t=e.year(),n=e.month()+1,r=`${t}年${n.toString().padStart(2,"0")}月`;let o=S.find((e=>e.name.includes(r)));if(!o){const e=[`${t}年${n}月`,`${t}-${n.toString().padStart(2,"0")}`,`${t}-${n}`];for(const t of e)if(o=S.find((e=>e.name.includes(t))),o)break}s(o?o.id:S[0].id)};e()}}),[S,_]),It.useEffect((()=>{!P&&A.length>0&&!l&&c(A[0].id)}),[P,A.length,l]),It.useEffect((()=>{}),[A,P,a,B]),It.useEffect((()=>{c(void 0)}),[a]),It.useEffect((()=>{const e=setTimeout((async()=>{if(!a||!B||P)return;if(!(B.runs_count>0)&&0===A.length)try{(await Ft.createPayrollRun({payroll_period_id:a,description:`${B.name} 工资运行`})).data&&(n.success(`已为 ${B.name} 自动创建工资运行`),C(),k())}catch(e){n.warning(`为 ${B.name} 创建工资运行失败: ${e.message}`)}}),800);return()=>clearTimeout(e)}),[a,B,A.length,P]),It.useEffect((()=>{if(!P&&A.length>0&&!l&&a){let e=A.find((e=>"已计算"===e.status_name))||null;e||(e=A.find((e=>"草稿"===e.status_name||"DRAFT"===e.status_name))||null),e||(e=A[0]),c(e.id)}}),[A,P,l,a]),{selectedPeriodId:a,selectedVersionId:l,refreshTrigger:u,activeTab:f,isCreating:h,createPeriodModalVisible:m,payrollDataModalVisible:g,payrollStats:x,dataIntegrityStats:w,periods:S,versions:A,auditSummary:E,currentPeriod:B,currentVersion:R,periodsLoading:_,versionsLoading:P,auditLoading:T,setSelectedPeriodId:s,setSelectedVersionId:c,setActiveTab:p,setCreatePeriodModalVisible:v,setPayrollDataModalVisible:b,handleRefresh:I,handleRefreshAfterDelete:()=>{s(void 0),c(void 0),d((e=>e+1)),k(),j({recordCount:0,totalGrossPay:0,totalDeductions:0,totalNetPay:0,loading:!1}),O({socialInsuranceBaseCount:0,housingFundBaseCount:0,occupationalPensionBaseCount:0,incomeTaxPositiveCount:0,loading:!1})},handleVersionRefresh:()=>{a&&C(),l&&D(l)},handleAuditRefresh:()=>{M()},resetLoadingStates:()=>{j((e=>({...e,loading:!1}))),O((e=>({...e,loading:!1}))),n.info("已重置加载状态")},handleNavigateToBulkImport:()=>{t("/finance/payroll/universal-import")},handleImportTaxData:()=>{n.info(e("simplePayroll:quickActions.importTaxDataMessage"))},handleCreateNewPeriod:()=>{v(!0)},handleDateChange:async(t,a)=>{try{const e=`${t}年${a.toString().padStart(2,"0")}月`,l=S.find((t=>t.name.includes(e)));if(l)s(l.id);else{const l=await Ft.getPayrollPeriods({year:t,month:a,page:1,size:10});l.data&&l.data.length>0?(s(l.data[0].id),k()):r.confirm({title:"🗓️ 创建新的工资期间",content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsxs("div",{style:{marginBottom:"16px",fontSize:"14px"},children:["系统中还没有 ",o.jsx("strong",{children:e})," 的工资数据"]}),o.jsx("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#1890ff"},children:"我来帮您快速创建："}),o.jsxs("div",{style:{backgroundColor:"#f6ffed",padding:"12px",borderRadius:"6px",marginBottom:"16px",border:"1px solid #b7eb8f"},children:[o.jsxs("div",{style:{marginBottom:"8px"},children:["📅 新建工资期间：",e]}),o.jsx("div",{style:{marginBottom:"8px"},children:"💼 准备工资计算环境"}),o.jsx("div",{children:"⚙️ 配置基础薪资设置"})]}),o.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[o.jsx("div",{style:{marginBottom:"8px",fontWeight:"bold"},children:"创建完成后，您就可以："}),o.jsxs("div",{style:{paddingLeft:"16px"},children:[o.jsx("div",{children:"• 导入员工工资数据"}),o.jsx("div",{children:"• 设置缴费基数"}),o.jsx("div",{children:"• 开始工资计算"})]})]})]}),okText:"立即创建",cancelText:"取消",width:450,onOk:async()=>{var r,l,c;try{const r=i().year(t).month(a-1).startOf("month"),l=i().year(t).month(a-1).endOf("month"),c=(await Ft.createPayrollPeriod({name:e,start_date:r.format("YYYY-MM-DD"),end_date:l.format("YYYY-MM-DD"),pay_date:l.add(5,"day").format("YYYY-MM-DD"),frequency_lookup_value_id:117})).data.id,u=await Ft.createPayrollRun({payroll_period_id:c,description:`自动创建的 ${e} 初始版本`});await k(),s(c),n.success({content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"12px",color:"#52c41a"},children:"🎉 工资期间创建成功！"}),o.jsxs("div",{style:{backgroundColor:"#f6ffed",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #b7eb8f"},children:[o.jsxs("div",{style:{marginBottom:"6px"},children:["📅 ",e," 工资期间已准备就绪"]}),o.jsx("div",{style:{marginBottom:"6px"},children:"💼 工资计算环境已配置完成"}),o.jsxs("div",{children:["📊 当前状态：",u.data.status_name||"等待数据导入"]})]}),o.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[o.jsx("div",{style:{marginBottom:"6px",fontWeight:"bold"},children:"接下来您可以："}),o.jsxs("div",{style:{paddingLeft:"12px"},children:[o.jsx("div",{children:"• 批量导入员工工资数据"}),o.jsx("div",{children:"• 设置员工缴费基数"}),o.jsx("div",{children:"• 开始进行工资计算"})]})]})]}),duration:8})}catch(u){const t=(null==(c=null==(l=null==(r=null==u?void 0:u.response)?void 0:r.data)?void 0:l.detail)?void 0:c.message)||(null==u?void 0:u.message)||"创建失败";n.error({content:o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"12px",color:"#ff4d4f"},children:"❌ 工资期间创建失败"}),o.jsxs("div",{style:{marginBottom:"12px",fontSize:"14px"},children:["抱歉，创建 ",o.jsx("strong",{children:e})," 工资期间时出现问题："]}),o.jsx("div",{style:{backgroundColor:"#fff2f0",padding:"12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #ffccc7",color:"#cf1322"},children:t}),o.jsx("div",{style:{fontSize:"13px",color:"#666"},children:"请稍后重试，或联系系统管理员"})]}),duration:10})}},onCancel:()=>{s(void 0)}})}}catch(l){n.error(e("simplePayroll:errors.fetchPeriodFailed"))}},handleCreateFirstVersion:async()=>{const e=S.find((e=>e.id===a));if(a&&e){y(!0);try{const t={period_id:a,generation_type:"manual",source_data:{initial_entries:[]},description:`手动为 ${e.name} 创建第一个版本`};await Ft.generatePayroll(t),n.success("成功创建第一个版本"),I()}catch(t){n.error(t.message||"创建第一个版本失败")}finally{y(!1)}}else n.warning("请先选择一个有效的工资期间")},handleDeleteVersion:async e=>{try{await Ft.deletePayrollRun(e),n.success("版本删除成功"),l===e&&c(void 0),I()}catch(t){n.error(t.message||"删除版本失败")}},handleVersionChange:e=>{c(e)},handleQuickCreateCurrentMonth:async()=>{try{const e=new Date,t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");n.success(`正在创建 ${t}年${r}月 薪资周期...`),I()}catch(e){n.error("创建薪资周期失败")}},fetchPayrollStats:D,fetchDataIntegrityStats:N}};function nn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nn(e))&&(r&&(r+=" "),r+=t);return r}const on=Rt(a());var an,sn;const ln=Rt(sn?an:(sn=1,an=function(e){return null==e}));const cn=Rt(s());const un=Rt(l());const dn=Rt(c());var fn,pn,hn,yn;function mn(){if(pn)return fn;pn=1;var e=u(),t=d();return fn=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const vn=Rt(function(){if(yn)return hn;yn=1;var e=mn();return hn=function(t){return e(t)&&t!=+t}}());const gn=Rt(mn());var bn=function(e){return 0===e?0:e>0?1:-1},xn=function(e){return cn(e)&&e.indexOf("%")===e.length-1},jn=function(e){return gn(e)&&!vn(e)},wn=function(e){return jn(e)||cn(e)},On=0,Sn=function(e){var t=++On;return"".concat(e||"").concat(t)},_n=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!jn(e)&&!cn(e))return r;if(xn(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return vn(n)&&(n=r),i&&n>t&&(n=t),n},kn=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},An=function(e,t){return jn(e)&&jn(t)?function(n){return e+n*(t-e)}:function(){return t}};function Pn(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):on(e,t))===n})):null}var Cn=function(e,t){return jn(e)&&jn(t)?e-t:cn(e)&&cn(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function En(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mn=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nn=["points","pathLength"],Dn={svg:["viewBox","children"],polygon:Nn,polyline:Nn},In=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bn=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(It.isValidElement(e)&&(n=e.props),!dn(n))return null;var r={};return Object.keys(n).forEach((function(e){In.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Rn=function(e,t,n){if(!dn(e)||"object"!==Tn(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];In.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Ln=["children"],Fn=["children"];function zn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Un={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wn=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Vn=null,qn=null,Hn=function e(t){if(t===Vn&&Array.isArray(qn))return qn;var n=[];return It.Children.forEach(t,(function(t){ln(t)||(f.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))})),qn=n,Vn=t,n};function Gn(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return Wn(e)})):[Wn(t)],Hn(e).forEach((function(e){var t=on(e,"type.displayName")||on(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function Yn(e,t){var n=Gn(e,t);return n&&n[0]}var Kn=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!jn(n)||n<=0||!jn(r)||r<=0)},Xn=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zn=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(It.isValidElement(e)&&(r=e.props),!dn(r))return null;var i={};return Object.keys(r).forEach((function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==Dn?void 0:Dn[r])&&void 0!==i?i:[];return t.startsWith("data-")||!un(e)&&(r&&o.includes(t)||Mn.includes(t))||n&&In.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])})),i},Qn=function e(t,n){if(t===n)return!0;var r=It.Children.count(t);if(r!==It.Children.count(n))return!1;if(0===r)return!0;if(1===r)return Jn(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!Jn(o,a))return!1}return!0},Jn=function(e,t){if(ln(e)&&ln(t))return!0;if(!ln(e)&&!ln(t)){var n=e.props||{},r=n.children,i=zn(n,Ln),o=t.props||{},a=o.children,s=zn(o,Fn);return r&&a?En(i,s)&&Qn(r,a):!r&&!a&&En(i,s)}return!1},er=function(e,t){var n=[],r={};return Hn(e).forEach((function(e,i){if(function(e){return e&&e.type&&cn(e.type)&&Xn.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=Wn(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n},tr=["children","width","height","viewBox","className","style","title","desc"];function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}function rr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ir(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=rr(e,tr),u=i||{width:n,height:r,x:0,y:0},d=rn("recharts-surface",o);return Lt.createElement("svg",nr({},Zn(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Lt.createElement("title",null,s),Lt.createElement("desc",null,l),t)}var or=["children","className"];function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ar.apply(this,arguments)}function sr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lr,cr,ur,dr,fr,pr,hr,yr,mr,vr,gr,br,xr,jr,wr,Or,Sr=Lt.forwardRef((function(e,t){var n=e.children,r=e.className,i=sr(e,or),o=rn("recharts-layer",r);return Lt.createElement("g",ar({className:o},Zn(i,!0),{ref:t}),n)})),_r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function kr(){if(dr)return ur;dr=1;var e=cr?lr:(cr=1,lr=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o});return ur=function(t,n,r){var i=t.length;return r=void 0===r?i:r,!n&&r>=i?t:e(t,n,r)}}function Ar(){if(pr)return fr;pr=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return fr=function(t){return e.test(t)}}function Pr(){if(br)return gr;br=1;var e=yr?hr:(yr=1,hr=function(e){return e.split("")}),t=Ar(),n=function(){if(vr)return mr;vr=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c=l+s+"(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*",u="(?:"+[i+n+"?",n,o,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+u+c,"g");return mr=function(e){return e.match(d)||[]}}();return gr=function(r){return t(r)?n(r):e(r)}}const Cr=Rt(function(){if(Or)return wr;Or=1;var e=function(){if(jr)return xr;jr=1;var e=kr(),t=Ar(),n=Pr(),r=p();return xr=function(i){return function(o){o=r(o);var a=t(o)?n(o):void 0,s=a?a[0]:o.charAt(0),l=a?e(a,1).join(""):o.slice(1);return s[i]()+l}}}()("toUpperCase");return wr=e}());function Er(e){return function(){return e}}const Tr=Math.cos,Mr=Math.sin,Nr=Math.sqrt,Dr=Math.PI,Ir=2*Dr,Br=Math.PI,Rr=2*Br,Lr=1e-6,Fr=Rr-Lr;function zr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class $r{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?zr:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zr;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Lr)if(Math.abs(u*s-l*c)>Lr&&i){let f=n-o,p=r-a,h=s*s+l*l,y=f*f+p*p,m=Math.sqrt(h),v=Math.sqrt(d),g=i*Math.tan((Br-Math.acos((h+d-y)/(2*m*v)))/2),b=g/v,x=g/m;Math.abs(b-1)>Lr&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*f>c*p)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Lr||Math.abs(this._y1-c)>Lr)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Rr+Rr),d>Fr?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Lr&&this._append`A${n},${n},0,${+(d>=Br)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ur(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new $r(t)}function Wr(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Vr(e){this._context=e}function qr(e){return new Vr(e)}function Hr(e){return e[0]}function Gr(e){return e[1]}function Yr(e,t){var n=Er(!0),r=null,i=qr,o=null,a=Ur(s);function s(s){var l,c,u,d=(s=Wr(s)).length,f=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Hr:Er(e),t="function"==typeof t?t:void 0===t?Gr:Er(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Er(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Er(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:Er(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Kr(e,t,n){var r=null,i=Er(!0),o=null,a=qr,s=null,l=Ur(c);function c(c){var u,d,f,p,h,y=(c=Wr(c)).length,m=!1,v=new Array(y),g=new Array(y);for(null==o&&(s=a(h=l())),u=0;u<=y;++u){if(!(u<y&&i(p=c[u],u,c))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(p,u,c),g[u]=+t(p,u,c),s.point(r?+r(p,u,c):v[u],n?+n(p,u,c):g[u]))}if(h)return s=null,h+""||null}function u(){return Yr().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Hr:Er(+e),t="function"==typeof t?t:Er(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Gr:Er(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Er(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Er(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Er(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Er(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Er(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Er(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Er(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}Vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Xr{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Zr={draw(e,t){const n=Nr(t/Dr);e.moveTo(n,0),e.arc(0,0,n,0,Ir)}},Qr={draw(e,t){const n=Nr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Jr=Nr(1/3),ei=2*Jr,ti={draw(e,t){const n=Nr(t/ei),r=n*Jr;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ni={draw(e,t){const n=Nr(t),r=-n/2;e.rect(r,r,n,n)}},ri=Mr(Dr/10)/Mr(7*Dr/10),ii=Mr(Ir/10)*ri,oi=-Tr(Ir/10)*ri,ai={draw(e,t){const n=Nr(.8908130915292852*t),r=ii*n,i=oi*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Ir*o/5,a=Tr(t),s=Mr(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},si=Nr(3),li={draw(e,t){const n=-Nr(t/(3*si));e.moveTo(0,2*n),e.lineTo(-si*n,-n),e.lineTo(si*n,-n),e.closePath()}},ci=-.5,ui=Nr(3)/2,di=1/Nr(12),fi=3*(di/2+1),pi={draw(e,t){const n=Nr(t/fi),r=n/2,i=n*di,o=r,a=n*di+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(ci*r-ui*i,ui*r+ci*i),e.lineTo(ci*o-ui*a,ui*o+ci*a),e.lineTo(ci*s-ui*l,ui*s+ci*l),e.lineTo(ci*r+ui*i,ci*i-ui*r),e.lineTo(ci*o+ui*a,ci*a-ui*o),e.lineTo(ci*s+ui*l,ci*l-ui*s),e.closePath()}};function hi(){}function yi(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mi(e){this._context=e}function vi(e){this._context=e}function gi(e){this._context=e}function bi(e){this._context=e}function xi(e){return e<0?-1:1}function ji(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(xi(o)+xi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function wi(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Oi(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Si(e){this._context=e}function _i(e){this._context=new ki(e)}function ki(e){this._context=e}function Ai(e){this._context=e}function Pi(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ci(e,t){this._context=e,this._t=t}function Ei(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ti(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Mi(e,t){return e[t]}function Ni(e){const t=[];return t.key=e,t}function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},vi.prototype={areaStart:hi,areaEnd:hi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},bi.prototype={areaStart:hi,areaEnd:hi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Oi(this,this._t0,wi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Oi(this,wi(this,n=ji(this,e,t)),n);break;default:Oi(this,this._t0,n=ji(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(_i.prototype=Object.create(Si.prototype)).point=function(e,t){Si.prototype.point.call(this,t,e)},ki.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Pi(e),i=Pi(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ii=["type","size","sizeType"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(this,arguments)}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){var r;return r=function(e,t){if("object"!=Di(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Di(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $i={symbolCircle:Zr,symbolCross:Qr,symbolDiamond:ti,symbolSquare:ni,symbolStar:ai,symbolTriangle:li,symbolWye:pi},Ui=Math.PI/180,Wi=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,c=Li(Li({},zi(e,Ii)),{},{type:i,size:a,sizeType:l}),u=c.className,d=c.cx,f=c.cy,p=Zn(c,!0);return d===+d&&f===+f&&a===+a?Lt.createElement("path",Bi({},p,{className:rn("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(Cr(e));return $i[t]||Zr}(i),n=function(e,t){let n=null,r=Ur(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Er(e||Zr),t="function"==typeof t?t:Er(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Er(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Er(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Ui;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,i)),n())})):null};function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ji(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yi(e,t,n){return t=Xi(t),function(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ki()?Reflect.construct(t,n||[],Xi(e).constructor):t.apply(e,n))}function Ki(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ki=function(){return!!e})()}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zi(e,t){return(Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e,t,n){return(t=Ji(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e){var t=function(e,t){if("object"!=Vi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Vi(t)?t:t+""}Wi.registerSymbol=function(e,t){$i["symbol".concat(Cr(e))]=t};var eo,to,no,ro,io,oo,ao,so,lo,co,uo,fo,po,ho,yo,mo,vo,go,bo,xo,jo=32,wo=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yi(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zi(e,t)}(e,It.PureComponent),Gi(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=jo/6,i=jo/3,o=e.inactive?t:e.color;if("plainline"===e.type)return Lt.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:jo,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return Lt.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(jo,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return Lt.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(jo,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Lt.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete a.legendIcon,Lt.cloneElement(e.legendIcon,a)}return Lt.createElement(Wi,{fill:o,cx:n,cy:n,size:jo,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:jo,height:jo},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||o,u=rn(Qi(Qi({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=un(t.value)?null:t.value;_r(!un(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?a:t.color;return Lt.createElement("li",qi({className:u,style:l,key:"legend-item-".concat(n)},Rn(e.props,t,n)),Lt.createElement(ir,{width:r,height:r,viewBox:s,style:c},e.renderIcon(t)),Lt.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return Lt.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();function Oo(){if(to)return eo;return to=1,eo=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}function So(){if(so)return ao;so=1;var e=Oo(),t=ro?no:(ro=1,no=function(e){return e!=e}),n=oo?io:(oo=1,io=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1});return ao=function(r,i,o){return i==i?n(r,i,o):e(r,t,o)}}function _o(){if(mo)return yo;mo=1;var e=h(),t=ho?po:(ho=1,po=function(){}),n=y(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return yo=r}function ko(){if(go)return vo;go=1;var e=m(),t=function(){if(co)return lo;co=1;var e=So();return lo=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=fo?uo:(fo=1,uo=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}),r=v(),i=_o(),o=y();return vo=function(a,s,l){var c=-1,u=t,d=a.length,f=!0,p=[],h=p;if(l)f=!1,u=n;else if(d>=200){var y=s?null:i(a);if(y)return o(y);f=!1,u=r,h=new e}else h=s?[]:p;e:for(;++c<d;){var m=a[c],v=s?s(m):m;if(m=l||0!==m?m:0,f&&v==v){for(var g=h.length;g--;)if(h[g]===v)continue e;s&&h.push(v),p.push(m)}else u(h,v,l)||(h!==p&&h.push(v),p.push(m))}return p}}Qi(wo,"displayName","Legend"),Qi(wo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});const Ao=Rt(function(){if(xo)return bo;xo=1;var e=g(),t=ko();return bo=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function Po(e,t,n){return!0===t?Ao(e,n):un(t)?Ao(e,t):e}function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Eo=["ref"];function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fo(r.key),r)}}function Do(e,t,n){return t=Bo(t),function(e,t){if(t&&("object"===Co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Io()?Reflect.construct(t,n||[],Bo(e).constructor):t.apply(e,n))}function Io(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Io=function(){return!!e})()}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){return(Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e,t,n){return(t=Fo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fo(e){var t=function(e,t){if("object"!=Co(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Co(t)?t:t+""}function zo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $o(e){return e.value}var Uo,Wo,Vo,qo,Ho,Go,Yo,Ko,Xo,Zo,Qo,Jo,ea,ta,na=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Lo(t=Do(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ro(e,t)}(e,It.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=Mo(Mo({},this.defaultProps),e.props).layout;return"vertical"===n&&jn(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Mo(Mo({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,l=Mo(Mo({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return Lt.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(Lt.isValidElement(e))return Lt.cloneElement(e,t);if("function"==typeof e)return Lt.createElement(e,t);t.ref;var n=zo(t,Eo);return Lt.createElement(wo,n)}(n,Mo(Mo({},this.props),{},{payload:Po(s,a,$o)})))}}])&&No(t.prototype,n),r&&No(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function ra(){if(qo)return Vo;qo=1;var e=w(),t=function(){if(Wo)return Uo;Wo=1;var e=b(),t=x(),n=j(),r=e?e.isConcatSpreadable:void 0;return Uo=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return Vo=function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?n(u,i-1,o,a,s):e(s,u):a||(s[s.length]=u)}return s},Vo}function ia(){if(Zo)return Xo;Zo=1;var e=function(){if(Ko)return Yo;Ko=1;var e=O();return Yo=function(t,n){if(t!==n){var r=void 0!==t,i=null===t,o=t==t,a=e(t),s=void 0!==n,l=null===n,c=n==n,u=e(n);if(!l&&!u&&!a&&t>n||a&&s&&c&&!l&&!u||i&&s&&c||!r&&c||!o)return 1;if(!i&&!a&&!u&&t<n||u&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!c)return-1}return 0}}();return Xo=function(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var c=e(o[i],a[i]);if(c)return i>=l?c:c*("desc"==r[i]?-1:1)}return t.index-n.index}}function oa(){if(Jo)return Qo;Jo=1;var e=k(),t=S(),n=g(),r=_(),i=Go?Ho:(Go=1,Ho=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),o=P(),a=ia(),s=A(),l=j();return Qo=function(c,u,d){u=u.length?e(u,(function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e})):[s];var f=-1;u=e(u,o(n));var p=r(c,(function(t,n,r){return{criteria:e(u,(function(e){return e(t)})),index:++f,value:t}}));return i(p,(function(e,t){return a(e,t,d)}))}}Lo(na,"displayName","Legend"),Lo(na,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const aa=Rt(function(){if(ta)return ea;ta=1;var e=ra(),t=oa(),n=C(),r=E(),i=n((function(n,i){if(null==n)return[];var o=i.length;return o>1&&r(n,i[0],i[1])?i=[]:o>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(n,e(i,1),[])}));return ea=i}());function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e,t,n){var r;return r=function(e,t){if("object"!=sa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sa(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e){return Array.isArray(e)&&wn(e[0])&&wn(e[1])?e.join(" ~ "):e}var ya=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,u=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,h=e.label,y=e.labelFormatter,m=e.accessibilityLayer,v=void 0!==m&&m,g=fa({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=fa({margin:0},l),x=!ln(h),j=x?h:"",w=rn("recharts-default-tooltip",f),O=rn("recharts-tooltip-label",p);x&&y&&null!=c&&(j=y(h,c));var S=v?{role:"status","aria-live":"assertive"}:{};return Lt.createElement("div",la({className:w,style:g},S),Lt.createElement("p",{className:O,style:b},Lt.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(d?aa(c,d):c).map((function(e,t){if("none"===e.type)return null;var r=fa({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||u||ha,o=e.value,s=e.name,l=o,d=s;if(i&&null!=l&&null!=d){var f=i(o,s,e,t,c);if(Array.isArray(f)){var p=ca(f,2);l=p[0],d=p[1]}else l=f}return Lt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},wn(d)?Lt.createElement("span",{className:"recharts-tooltip-item-name"},d):null,wn(d)?Lt.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Lt.createElement("span",{className:"recharts-tooltip-item-value"},l),Lt.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return Lt.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t,n){var r;return r=function(e,t){if("object"!=ma(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ma(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ga="recharts-tooltip-wrapper",ba={visibility:"hidden"};function xa(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return rn(ga,va(va(va(va({},"".concat(ga,"-right"),jn(n)&&t&&jn(t.x)&&n>=t.x),"".concat(ga,"-left"),jn(n)&&t&&jn(t.x)&&n<t.x),"".concat(ga,"-bottom"),jn(r)&&t&&jn(t.y)&&r>=t.y),"".concat(ga,"-top"),jn(r)&&t&&jn(t.y)&&r<t.y))}function ja(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&jn(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ta(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ka(e,t,n){return t=Pa(t),function(e,t){if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Aa()?Reflect.construct(t,n||[],Pa(e).constructor):t.apply(e,n))}function Aa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Aa=function(){return!!e})()}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t){return(Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e,t,n){return(t=Ta(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){var t=function(e,t){if("object"!=wa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=wa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==wa(t)?t:t+""}var Ma=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ea(t=ka(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ea(t,"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}(e,It.PureComponent),_a(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,f=t.reverseDirection,p=t.useTranslate3d,h=t.viewBox,y=t.wrapperStyle,m=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ja({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=ja({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):ba,cssClasses:xa({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:h}),v=m.cssClasses,g=m.cssProperties,b=Sa(Sa({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},y);return Lt.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},a)}}])}(),Na=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wa(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function La(e,t,n){return t=za(t),function(e,t){if(t&&("object"===Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fa()?Reflect.construct(t,n||[],za(e).constructor):t.apply(e,n))}function Fa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fa=function(){return!!e})()}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t){return($a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e,t,n){return(t=Wa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e){var t=function(e,t){if("object"!=Da(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Da(t)?t:t+""}function Va(e){return e.dataKey}var qa=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),La(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$a(e,t)}(e,It.PureComponent),Ra(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,f=t.payloadUniqBy,p=t.position,h=t.reverseDirection,y=t.useTranslate3d,m=t.viewBox,v=t.wrapperStyle,g=null!=d?d:[];l&&g.length&&(g=Po(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Va));var b=g.length>0;return Lt.createElement(Ma,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:s,hasPayload:b,offset:u,position:p,reverseDirection:h,useTranslate3d:y,viewBox:m,wrapperStyle:v},function(e,t){return Lt.isValidElement(e)?Lt.cloneElement(e,t):"function"==typeof e?Lt.createElement(e,t):Lt.createElement(ya,t)}(a,Ba(Ba({},this.props),{},{payload:g})))}}])}();function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t,n){var r;return r=function(e,t){if("object"!=Ha(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ha(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ha(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ua(qa,"displayName","Tooltip"),Ua(qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Na,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qa=It.forwardRef((function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,a=void 0===o?"100%":o,s=e.height,l=void 0===s?"100%":s,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,f=e.maxHeight,p=e.children,h=e.debounce,y=void 0===h?0:h,m=e.id,v=e.className,g=e.onResize,b=e.style,x=void 0===b?{}:b,j=It.useRef(null),w=It.useRef();w.current=g,It.useImperativeHandle(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return j.current},configurable:!0})}));var O=Xa(It.useState({containerWidth:i.width,containerHeight:i.height}),2),S=O[0],_=O[1],k=It.useCallback((function(e,t){_((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);It.useEffect((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;k(r,i),null===(t=w.current)||void 0===t||t.call(w,r,i)};y>0&&(e=T(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return k(r,i),t.observe(j.current),function(){t.disconnect()}}),[k,y]);var A=It.useMemo((function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;_r(xn(a)||xn(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,l),_r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=xn(a)?e:a,i=xn(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),f&&i>f&&(i=f)),_r(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,a,l,u,d,n);var o=!Array.isArray(p)&&Wn(p.type).endsWith("Chart");return Lt.Children.map(p,(function(e){return Lt.isValidElement(e)?It.cloneElement(e,Ya({width:r,height:i},o?{style:Ya({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e}))}),[n,p,l,f,d,u,S,a]);return Lt.createElement("div",{id:m?"".concat(m):void 0,className:rn("recharts-responsive-container",v),style:Ya(Ya({},x),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:j},A)})),Ja=function(e){return null};function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rs(e,t,n){var r;return r=function(e,t){if("object"!=es(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==es(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ja.displayName="Cell";var is={widthCache:{},cacheCount:0},os={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},as="recharts_measurement_span";var ss=function(e){if(null==e||Na)return{width:0,height:0};var t,n=(t=ns({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t),r=JSON.stringify({text:e,copyStyle:n});if(is.widthCache[r])return is.widthCache[r];try{var i=document.getElementById(as);i||((i=document.createElement("span")).setAttribute("id",as),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ns(ns({},os),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return is.widthCache[r]=s,++is.cacheCount>2e3&&(is.cacheCount=0,is.widthCache={}),s}catch(l){return{width:0,height:0}}};function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return us(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fs(r.key),r)}}function fs(e){var t=function(e,t){if("object"!=ls(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=ls(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ls(t)?t:t+""}var ps=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hs=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ys=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ms=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vs={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},gs=Object.keys(vs),bs="NaN";var xs=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||ys.test(n)||(this.num=NaN,this.unit=""),gs.includes(n)&&(this.num=function(e,t){return e*vs[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=cs(null!==(n=ms.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&ds(t.prototype,n),r&&ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function js(e){if(e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var n,r=cs(null!==(n=ps.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=xs.parse(null!=i?i:""),l=xs.parse(null!=a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return bs;t=t.replace(ps,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=cs(null!==(u=hs.exec(t))&&void 0!==u?u:[],4),f=d[1],p=d[2],h=d[3],y=xs.parse(null!=f?f:""),m=xs.parse(null!=h?h:""),v="+"===p?y.add(m):y.subtract(m);if(v.isNaN())return bs;t=t.replace(hs,v.toString())}return t}var ws=/\(([^()]*)\)/;function Os(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=cs(ws.exec(t),2)[1];t=t.replace(ws,js(n))}return t}(t),t=js(t)}function Ss(e){var t=function(e){try{return Os(e)}catch(t){return bs}}(e.slice(5,-1));return t===bs?"":t}var _s=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ks=["dx","dy","angle","className","breakAll"];function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}function Ps(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Es(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ts=/[ \f\n\r\t\v\u2028\u2029]+/,Ms=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return ln(t)||(i=n?t.toString().split(""):t.toString().split(Ts)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:ss(e,r).width}})),spaceWidth:n?0:ss(" ",r).width}}catch(o){return null}},Ns=function(e){return[{words:ln(e)?[]:e.toString().split(Ts)}]},Ds=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!Na){var s=Ms({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=jn(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},f=d(t);if(!c)return f;for(var p,h=function(e){var t=u.slice(0,e),n=Ms({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},y=0,m=u.length-1,v=0;y<=m&&v<=u.length-1;){var g=Math.floor((y+m)/2),b=Cs(h(g-1),2),x=b[0],j=b[1],w=Cs(h(g),1)[0];if(x||w||(y=g+1),x&&w&&(m=g-1),!x&&w){p=j;break}v++}return p||f}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Ns(r)}return Ns(r)},Is="#808080",Bs=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,a=void 0===o?"1em":o,s=e.capHeight,l=void 0===s?"0.71em":s,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,f=void 0===d?"start":d,p=e.verticalAnchor,h=void 0===p?"end":p,y=e.fill,m=void 0===y?Is:y,v=Ps(e,_s),g=It.useMemo((function(){return Ds({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:u,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,u,v.style,v.width]),b=v.dx,x=v.dy,j=v.angle,w=v.className,O=v.breakAll,S=Ps(v,ks);if(!wn(n)||!wn(i))return null;var _,k=n+(jn(b)?b:0),A=i+(jn(x)?x:0);switch(h){case"start":_=Ss("calc(".concat(l,")"));break;case"middle":_=Ss("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:_=Ss("calc(".concat(g.length-1," * -").concat(a,")"))}var P=[];if(u){var C=g[0].width,E=v.width;P.push("scale(".concat((jn(E)?E/C:1)/C,")"))}return j&&P.push("rotate(".concat(j,", ").concat(k,", ").concat(A,")")),P.length&&(S.transform=P.join(" ")),Lt.createElement("text",As({},Zn(S,!0),{x:k,y:A,className:rn("recharts-text",w),textAnchor:f,fill:m.includes("url")?Is:m}),g.map((function(e,t){var n=e.words.join(O?"":" ");return Lt.createElement("tspan",{x:k,dy:0===t?_:a,key:"".concat(n,"-").concat(t)},n)})))};function Rs(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ls(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fs(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Rs,n=(t,n)=>Rs(e(t),n),r=(t,n)=>e(t)-n):(t=e===Rs||e===Ls?e:zs,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function zs(){return 0}function $s(e){return null===e?NaN:+e}const Us=Fs(Rs).right;Fs($s).center;class Ws extends Map{constructor(e,t=qs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Vs(this,e))}has(e){return super.has(Vs(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function Vs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qs(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Hs(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Gs=Math.sqrt(50),Ys=Math.sqrt(10),Ks=Math.sqrt(2);function Xs(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Gs?10:o>=Ys?5:o>=Ks?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Xs(e,t,2*n):[s,l,c]}function Zs(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?Xs(t,e,n):Xs(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Qs(e,t,n){return Xs(e=+e,t=+t,n=+n)[2]}function Js(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Qs(t,e,n):Qs(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function el(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function tl(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function nl(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Hs:function(e=Rs){if(e===Rs)return Hs;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);nl(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(rl(e,n,t),i(e[r],o)>0&&rl(e,n,r);a<s;){for(rl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?rl(e,n,s):(++s,rl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function il(e,t,n=$s){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function ol(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function al(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const sl=Symbol("implicit");function ll(){var e=new Ws,t=[],n=[],r=sl;function i(i){let o=e.get(i);if(void 0===o){if(r!==sl)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ws;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return ll(t,n).unknown(r)},ol.apply(i,arguments),i}function cl(){var e,t,n=ll().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,f=d?a:o,p=d?o:a;e=(p-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return f+e*t}));return i(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return cl(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},ol.apply(d(),arguments)}function ul(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ul(t())},e}function dl(){return ul(cl.apply(null,arguments).paddingInner(1))}function fl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hl(){}var yl=.7,ml=1/yl,vl="\\s*([+-]?\\d+)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xl=/^#([0-9a-f]{3,8})$/,jl=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),wl=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),Ol=new RegExp(`^rgba\\(${vl},${vl},${vl},${gl}\\)$`),Sl=new RegExp(`^rgba\\(${bl},${bl},${bl},${gl}\\)$`),_l=new RegExp(`^hsl\\(${gl},${bl},${bl}\\)$`),kl=new RegExp(`^hsla\\(${gl},${bl},${bl},${gl}\\)$`),Al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pl(){return this.rgb().formatHex()}function Cl(){return this.rgb().formatRgb()}function El(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Tl(t):3===n?new Dl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ml(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ml(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jl.exec(e))?new Dl(t[1],t[2],t[3],1):(t=wl.exec(e))?new Dl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ol.exec(e))?Ml(t[1],t[2],t[3],t[4]):(t=Sl.exec(e))?Ml(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_l.exec(e))?zl(t[1],t[2]/100,t[3]/100,1):(t=kl.exec(e))?zl(t[1],t[2]/100,t[3]/100,t[4]):Al.hasOwnProperty(e)?Tl(Al[e]):"transparent"===e?new Dl(NaN,NaN,NaN,0):null}function Tl(e){return new Dl(e>>16&255,e>>8&255,255&e,1)}function Ml(e,t,n,r){return r<=0&&(e=t=n=NaN),new Dl(e,t,n,r)}function Nl(e,t,n,r){return 1===arguments.length?((i=e)instanceof hl||(i=El(i)),i?new Dl((i=i.rgb()).r,i.g,i.b,i.opacity):new Dl):new Dl(e,t,n,null==r?1:r);var i}function Dl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Il(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function Bl(){const e=Rl(this.opacity);return`${1===e?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${1===e?")":`, ${e})`}`}function Rl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fl(e){return((e=Ll(e))<16?"0":"")+e.toString(16)}function zl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ul(e,t,n,r)}function $l(e){if(e instanceof Ul)return new Ul(e.h,e.s,e.l,e.opacity);if(e instanceof hl||(e=El(e)),!e)return new Ul;if(e instanceof Ul)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ul(a,s,l,e.opacity)}function Ul(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Wl(e){return(e=(e||0)%360)<0?e+360:e}function Vl(e){return Math.max(0,Math.min(1,e||0))}function ql(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}fl(hl,El,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pl,formatHex:Pl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $l(this).formatHsl()},formatRgb:Cl,toString:Cl}),fl(Dl,Nl,pl(hl,{brighter(e){return e=null==e?ml:Math.pow(ml,e),new Dl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yl:Math.pow(yl,e),new Dl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dl(Ll(this.r),Ll(this.g),Ll(this.b),Rl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Il,formatHex:Il,formatHex8:function(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bl,toString:Bl})),fl(Ul,(function(e,t,n,r){return 1===arguments.length?$l(e):new Ul(e,t,n,null==r?1:r)}),pl(hl,{brighter(e){return e=null==e?ml:Math.pow(ml,e),new Ul(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yl:Math.pow(yl,e),new Ul(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Dl(ql(e>=240?e-240:e+120,i,r),ql(e,i,r),ql(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ul(Wl(this.h),Vl(this.s),Vl(this.l),Rl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rl(this.opacity);return`${1===e?"hsl(":"hsla("}${Wl(this.h)}, ${100*Vl(this.s)}%, ${100*Vl(this.l)}%${1===e?")":`, ${e})`}`}}));const Hl=e=>()=>e;function Gl(e){return 1===(e=+e)?Yl:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Hl(isNaN(t)?n:t)}}function Yl(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Hl(isNaN(e)?t:e)}const Kl=function e(t){var n=Gl(t);function r(e,t){var r=n((e=Nl(e)).r,(t=Nl(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Yl(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Xl(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Zl(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ic(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Ql(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ec(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=ic(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var tc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nc=new RegExp(tc.source,"g");function rc(e,t){var n,r,i,o=tc.lastIndex=nc.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=tc.exec(e))&&(r=nc.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Jl(n,r)})),o=nc.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ic(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Hl(t):("number"===i?Jl:"string"===i?(n=El(t))?(t=n,Kl):rc:t instanceof El?Kl:t instanceof Date?Ql:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Zl:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ec:Jl:Xl))(e,t)}function oc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ac(e){return+e}var sc=[0,1];function lc(e){return e}function cc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function uc(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=cc(i,r),o=n(a,o)):(r=cc(r,i),o=n(o,a)),function(e){return o(r(e))}}function dc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=cc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Us(e,t,1,r)-1;return o[n](i[n](t))}}function fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pc(){var e,t,n,r,i,o,a=sc,s=sc,l=ic,c=lc;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==lc&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?dc:uc,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),Jl)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,ac),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=oc,u()},d.clamp=function(e){return arguments.length?(c=!!e||lc,u()):c!==lc},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function hc(){return pc()(lc,lc)}function yc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mc(e){return(e=yc(Math.abs(e)))?e[1]:NaN}var vc,gc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(e){if(!(t=gc.exec(e)))throw new Error("invalid format: "+e);var t;return new xc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function xc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function jc(e,t){var n=yc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bc.prototype=xc.prototype,xc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const wc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jc(100*e,t),r:jc,s:function(e,t){var n=yc(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(vc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yc(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Oc(e){return e}var Sc,_c,kc,Ac=Array.prototype.map,Pc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cc(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Oc:(t=Ac.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Oc:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ac.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=bc(e)).fill,n=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,y=e.comma,m=e.precision,v=e.trim,g=e.type;"n"===g?(y=!0,g="g"):wc[g]||(void 0===m&&(m=12),v=!0,g="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",x="$"===f?o:/[%p]/.test(g)?l:"",j=wc[g],w=/[defgprs%]/.test(g);function O(e){var i,o,l,f=b,O=x;if("c"===g)O=j(e)+O,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),f=(S?"("===d?d:c:"-"===d||"("===d?"":d)+f,O=("s"===g?Pc[8+vc/3]:"")+O+(S&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){O=(46===l?a+e.slice(i+1):e.slice(i))+O,e=e.slice(0,i);break}}y&&!p&&(e=r(e,1/0));var _=f.length+e.length+O.length,k=_<h?new Array(h-_+1).join(t):"";switch(y&&p&&(e=r(k+e,k.length?h-O.length:1/0),k=""),n){case"<":e=f+e+O+k;break;case"=":e=f+k+e+O;break;case"^":e=k.slice(0,_=k.length>>1)+f+e+O+k.slice(_);break;default:e=k+f+e+O}return s(e)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),O.toString=function(){return e+""},O}return{format:d,formatPrefix:function(e,t){var n=d(((e=bc(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(mc(t)/3))),i=Math.pow(10,-r),o=Pc[8+r/3];return function(e){return n(i*e)+o}}}}function Ec(e,t,n,r){var i,o=Js(e,t,n);switch((r=bc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mc(t)/3)))-mc(Math.abs(e)))}(o,a))||(r.precision=i),kc(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mc(t)-mc(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-mc(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return _c(r)}function Tc(e){var t=e.domain;return e.ticks=function(e){var n=t();return Zs(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Ec(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Qs(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Mc(){var e=hc();return e.copy=function(){return fc(e,Mc())},ol.apply(e,arguments),Tc(e)}function Nc(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Dc(e){return Math.log(e)}function Ic(e){return Math.exp(e)}function Bc(e){return-Math.log(-e)}function Rc(e){return-Math.exp(-e)}function Lc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fc(e){return(t,n)=>-e(-t,n)}function zc(e){const t=e(Dc,Ic),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Lc:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Fc(r),i=Fc(i),e(Bc,Rc)):e(Dc,Ic),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),f=r(s);const p=null==e?10:+e;let h=[];if(!(o%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;h.push(u)}}else for(;d<=f;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;h.push(u)}2*h.length<p&&(h=Zs(a,s,p))}else h=Zs(d,f,Math.min(f-d,p)).map(i);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=bc(n)).precision||(n.trim=!0),n=_c(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(Nc(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function $c(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Uc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wc(e){var t=1,n=e($c(t),Uc(t));return n.constant=function(n){return arguments.length?e($c(t=+n),Uc(t)):t},Tc(n)}function Vc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hc(e){return e<0?-e*e:e*e}function Gc(e){var t=e(lc,lc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(lc,lc):.5===n?e(qc,Hc):e(Vc(n),Vc(1/n)):n},Tc(t)}function Yc(){var e=Gc(pc());return e.copy=function(){return fc(e,Yc()).exponent(e.exponent())},ol.apply(e,arguments),e}function Kc(e){return Math.sign(e)*e*e}Sc=Cc({thousands:",",grouping:[3],currency:["$",""]}),_c=Sc.format,kc=Sc.formatPrefix;const Xc=new Date,Zc=new Date;function Qc(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Qc((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Xc.setTime(+t),Zc.setTime(+r),e(Xc),e(Zc),Math.floor(n(Xc,Zc))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Jc=Qc((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Jc.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Qc((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Jc:null),Jc.range;const eu=1e3,tu=6e4,nu=36e5,ru=864e5,iu=6048e5,ou=2592e6,au=31536e6,su=Qc((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*eu)}),((e,t)=>(t-e)/eu),(e=>e.getUTCSeconds()));su.range;const lu=Qc((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu)}),((e,t)=>{e.setTime(+e+t*tu)}),((e,t)=>(t-e)/tu),(e=>e.getMinutes()));lu.range;const cu=Qc((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*tu)}),((e,t)=>(t-e)/tu),(e=>e.getUTCMinutes()));cu.range;const uu=Qc((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu-e.getMinutes()*tu)}),((e,t)=>{e.setTime(+e+t*nu)}),((e,t)=>(t-e)/nu),(e=>e.getHours()));uu.range;const du=Qc((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*nu)}),((e,t)=>(t-e)/nu),(e=>e.getUTCHours()));du.range;const fu=Qc((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tu)/ru),(e=>e.getDate()-1));fu.range;const pu=Qc((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ru),(e=>e.getUTCDate()-1));pu.range;const hu=Qc((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/ru),(e=>Math.floor(e/ru)));function yu(e){return Qc((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tu)/iu))}hu.range;const mu=yu(0),vu=yu(1),gu=yu(2),bu=yu(3),xu=yu(4),ju=yu(5),wu=yu(6);function Ou(e){return Qc((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/iu))}mu.range,vu.range,gu.range,bu.range,xu.range,ju.range,wu.range;const Su=Ou(0),_u=Ou(1),ku=Ou(2),Au=Ou(3),Pu=Ou(4),Cu=Ou(5),Eu=Ou(6);Su.range,_u.range,ku.range,Au.range,Pu.range,Cu.range,Eu.range;const Tu=Qc((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));Tu.range;const Mu=Qc((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));Mu.range;const Nu=Qc((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));Nu.every=e=>isFinite(e=Math.floor(e))&&e>0?Qc((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,Nu.range;const Du=Qc((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function Iu(e,t,n,r,i,o){const a=[[su,1,eu],[su,5,5e3],[su,15,15e3],[su,30,3e4],[o,1,tu],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,nu],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,ru],[r,2,1728e5],[n,1,iu],[t,1,ou],[t,3,7776e6],[e,1,au]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Fs((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(Js(t/au,n/au,r));if(0===o)return Jc.every(Math.max(Js(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}Du.every=e=>isFinite(e=Math.floor(e))&&e>0?Qc((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,Du.range;const[Bu,Ru]=Iu(Du,Mu,Su,hu,du,cu),[Lu,Fu]=Iu(Nu,Tu,mu,fu,uu,lu);function zu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $u(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Wu,Vu,qu,Hu={"-":"",_:" ",0:"0"},Gu=/^\s*\d+/,Yu=/^%/,Ku=/[\\^$*+?|[\]().{}]/g;function Xu(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Zu(e){return e.replace(Ku,"\\$&")}function Qu(e){return new RegExp("^(?:"+e.map(Zu).join("|")+")","i")}function Ju(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ed(e,t,n){var r=Gu.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function td(e,t,n){var r=Gu.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function id(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function od(e,t,n){var r=Gu.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ad(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ld(e,t,n){var r=Gu.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function cd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ud(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dd(e,t,n){var r=Gu.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function hd(e,t,n){var r=Gu.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yd(e,t,n){var r=Gu.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function md(e,t,n){var r=Gu.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vd(e,t,n){var r=Yu.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gd(e,t,n){var r=Gu.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bd(e,t,n){var r=Gu.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xd(e,t){return Xu(e.getDate(),t,2)}function jd(e,t){return Xu(e.getHours(),t,2)}function wd(e,t){return Xu(e.getHours()%12||12,t,2)}function Od(e,t){return Xu(1+fu.count(Nu(e),e),t,3)}function Sd(e,t){return Xu(e.getMilliseconds(),t,3)}function _d(e,t){return Sd(e,t)+"000"}function kd(e,t){return Xu(e.getMonth()+1,t,2)}function Ad(e,t){return Xu(e.getMinutes(),t,2)}function Pd(e,t){return Xu(e.getSeconds(),t,2)}function Cd(e){var t=e.getDay();return 0===t?7:t}function Ed(e,t){return Xu(mu.count(Nu(e)-1,e),t,2)}function Td(e){var t=e.getDay();return t>=4||0===t?xu(e):xu.ceil(e)}function Md(e,t){return e=Td(e),Xu(xu.count(Nu(e),e)+(4===Nu(e).getDay()),t,2)}function Nd(e){return e.getDay()}function Dd(e,t){return Xu(vu.count(Nu(e)-1,e),t,2)}function Id(e,t){return Xu(e.getFullYear()%100,t,2)}function Bd(e,t){return Xu((e=Td(e)).getFullYear()%100,t,2)}function Rd(e,t){return Xu(e.getFullYear()%1e4,t,4)}function Ld(e,t){var n=e.getDay();return Xu((e=n>=4||0===n?xu(e):xu.ceil(e)).getFullYear()%1e4,t,4)}function Fd(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xu(t/60|0,"0",2)+Xu(t%60,"0",2)}function zd(e,t){return Xu(e.getUTCDate(),t,2)}function $d(e,t){return Xu(e.getUTCHours(),t,2)}function Ud(e,t){return Xu(e.getUTCHours()%12||12,t,2)}function Wd(e,t){return Xu(1+pu.count(Du(e),e),t,3)}function Vd(e,t){return Xu(e.getUTCMilliseconds(),t,3)}function qd(e,t){return Vd(e,t)+"000"}function Hd(e,t){return Xu(e.getUTCMonth()+1,t,2)}function Gd(e,t){return Xu(e.getUTCMinutes(),t,2)}function Yd(e,t){return Xu(e.getUTCSeconds(),t,2)}function Kd(e){var t=e.getUTCDay();return 0===t?7:t}function Xd(e,t){return Xu(Su.count(Du(e)-1,e),t,2)}function Zd(e){var t=e.getUTCDay();return t>=4||0===t?Pu(e):Pu.ceil(e)}function Qd(e,t){return e=Zd(e),Xu(Pu.count(Du(e),e)+(4===Du(e).getUTCDay()),t,2)}function Jd(e){return e.getUTCDay()}function ef(e,t){return Xu(_u.count(Du(e)-1,e),t,2)}function tf(e,t){return Xu(e.getUTCFullYear()%100,t,2)}function nf(e,t){return Xu((e=Zd(e)).getUTCFullYear()%100,t,2)}function rf(e,t){return Xu(e.getUTCFullYear()%1e4,t,4)}function of(e,t){var n=e.getUTCDay();return Xu((e=n>=4||0===n?Pu(e):Pu.ceil(e)).getUTCFullYear()%1e4,t,4)}function af(){return"+0000"}function sf(){return"%"}function lf(e){return+e}function cf(e){return Math.floor(+e/1e3)}function uf(e){return new Date(e)}function df(e){return e instanceof Date?+e:+new Date(+e)}function ff(e,t,n,r,i,o,a,s,l,c){var u=hc(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),y=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),g=c("%b %d"),b=c("%B"),x=c("%Y");function j(e){return(l(e)<e?p:s(e)<e?h:a(e)<e?y:o(e)<e?m:r(e)<e?i(e)<e?v:g:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,df)):f().map(uf)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(Nc(n,e)):u},u.copy=function(){return fc(u,ff(e,t,n,r,i,o,a,s,l,c))},u}function pf(){var e,t,n,r,i,o=0,a=1,s=lc,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(ic),c.rangeRound=u(oc),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function hf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yf(){var e=Gc(pf());return e.copy=function(){return hf(e,yf()).exponent(e.exponent())},al.apply(e,arguments)}function mf(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=lc,f=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=ic);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(ic),p.rangeRound=h(oc),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function vf(){var e=Gc(mf());return e.copy=function(){return hf(e,vf()).exponent(e.exponent())},al.apply(e,arguments)}!function(e){Wu=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Qu(i),u=Ju(i),d=Qu(o),f=Ju(o),p=Qu(a),h=Ju(a),y=Qu(s),m=Ju(s),v=Qu(l),g=Ju(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:xd,e:xd,f:_d,g:Bd,G:Ld,H:jd,I:wd,j:Od,L:Sd,m:kd,M:Ad,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:lf,s:cf,S:Pd,u:Cd,U:Ed,V:Md,w:Nd,W:Dd,x:null,X:null,y:Id,Y:Rd,Z:Fd,"%":sf},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:zd,e:zd,f:qd,g:nf,G:of,H:$d,I:Ud,j:Wd,L:Vd,m:Hd,M:Gd,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:lf,s:cf,S:Yd,u:Kd,U:Xd,V:Qd,w:Jd,W:ef,x:null,X:null,y:tf,Y:rf,Z:af,"%":sf},j={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:ud,e:ud,f:md,g:ad,G:od,H:fd,I:fd,j:dd,L:yd,m:cd,M:pd,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:ld,Q:gd,s:bd,S:hd,u:td,U:nd,V:rd,w:ed,W:id,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:ad,Y:od,Z:sd,"%":vd};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Hu[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function O(e,t){return function(n){var r,i,o=Uu(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=$u(Uu(o.y,0,1))).getUTCDay(),r=i>4||0===i?_u.ceil(r):_u(r),r=pu.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=zu(Uu(o.y,0,1))).getDay(),r=i>4||0===i?vu.ceil(r):vu(r),r=fu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?$u(Uu(o.y,0,1)).getUTCDay():zu(Uu(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,$u(o)):zu(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=j[i in Hu?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}(e),Vu=Wu.format,Wu.parse,qu=Wu.utcFormat,Wu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const gf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cl,scaleDiverging:function e(){var t=Tc(mf()(lc));return t.copy=function(){return hf(t,e())},al.apply(t,arguments)},scaleDivergingLog:function e(){var t=zc(mf()).domain([.1,1,10]);return t.copy=function(){return hf(t,e()).base(t.base())},al.apply(t,arguments)},scaleDivergingPow:vf,scaleDivergingSqrt:function(){return vf.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Wc(mf());return t.copy=function(){return hf(t,e()).constant(t.constant())},al.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ac),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ac):[0,1],Tc(r)},scaleImplicit:sl,scaleLinear:Mc,scaleLog:function e(){const t=zc(pc()).domain([1,10]);return t.copy=()=>fc(t,e()).base(t.base()),ol.apply(t,arguments),t},scaleOrdinal:ll,scalePoint:dl,scalePow:Yc,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=il(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[Us(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(Rs),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},ol.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[Us(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},ol.apply(Tc(s),arguments)},scaleRadial:function e(){var t,n=hc(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(Kc(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,ac)).map(Kc)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},ol.apply(o,arguments),Tc(o)},scaleSequential:function e(){var t=Tc(pf()(lc));return t.copy=function(){return hf(t,e())},al.apply(t,arguments)},scaleSequentialLog:function e(){var t=zc(pf()).domain([1,10]);return t.copy=function(){return hf(t,e()).base(t.base())},al.apply(t,arguments)},scaleSequentialPow:yf,scaleSequentialQuantile:function e(){var t=[],n=lc;function r(e){if(null!=e&&!isNaN(e=+e))return n((Us(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Rs),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return tl(e);if(t>=1)return el(e);var n,r=(n-1)*t,i=Math.floor(r),o=el(nl(e,i).subarray(0,i+1));return o+(tl(e.subarray(i+1))-o)*(r-i)}}(t,r/e)))},r.copy=function(){return e(n).domain(t)},al.apply(r,arguments)},scaleSequentialSqrt:function(){return yf.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Wc(pf());return t.copy=function(){return hf(t,e()).constant(t.constant())},al.apply(t,arguments)},scaleSqrt:function(){return Yc.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Wc(pc());return t.copy=function(){return fc(t,e()).constant(t.constant())},ol.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[Us(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},ol.apply(o,arguments)},scaleTime:function(){return ol.apply(ff(Lu,Fu,Nu,Tu,mu,fu,uu,lu,su,Vu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return ol.apply(ff(Bu,Ru,Du,Mu,Su,pu,du,cu,su,qu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Ec},Symbol.toStringTag,{value:"Module"}));var bf,xf,jf,wf,Of,Sf;function _f(){if(xf)return bf;xf=1;var e=O();return bf=function(t,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n(a);if(null!=s&&(void 0===l?s==s&&!e(s):r(s,l)))var l=s,c=a}return c}}function kf(){if(wf)return jf;return wf=1,jf=function(e,t){return e>t}}const Af=Rt(function(){if(Sf)return Of;Sf=1;var e=_f(),t=kf(),n=A();return Of=function(r){return r&&r.length?e(r,n,t):void 0}}());var Pf,Cf,Ef,Tf;function Mf(){if(Cf)return Pf;return Cf=1,Pf=function(e,t){return e<t}}const Nf=Rt(function(){if(Tf)return Ef;Tf=1;var e=_f(),t=Mf(),n=A();return Ef=function(r){return r&&r.length?e(r,n,t):void 0}}());var Df,If;const Bf=Rt(function(){if(If)return Df;If=1;var e=ra(),t=M();return Df=function(n,r){return e(t(n,r),1)}}());var Rf,Lf;const Ff=Rt(function(){if(Lf)return Rf;Lf=1;var e=N();return Rf=function(t,n){return e(t,n)}}());var zf,$f=1e9,Uf=!0,Wf="[DecimalError] ",Vf=Wf+"Invalid argument: ",qf=Wf+"Exponent out of range: ",Hf=Math.floor,Gf=Math.pow,Yf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kf=1e7,Xf=9007199254740991,Zf=Hf(1286742750677284.5),Qf={};function Jf(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Uf?cp(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Kf|0,l[o]%=Kf;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,Uf?cp(t,d):t}function ep(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vf+e)}function tp(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=ap(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=ap(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}Qf.absoluteValue=Qf.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Qf.comparedTo=Qf.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},Qf.decimalPlaces=Qf.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},Qf.dividedBy=Qf.div=function(e){return np(this,new this.constructor(e))},Qf.dividedToIntegerBy=Qf.idiv=function(e){var t=this.constructor;return cp(np(this,new t(e),0,1),t.precision)},Qf.equals=Qf.eq=function(e){return!this.cmp(e)},Qf.exponent=function(){return ip(this)},Qf.greaterThan=Qf.gt=function(e){return this.cmp(e)>0},Qf.greaterThanOrEqualTo=Qf.gte=function(e){return this.cmp(e)>=0},Qf.isInteger=Qf.isint=function(){return this.e>this.d.length-2},Qf.isNegative=Qf.isneg=function(){return this.s<0},Qf.isPositive=Qf.ispos=function(){return this.s>0},Qf.isZero=function(){return 0===this.s},Qf.lessThan=Qf.lt=function(e){return this.cmp(e)<0},Qf.lessThanOrEqualTo=Qf.lte=function(e){return this.cmp(e)<1},Qf.logarithm=Qf.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(zf))throw Error(Wf+"NaN");if(n.s<1)throw Error(Wf+(n.s?"NaN":"-Infinity"));return n.eq(zf)?new r(0):(Uf=!1,t=np(sp(n,o),sp(e,o),o),Uf=!0,cp(t,i))},Qf.minus=Qf.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?up(t,e):Jf(t,(e.s=-e.s,e))},Qf.modulo=Qf.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(Wf+"NaN");return n.s?(Uf=!1,t=np(n,e,0,1).times(e),Uf=!0,n.minus(t)):cp(new r(n),i)},Qf.naturalExponential=Qf.exp=function(){return rp(this)},Qf.naturalLogarithm=Qf.ln=function(){return sp(this)},Qf.negated=Qf.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Qf.plus=Qf.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jf(t,e):up(t,(e.s=-e.s,e))},Qf.precision=Qf.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Vf+e);if(t=ip(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},Qf.squareRoot=Qf.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wf+"NaN")}for(e=ip(s),Uf=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=tp(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Hf((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(np(s,o,a+2)).times(.5),tp(o.d).slice(0,a)===(t=tp(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(cp(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return Uf=!0,cp(r,n)},Qf.times=Qf.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=f.length)<(c=p.length)&&(o=f,f=p,p=o,a=l,l=c,c=a),o=[],r=a=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+t,o[i--]=s%Kf|0,t=s/Kf|0;o[i]=(o[i]+t)%Kf|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Uf?cp(e,d.precision):e},Qf.toDecimalPlaces=Qf.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(ep(e,0,$f),void 0===t?t=r.rounding:ep(t,0,8),cp(n,e+ip(n)+1,t))},Qf.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=dp(r,!0):(ep(e,0,$f),void 0===t?t=i.rounding:ep(t,0,8),n=dp(r=cp(new i(r),e+1,t),!0,e+1)),n},Qf.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?dp(i):(ep(e,0,$f),void 0===t?t=o.rounding:ep(t,0,8),n=dp((r=cp(new o(i),e+ip(i)+1,t)).abs(),!1,e+ip(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},Qf.toInteger=Qf.toint=function(){var e=this,t=e.constructor;return cp(new t(e),ip(e)+1,t.rounding)},Qf.toNumber=function(){return+this},Qf.toPower=Qf.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(zf);if(!(s=new l(s)).s){if(e.s<1)throw Error(Wf+"Infinity");return s}if(s.eq(zf))return s;if(r=l.precision,e.eq(zf))return cp(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=c<0?-c:c)<=Xf){for(i=new l(zf),t=Math.ceil(r/7+4),Uf=!1;n%2&&fp((i=i.times(s)).d,t),0!==(n=Hf(n/2));)fp((s=s.times(s)).d,t);return Uf=!0,e.s<0?new l(zf).div(i):cp(i,r)}}else if(o<0)throw Error(Wf+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,Uf=!1,i=e.times(sp(s,r+12)),Uf=!0,(i=rp(i)).s=o,i},Qf.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=dp(i,(n=ip(i))<=o.toExpNeg||n>=o.toExpPos):(ep(e,1,$f),void 0===t?t=o.rounding:ep(t,0,8),r=dp(i=cp(new o(i),e,t),e<=(n=ip(i))||n<=o.toExpNeg,e)),r},Qf.toSignificantDigits=Qf.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ep(e,1,$f),void 0===t?t=n.rounding:ep(t,0,8)),cp(new n(this),e,t)},Qf.toString=Qf.valueOf=Qf.val=Qf.toJSON=Qf[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ip(e),n=e.constructor;return dp(e,t<=n.toExpNeg||t>=n.toExpPos)};var np=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%Kf|0,r=n/Kf|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*Kf+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,u,d,f,p,h,y,m,v,g,b,x,j,w,O,S,_=r.constructor,k=r.s==i.s?1:-1,A=r.d,P=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Wf+"Division by zero");for(l=r.e-i.e,O=P.length,j=A.length,h=(p=new _(k)).d=[],c=0;P[c]==(A[c]||0);)++c;if(P[c]>(A[c]||0)&&--l,(g=null==o?o=_.precision:a?o+(ip(r)-ip(i))+1:o)<0)return new _(0);if(g=g/7+2|0,c=0,1==O)for(u=0,P=P[0],g++;(c<j||u)&&g--;c++)b=u*Kf+(A[c]||0),h[c]=b/P|0,u=b%P|0;else{for((u=Kf/(P[0]+1)|0)>1&&(P=e(P,u),A=e(A,u),O=P.length,j=A.length),x=O,m=(y=A.slice(0,O)).length;m<O;)y[m++]=0;(S=P.slice()).unshift(0),w=P[0],P[1]>=Kf/2&&++w;do{u=0,(s=t(P,y,O,m))<0?(v=y[0],O!=m&&(v=v*Kf+(y[1]||0)),(u=v/w|0)>1?(u>=Kf&&(u=Kf-1),1==(s=t(d=e(P,u),y,f=d.length,m=y.length))&&(u--,n(d,O<f?S:P,f))):(0==u&&(s=u=1),d=P.slice()),(f=d.length)<m&&d.unshift(0),n(y,d,m),-1==s&&(s=t(P,y,O,m=y.length))<1&&(u++,n(y,O<m?S:P,m)),m=y.length):0===s&&(u++,y=[0]),h[c++]=u,s&&y[0]?y[m++]=A[x]||0:(y=[A[x]],m=1)}while((x++<j||void 0!==y[0])&&g--)}return h[0]||h.shift(),p.e=l,cp(p,a?o+ip(p)+1:o)}}();function rp(e,t){var n,r,i,o,a,s=0,l=0,c=e.constructor,u=c.precision;if(ip(e)>16)throw Error(qf+ip(e));if(!e.s)return new c(zf);for(Uf=!1,a=u,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(Gf(2,l))/Math.LN10*2+5|0,n=r=i=new c(zf),c.precision=a;;){if(r=cp(r.times(e),a),n=n.times(++s),tp((o=i.plus(np(r,n,a))).d).slice(0,a)===tp(i.d).slice(0,a)){for(;l--;)i=cp(i.times(i),a);return c.precision=u,null==t?(Uf=!0,cp(i,u)):i}i=o}}function ip(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function op(e,t,n){if(t>e.LN10.sd())throw Uf=!0,n&&(e.precision=n),Error(Wf+"LN10 precision limit exceeded");return cp(new e(e.LN10),t)}function ap(e){for(var t="";e--;)t+="0";return t}function sp(e,t){var n,r,i,o,a,s,l,c,u,d=1,f=e,p=f.d,h=f.constructor,y=h.precision;if(f.s<1)throw Error(Wf+(f.s?"NaN":"-Infinity"));if(f.eq(zf))return new h(0);if(null==t?(Uf=!1,c=y):c=t,f.eq(10))return null==t&&(Uf=!0),op(h,c);if(c+=10,h.precision=c,r=(n=tp(p)).charAt(0),o=ip(f),!(Math.abs(o)<15e14))return l=op(h,c+2,y).times(o+""),f=sp(new h(r+"."+n.slice(1)),c-10).plus(l),h.precision=y,null==t?(Uf=!0,cp(f,y)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=tp((f=f.times(e)).d)).charAt(0),d++;for(o=ip(f),r>1?(f=new h("0."+n),o++):f=new h(r+"."+n.slice(1)),s=a=f=np(f.minus(zf),f.plus(zf),c),u=cp(f.times(f),c),i=3;;){if(a=cp(a.times(u),c),tp((l=s.plus(np(a,new h(i),c))).d).slice(0,c)===tp(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(op(h,c+2,y).times(o+""))),s=np(s,new h(d),c),h.precision=y,null==t?(Uf=!0,cp(s,y)):s;s=l,i+=2}}function lp(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=Hf(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Uf&&(e.e>Zf||e.e<-Zf))throw Error(qf+n)}else e.s=0,e.e=0,e.d=[0];return e}function cp(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=Gf(10,a-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/Gf(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ip(e),d.length=1,t=t-o-1,d[0]=Gf(10,(7-t%7)%7),e.e=Hf(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=Gf(10,7-r),d[u]=i>0?(c/Gf(10,a-i)%Gf(10,i)|0)*o:0),l)for(;;){if(0==u){(d[0]+=o)==Kf&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=Kf)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(Uf&&(e.e>Zf||e.e<-Zf))throw Error(qf+ip(e));return e}function up(e,t){var n,r,i,o,a,s,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Uf?cp(t,p):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r){for((u=a<0)?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),a>(i=Math.max(Math.ceil(p/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=Kf-1;--l[o],l[i]+=Kf}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,Uf?cp(t,p):t):new f(0)}function dp(e,t,n){var r,i=ip(e),o=tp(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ap(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ap(-i-1)+o,n&&(r=n-a)>0&&(o+=ap(r))):i>=a?(o+=ap(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ap(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ap(r))),e.s<0?"-"+o:o}function fp(e,t){if(e.length>t)return e.length=t,!0}function pp(e){if(!e||"object"!=typeof e)throw Error(Wf+"Object expected");var t,n,r,i=["precision",1,$f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(Hf(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Vf+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Vf+n+": "+r);this[n]=new this(r)}return this}var hp=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Vf+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):lp(t,e.toString())}if("string"!=typeof e)throw Error(Vf+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Yf.test(e))throw Error(Vf+e);lp(t,e)}if(o.prototype=Qf,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=pp,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});zf=new hp(1);const yp=hp;function mp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gp=function(e){return e},bp={},xp=function(e){return e===bp},jp=function(e){return function t(){return 0===arguments.length||1===arguments.length&&xp(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},wp=function e(t,n){return 1===t?n:jp((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==bp})).length;return a>=t?n.apply(void 0,i):e(t-a,jp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return xp(e)?t.shift():e}));return n.apply(void 0,mp(o).concat(t))})))}))},Op=function(e){return wp(e.length,e)},Sp=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_p=Op((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),kp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ap=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};const Pp={rangeStep:function(e,t,n){for(var r=new yp(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new yp(e).abs().log(10).toNumber())+1},interpolateNumber:Op((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:Op((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:Op((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function Cp(e){return function(e){if(Array.isArray(e))return Mp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Tp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Tp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){if(e){if("string"==typeof e)return Mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mp(e,t):void 0}}function Mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Np(e){var t=Ep(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Dp(e,t,n){if(e.lte(0))return new yp(0);var r=Pp.getDigitCount(e.toNumber()),i=new yp(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new yp(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new yp(Math.ceil(s))}function Ip(e,t,n){var r=1,i=new yp(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new yp(10).pow(Pp.getDigitCount(e)-1),i=new yp(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new yp(Math.floor(e)))}else 0===e?i=new yp(Math.floor((t-1)/2)):n||(i=new yp(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return gp;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}}(_p((function(e){return i.add(new yp(e-a).mul(r)).toNumber()})),Sp);return s(0,t)}function Bp(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new yp(0),tickMin:new yp(0),tickMax:new yp(0)};var o,a=Dp(new yp(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new yp(0):(o=new yp(e).add(t).div(2)).sub(new yp(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new yp(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?Bp(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new yp(s).mul(a)),tickMax:o.add(new yp(l).mul(a))})}var Rp=Ap((function(e){var t=Ep(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Ep(Np([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Cp(Sp(0,i-1).map((function(){return 1/0})))):[].concat(Cp(Sp(0,i-1).map((function(){return-1/0}))),[c]);return n>r?kp(u):u}if(l===c)return Ip(l,i,o);var d=Bp(l,c,a,o),f=d.step,p=d.tickMin,h=d.tickMax,y=Pp.rangeStep(p,h.add(new yp(.1).mul(f)),f);return n>r?kp(y):y})),Lp=Ap((function(e,t){var n=Ep(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Ep(Np([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=Dp(new yp(l).sub(s).div(c-1),o,0),d=[].concat(Cp(Pp.rangeStep(new yp(s),new yp(l).sub(new yp(.99).mul(u)),u)),[l]);return r>i?kp(d):d}));function Fp(e,t){throw new Error("Invariant failed")}var zp=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(this,arguments)}function Wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hp(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qp(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gp(e,t,n){return t=Kp(t),function(e,t){if(t&&("object"===$p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yp()?Reflect.construct(t,n||[],Kp(e).constructor):t.apply(e,n))}function Yp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yp=function(){return!!e})()}function Kp(e){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xp(e,t){return(Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zp(e,t,n){return(t=Qp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e){var t=function(e,t){if("object"!=$p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$p(t)?t:t+""}var Jp=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gp(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}(e,Lt.Component),Hp(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=qp(e,zp),u=Zn(c,!1);"x"===this.props.direction&&"number"!==s.type&&Fp();var d=o.map((function(e){var o=a(e,i),c=o.x,d=o.y,f=o.value,p=o.errorVal;if(!p)return null;var h,y,m=[];if(Array.isArray(p)){var v=Wp(p,2);h=v[0],y=v[1]}else h=y=p;if("vertical"===n){var g=s.scale,b=d+t,x=b+r,j=b-r,w=g(f-h),O=g(f+y);m.push({x1:O,y1:x,x2:O,y2:j}),m.push({x1:w,y1:b,x2:O,y2:b}),m.push({x1:w,y1:x,x2:w,y2:j})}else if("horizontal"===n){var S=l.scale,_=c+t,k=_-r,A=_+r,P=S(f-h),C=S(f+y);m.push({x1:k,y1:C,x2:A,y2:C}),m.push({x1:_,y1:P,x2:_,y2:C}),m.push({x1:k,y1:P,x2:A,y2:P})}return Lt.createElement(Sr,Up({className:"recharts-errorBar",key:"bar-".concat(m.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),m.map((function(e){return Lt.createElement("line",Up({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return Lt.createElement(Sr,{className:"recharts-errorBars"},d)}}])}();function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach((function(t){rh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rh(e,t,n){var r;return r=function(e,t){if("object"!=eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Zp(Jp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Zp(Jp,"displayName","ErrorBar");var ih=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=Yn(t,na);if(!o)return null;var a,s=na.defaultProps,l=void 0!==s?nh(nh({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?nh(nh({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:ph(t),value:o||i,payload:r}})),nh(nh(nh({},l),na.getWithHeight(o,r)),{},{payload:a,item:o})};function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ah(e){return function(e){if(Array.isArray(e))return sh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(e,t,n){var r;return r=function(e,t){if("object"!=oh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dh(e,t,n){return ln(e)||ln(t)?n:wn(t)?on(e,t,n):un(t)?t(e):n}function fh(e,t,n,r){var i=Bf(e,(function(e){return dh(e,t)}));if("number"===n){var o=i.filter((function(e){return jn(e)||parseFloat(e)}));return o.length?[Nf(o),Af(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!ln(e)})):i).map((function(e){return wn(e)||e instanceof Date?e:""}))}var ph=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?ch(ch({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},hh=function(e,t,n,r,i){var o=Gn(t.props.children,Jp).filter((function(e){return function(e,t,n){return!!ln(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=dh(t,n);if(ln(r))return e;var i=Array.isArray(r)?[Nf(r),Af(r)]:[r,r],o=a.reduce((function(e,n){var r=dh(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},yh=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&hh(e,t,o,r)||fh(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},mh=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},vh=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},gh=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*bn(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!vn(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},bh=new WeakMap,xh=function(e,t){if("function"!=typeof t)return e;bh.has(e)||bh.set(e,new WeakMap);var n=bh.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},jh=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:cl(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:Mc(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:dl(),realScaleType:"point"}:"category"===i?{scale:cl(),realScaleType:"band"}:{scale:Mc(),realScaleType:"linear"};if(cn(r)){var s="scale".concat(Cr(r));return{scale:(gf[s]||dl)(),realScaleType:gf[s]?s:"point"}}return un(r)?{scale:r}:{scale:dl(),realScaleType:"point"}},wh=1e-4,Oh=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-wh,o=Math.max(r[0],r[1])+wh,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},Sh={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=vn(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Ei(e,t)}},none:Ei,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ei(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[a][1]||0)-(h[a-1][1]||0)}l+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Ei(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=vn(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},_h=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=Sh[n],o=function(){var e=Er([]),t=Ti,n=Ei,r=Mi;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Ni),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=Wr(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Er(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Er(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Ti:"function"==typeof e?e:Er(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Ei:e,i):n},i}().keys(r).value((function(e,t){return+dh(e,t,0)})).order(Ti).offset(i);return o(e)},kh=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=Rp(l,i,a);return e.domain([Nf(c),Af(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:Lp(u,i,a)}}return null};function Ah(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ln(i[t.dataKey])){var s=Pn(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=dh(i,ln(a)?t.dataKey:a);return ln(l)?null:t.scale(l)}var Ph=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=dh(o,t.dataKey,t.domain[a]);return ln(s)?null:t.scale(s)-i/2+r},Ch=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[Nf(t.concat([e[0]]).filter(jn)),Af(t.concat([e[1]]).filter(jn))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Eh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Th=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mh=function(e,t,n){if(un(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(jn(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Eh.test(e[0])){var i=+Eh.exec(e[0])[1];r[0]=t[0]-i}else un(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(jn(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Th.test(e[1])){var o=+Th.exec(e[1])[1];r[1]=t[1]+o}else un(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Nh=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=aa(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Dh=function(e,t,n){return e&&e.length?Ff(e,on(n,"type.defaultProps.domain"))?t:e:t},Ih=function(e,t){var n=e.type.defaultProps?ch(ch({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return ch(ch({},Zn(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:ph(e),value:dh(t,r),type:s,payload:t,chartType:l,hide:c})};function Bh(e){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){Fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fh(e,t,n){var r;return r=function(e,t){if("object"!=Bh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uh=Math.PI/180,Wh=function(e){return 180*e/Math.PI},Vh=function(e,t,n,r){return{x:e+Math.cos(-Uh*r)*n,y:t+Math.sin(-Uh*r)*n}},qh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Hh=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Wh(l),angleInRadian:l}},Gh=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Yh=function(e,t){var n=e.x,r=e.y,i=Hh({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,f=u.endAngle,p=a;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=d}return c?Lh(Lh({},t),{},{radius:o,angle:Gh(p,t)}):null},Kh=function(e){return It.isValidElement(e)||un(e)||"boolean"==typeof e?"":e.className};function Xh(e){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zh=["offset"];function Qh(e){return function(e){if(Array.isArray(e))return Jh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ey(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){ry(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ry(e,t,n){var r;return r=function(e,t){if("object"!=Xh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Xh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Xh(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(this,arguments)}var oy=function(e,t,n){var r,i,o=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+p)/2,g=function(e,t){return bn(t-e)*Math.min(Math.abs(t-e),360)}(h,y),b=g>=0?1:-1;"insideStart"===o?(r=h+b*s,i=m):"insideEnd"===o?(r=y-b*s,i=!m):"end"===o&&(r=y+b*s,i=m),i=g<=0?i:!i;var x=Vh(u,d,v,r),j=Vh(u,d,v,r+359*(i?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),O=ln(e.id)?Sn("recharts-radial-line-"):e.id;return Lt.createElement("text",iy({},n,{dominantBaseline:"central",className:rn("recharts-radial-bar-label",l)}),Lt.createElement("defs",null,Lt.createElement("path",{id:O,d:w})),Lt.createElement("textPath",{xlinkHref:"#".concat(O)},t))};function ay(e){var t,n=e.offset,r=ny({offset:void 0===n?5:n},ey(e,Zh)),i=r.viewBox,o=r.position,a=r.value,s=r.children,l=r.content,c=r.className,u=void 0===c?"":c,d=r.textBreakAll;if(!i||ln(a)&&ln(s)&&!It.isValidElement(l)&&!un(l))return null;if(It.isValidElement(l))return It.cloneElement(l,r);if(un(l)){if(t=It.createElement(l,r),It.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=ln(e.children)?t:e.children;return un(n)?n(r):r}(r);var f=function(e){return"cx"in e&&jn(e.cx)}(i),p=Zn(r,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return oy(r,t,p);var h=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=Vh(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=Vh(o,a,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",p=u>0?"start":"end",h=l>=0?1:-1,y=h*r,m=h>0?"end":"start",v=h>0?"start":"end";if("top"===i)return ny(ny({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return ny(ny({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var g={x:a-y,y:s+c/2,textAnchor:m,verticalAnchor:"middle"};return ny(ny({},g),n?{width:Math.max(g.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+y,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return ny(ny({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?ny({x:a+y,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},x):"insideRight"===i?ny({x:a+l-y,y:s+c/2,textAnchor:m,verticalAnchor:"middle"},x):"insideTop"===i?ny({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===i?ny({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},x):"insideTopLeft"===i?ny({x:a+y,y:s+d,textAnchor:v,verticalAnchor:p},x):"insideTopRight"===i?ny({x:a+l-y,y:s+d,textAnchor:m,verticalAnchor:p},x):"insideBottomLeft"===i?ny({x:a+y,y:s+c-d,textAnchor:v,verticalAnchor:f},x):"insideBottomRight"===i?ny({x:a+l-y,y:s+c-d,textAnchor:m,verticalAnchor:f},x):dn(i)&&(jn(i.x)||xn(i.x))&&(jn(i.y)||xn(i.y))?ny({x:a+_n(i.x,l),y:s+_n(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):ny({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return Lt.createElement(Bs,iy({className:rn("recharts-label",u)},p,h,{breakAll:d}),t)}ay.displayName="Label";var sy,ly,cy=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,p=e.left,h=e.width,y=e.height,m=e.clockWise,v=e.labelViewBox;if(v)return v;if(jn(h)&&jn(y)){if(jn(u)&&jn(d))return{x:u,y:d,width:h,height:y};if(jn(f)&&jn(p))return{x:f,y:p,width:h,height:y}}return jn(u)&&jn(d)?{x:u,y:d,width:0,height:0}:jn(t)&&jn(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:m}:e.viewBox?e.viewBox:{}};ay.parseViewBox=cy,ay.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=cy(e),o=Gn(r,ay).map((function(e,n){return It.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return o;var a=function(e,t){return e?!0===e?Lt.createElement(ay,{key:"label-implicit",viewBox:t}):wn(e)?Lt.createElement(ay,{key:"label-implicit",viewBox:t,value:e}):It.isValidElement(e)?e.type===ay?It.cloneElement(e,{key:"label-implicit",viewBox:t}):Lt.createElement(ay,{key:"label-implicit",content:e,viewBox:t}):un(e)?Lt.createElement(ay,{key:"label-implicit",content:e,viewBox:t}):dn(e)?Lt.createElement(ay,iy({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(Qh(o))};const uy=Rt(ly?sy:(ly=1,sy=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function dy(e){return(dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fy=["valueAccessor"],py=["data","dataKey","clockWise","id","textBreakAll"];function hy(e){return function(e){if(Array.isArray(e))return yy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}function vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vy(Object(n),!0).forEach((function(t){by(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function by(e,t,n){var r;return r=function(e,t){if("object"!=dy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==dy(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jy=function(e){return Array.isArray(e.value)?uy(e.value):e.value};function wy(e){var t=e.valueAccessor,n=void 0===t?jy:t,r=xy(e,fy),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=xy(r,py);return i&&i.length?Lt.createElement(Sr,{className:"recharts-label-list"},i.map((function(e,t){var r=ln(o)?n(e,t):dh(e&&e.payload,o),i=ln(s)?{}:{id:"".concat(s,"-").concat(t)};return Lt.createElement(ay,my({},Zn(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:ay.parseViewBox(ln(a)?e:gy(gy({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))}))):null}function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(this,arguments)}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach((function(t){Ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ay(e,t,n){var r;return r=function(e,t){if("object"!=Oy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Oy(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wy.displayName="LabelList",wy.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=Gn(e.children,wy).map((function(e,n){return It.cloneElement(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?Lt.createElement(wy,{key:"labelList-implicit",data:t}):Lt.isValidElement(e)||un(e)?Lt.createElement(wy,{key:"labelList-implicit",data:t,content:e}):dn(e)?Lt.createElement(wy,my({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(hy(r)):r};var Py=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Uh,d=l?i:i+o*u,f=l?i-o*u:i;return{center:Vh(t,n,c,d),circleTangency:Vh(t,n,r,d),lineTangency:Vh(t,n,c*Math.cos(u*Uh),f),theta:u}},Cy=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return bn(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=Vh(t,n,i,o),c=Vh(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Vh(t,n,r,o),f=Vh(t,n,r,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Ey={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ty=function(e){var t=ky(ky({},Ey),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(o<i||c===u)return null;var f,p=rn("recharts-sector",d),h=o-i,y=_n(a,h,0,!0);return f=y>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=bn(c-l),d=Py({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),f=d.circleTangency,p=d.lineTangency,h=d.theta,y=Py({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),m=y.circleTangency,v=y.lineTangency,g=y.theta,b=s?Math.abs(l-c):Math.abs(l-c)-h-g;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Cy({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var j=Py({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=j.circleTangency,O=j.lineTangency,S=j.theta,_=Py({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),k=_.circleTangency,A=_.lineTangency,P=_.theta,C=s?Math.abs(l-c):Math.abs(l-c)-S-P;if(C<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(A.x,",").concat(A.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):Cy({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),Lt.createElement("path",Sy({},Zn(t,!0),{className:p,d:f,role:"img"}))};function My(e){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach((function(t){By(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function By(e,t,n){var r;return r=function(e,t){if("object"!=My(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=My(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==My(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ry,Ly,Fy,zy,$y,Uy={curveBasisClosed:function(e){return new vi(e)},curveBasisOpen:function(e){return new gi(e)},curveBasis:function(e){return new mi(e)},curveBumpX:function(e){return new Xr(e,!0)},curveBumpY:function(e){return new Xr(e,!1)},curveLinearClosed:function(e){return new bi(e)},curveLinear:qr,curveMonotoneX:function(e){return new Si(e)},curveMonotoneY:function(e){return new _i(e)},curveNatural:function(e){return new Ai(e)},curveStep:function(e){return new Ci(e,.5)},curveStepAfter:function(e){return new Ci(e,1)},curveStepBefore:function(e){return new Ci(e,0)}},Wy=function(e){return e.x===+e.x&&e.y===+e.y},Vy=function(e){return e.x},qy=function(e){return e.y},Hy=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(un(e))return e;var n="curve".concat(Cr(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Uy[n]||qr:Uy["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return Wy(e)})):o;if(Array.isArray(a)){var f=c?a.filter((function(e){return Wy(e)})):a,p=d.map((function(e,t){return Iy(Iy({},e),{},{base:f[t]})}));return(t="vertical"===s?Kr().y(qy).x1(Vy).x0((function(e){return e.base.x})):Kr().x(Vy).y1(qy).y0((function(e){return e.base.y}))).defined(Wy).curve(u),t(p)}return(t="vertical"===s&&jn(a)?Kr().y(qy).x1(Vy).x0(a):jn(a)?Kr().x(Vy).y1(qy).y0(a):Yr().x(Vy).y(qy)).defined(Wy).curve(u),t(d)},Gy=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?Hy(e):r;return Lt.createElement("path",Ny({},Zn(e,!1),Bn(e),{className:rn("recharts-curve",t),d:o,ref:i}))},Yy={exports:{}};function Ky(){if(Ly)return Ry;Ly=1;return Ry="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function Xy(){if(zy)return Fy;zy=1;var e=Ky();function t(){}function n(){}return n.resetWarningCache=t,Fy=function(){function r(t,n,r,i,o,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function Zy(){return $y||($y=1,Yy.exports=Xy()()),Yy.exports}const Qy=Rt(Zy());var Jy=Object.getOwnPropertyNames,em=Object.getOwnPropertySymbols,tm=Object.prototype.hasOwnProperty;function nm(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function rm(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function im(e){return Jy(e).concat(em(e))}var om=Object.hasOwn||function(e,t){return tm.call(e,t)};function am(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var sm=Object.getOwnPropertyDescriptor,lm=Object.keys;function cm(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function um(e,t){return am(e.getTime(),t.getTime())}function dm(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function fm(e,t){return e===t}function pm(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var f=i.value,p=o.value;if(n.equals(f[0],p[0],l,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var hm=am;function ym(e,t,n){var r=lm(e),i=r.length;if(lm(t).length!==i)return!1;for(;i-- >0;)if(!wm(e,t,n,r[i]))return!1;return!0}function mm(e,t,n){var r,i,o,a=im(e),s=a.length;if(im(t).length!==s)return!1;for(;s-- >0;){if(!wm(e,t,n,r=a[s]))return!1;if(i=sm(e,r),o=sm(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function vm(e,t){return am(e.valueOf(),t.valueOf())}function gm(e,t){return e.source===t.source&&e.flags===t.flags}function bm(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function xm(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function jm(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wm(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||om(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Om=Array.isArray,Sm="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,_m=Object.assign,km=Object.prototype.toString.call.bind(Object.prototype.toString);var Am=Pm();function Pm(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?mm:cm,areDatesEqual:um,areErrorsEqual:dm,areFunctionsEqual:fm,areMapsEqual:r?nm(pm,mm):pm,areNumbersEqual:hm,areObjectsEqual:r?mm:ym,arePrimitiveWrappersEqual:vm,areRegExpsEqual:gm,areSetsEqual:r?nm(bm,mm):bm,areTypedArraysEqual:r?mm:xm,areUrlsEqual:jm};if(n&&(i=_m({},i,n(i))),t){var o=rm(i.areArraysEqual),a=rm(i.areMapsEqual),s=rm(i.areObjectsEqual),l=rm(i.areSetsEqual);i=_m({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var y=typeof e;if(y!==typeof p)return!1;if("object"!==y)return"number"===y?a(e,p,h):"function"===y&&i(e,p,h);var m=e.constructor;if(m!==p.constructor)return!1;if(m===Object)return s(e,p,h);if(Om(e))return t(e,p,h);if(null!=Sm&&Sm(e))return d(e,p,h);if(m===Date)return n(e,p,h);if(m===RegExp)return c(e,p,h);if(m===Map)return o(e,p,h);if(m===Set)return u(e,p,h);var v=km(e);return"[object Date]"===v?n(e,p,h):"[object RegExp]"===v?c(e,p,h):"[object Map]"===v?o(e,p,h):"[object Set]"===v?u(e,p,h):"[object Object]"===v?"function"!=typeof e.then&&"function"!=typeof p.then&&s(e,p,h):"[object URL]"===v?f(e,p,h):"[object Error]"===v?r(e,p,h):"[object Arguments]"===v?s(e,p,h):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,p,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)}),strict:s})}function Cm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Em(e){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tm(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nm(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Tm(r),o=i[0],a=i.slice(1);return"number"==typeof o?void Cm(n.bind(null,a),o):(n(o),void Cm(n.bind(null,a)))}"object"===Em(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Dm(e){return(Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Dm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==Dm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pm({strict:!0}),Pm({circular:!0}),Pm({circular:!0,strict:!0}),Pm({createInternalComparator:function(){return am}}),Pm({strict:!0,createInternalComparator:function(){return am}}),Pm({circular:!0,createInternalComparator:function(){return am}}),Pm({circular:!0,createInternalComparator:function(){return am},strict:!0});var Lm=function(e){return e},Fm=function(e,t){return Object.keys(t).reduce((function(n,r){return Bm(Bm({},n),{},Rm({},r,e(r,t[r])))}),{})},zm=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function $m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Wm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Um(e){return function(e){if(Array.isArray(e))return Vm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wm(e,t){if(e){if("string"==typeof e)return Vm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vm(e,t):void 0}}function Vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qm=1e-4,Hm=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Gm=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Ym=function(e,t){return function(n){var r=Hm(e,t);return Gm(r,n)}},Km=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=$m(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}var c,u,d=Ym(r,o),f=Ym(i,a),p=(c=r,u=o,function(e){var t=Hm(c,u),n=[].concat(Um(t.map((function(e,t){return e*t})).slice(1)),[0]);return Gm(n,e)}),h=function(e){for(var t,n=e>1?1:e,r=n,i=0;i<8;++i){var o=d(r)-n,a=p(r);if(Math.abs(o-n)<qm||a<qm)return f(r);r=(t=r-o/a)>1?1:t<0?0:t}return f(r)};return h.isStepper=!1,h},Xm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Km(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<qm&&Math.abs(o)<qm?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return Km(r)}return"function"==typeof r?r:null};function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qm(e){return function(e){if(Array.isArray(e))return iv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(n),!0).forEach((function(t){tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Zm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==Zm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||rv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){if(e){if("string"==typeof e)return iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iv(e,t):void 0}}function iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ov=function(e,t,n){return e+(t-e)*n},av=function(e){return e.from!==e.to},sv=function e(t,n,r){var i=Fm((function(e,n){if(av(n)){var r=nv(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return ev(ev({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Fm((function(e,t){return av(t)?ev(ev({},t),{},{velocity:ov(t.velocity,i[e].velocity,r),from:ov(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const lv=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return ev(ev({},n),{},tv({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return ev(ev({},n),{},tv({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),f=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=sv(n,d,o),i(ev(ev(ev({},e),t),Fm((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(av).length&&(f=requestAnimationFrame(p))}:function(o){l||(l=o);var a=(o-l)/r,s=Fm((function(e,t){return ov.apply(void 0,Qm(t).concat([n(a)]))}),u);if(i(ev(ev(ev({},e),t),s)),a<1)f=requestAnimationFrame(p);else{var c=Fm((function(e,t){return ov.apply(void 0,Qm(t).concat([n(1)]))}),u);i(ev(ev(ev({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function cv(e){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uv=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fv(e){return function(e){if(Array.isArray(e))return pv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(n),!0).forEach((function(t){mv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mv(e,t,n){return(t=gv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vv(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gv(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gv(e){var t=function(e,t){if("object"!==cv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cv(t)?t:String(t)}function bv(e,t){return(bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ov(e);if(t){var i=Ov(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jv(this,n)}}function jv(e,t){if(t&&("object"===cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wv(e)}function wv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ov(e){return(Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sv=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}(t,It.PureComponent);var e=xv(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,n,r)).props,a=o.isActive,s=o.attributeName,l=o.from,c=o.to,u=o.steps,d=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(wv(i)),i.changeStyle=i.changeStyle.bind(wv(i)),!a||f<=0)return i.state={style:{}},"function"==typeof d&&(i.state={style:c}),jv(i);if(u&&u.length)i.state={style:u[0].style};else if(l){if("function"==typeof d)return i.state={style:l},jv(i);i.state={style:s?mv({},s,l):l}}else i.state={style:{}};return i}return vv(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(Am(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?mv({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(yv(yv({},this.props),{},{from:u,begin:0}))}}else{var f={style:i?mv({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=lv(n,r,Xm(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(fv(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,f=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(fv(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var p=zm(f,o,s),h=yv(yv(yv({},d.style),l),{},{transition:p});return[].concat(fv(e),[h,o,u]).filter(Lm)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Nm());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?mv({},r,i):i,f=zm(Object.keys(d),n,o);u.start([a,t,yv(yv({},d),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=dv(e,uv),o=It.Children.count(t),a=this.state.style;if("function"==typeof t)return t(a);if(!r||0===o||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return It.cloneElement(e,yv(yv({},i),{},{style:yv(yv({},r),a),className:o}))};return 1===o?s(It.Children.only(t)):Lt.createElement("div",null,It.Children.map(t,(function(e){return s(e)})))}}]),t}();function _v(e){return(_v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function Av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){Tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tv(e,t,n){var r;return r=function(e,t){if("object"!=_v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_v(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sv.displayName="Animate",Sv.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Sv.propTypes={from:Qy.oneOfType([Qy.object,Qy.string]),to:Qy.oneOfType([Qy.object,Qy.string]),attributeName:Qy.string,duration:Qy.number,begin:Qy.number,easing:Qy.oneOfType([Qy.string,Qy.func]),steps:Qy.arrayOf(Qy.shape({duration:Qy.number.isRequired,style:Qy.object.isRequired,easing:Qy.oneOfType([Qy.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qy.func]),properties:Qy.arrayOf("string"),onAnimationEnd:Qy.func})),children:Qy.oneOfType([Qy.node,Qy.func]),isActive:Qy.bool,canBegin:Qy.bool,onAnimationEnd:Qy.func,shouldReAnimate:Qy.bool,onAnimationStart:Qy.func,onAnimationReStart:Qy.func};var Mv=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var f=Math.min(a,i);o="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*f," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},Nv=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Dv={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iv=function(e){var t=Ev(Ev({},Dv),e),n=It.useRef(),r=Av(It.useState(-1),2),i=r[0],o=r[1];It.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,s=t.y,l=t.width,c=t.height,u=t.radius,d=t.className,f=t.animationEasing,p=t.animationDuration,h=t.animationBegin,y=t.isAnimationActive,m=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var v=rn("recharts-rectangle",d);return m?Lt.createElement(Sv,{canBegin:i>0,from:{width:l,height:c,x:a,y:s},to:{width:l,height:c,x:a,y:s},duration:p,animationEasing:f,isActive:m},(function(e){var r=e.width,o=e.height,a=e.x,s=e.y;return Lt.createElement(Sv,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:y,easing:f},Lt.createElement("path",kv({},Zn(t,!0),{className:v,d:Mv(a,s,r,o,u),ref:n})))})):Lt.createElement("path",kv({},Zn(t,!0),{className:v,d:Mv(a,s,l,c,u)}))},Bv=["points","className","baseLinePoints","connectNulls"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(this,arguments)}function Lv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fv(e){return function(e){if(Array.isArray(e))return zv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $v=function(e){return e&&e.x===+e.x&&e.y===+e.y},Uv=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){$v(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),$v(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(Fv(e),Fv(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},Wv=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,o=Lv(e,Bv);if(!t||!t.length)return null;var a=rn("recharts-polygon",n);if(r&&r.length){var s=o.stroke&&"none"!==o.stroke,l=function(e,t,n){var r=Uv(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(Uv(t.reverse(),n).slice(1))}(t,r,i);return Lt.createElement("g",{className:a},Lt.createElement("path",Rv({},Zn(o,!0),{fill:"Z"===l.slice(-1)?o.fill:"none",stroke:"none",d:l})),s?Lt.createElement("path",Rv({},Zn(o,!0),{fill:"none",d:Uv(t,i)})):null,s?Lt.createElement("path",Rv({},Zn(o,!0),{fill:"none",d:Uv(r,i)})):null)}var c=Uv(t,i);return Lt.createElement("path",Rv({},Zn(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",className:a,d:c}))};function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(this,arguments)}var qv=function(e){var t=e.cx,n=e.cy,r=e.r,i=rn("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?Lt.createElement("circle",Vv({},Zn(e,!1),Bn(e),{className:i,cx:t,cy:n,r:r})):null};function Hv(e){return(Hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Gv=["x","y","top","left","width","height","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(this,arguments)}function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e,t,n){var r;return r=function(e,t){if("object"!=Hv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Hv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hv(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Qv,Jv,eg=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},tg=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,s=e.left,l=void 0===s?0:s,c=e.width,u=void 0===c?0:c,d=e.height,f=void 0===d?0:d,p=e.className,h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(n),!0).forEach((function(t){Xv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:a,left:l,width:u,height:f},Zv(e,Gv));return jn(n)&&jn(i)&&jn(u)&&jn(f)&&jn(a)&&jn(l)?Lt.createElement("path",Yv({},Zn(h,!0),{className:rn("recharts-cross",p),d:eg(n,i,u,f,a,l)})):null};const ng=Rt(function(){if(Jv)return Qv;Jv=1;var e=_f(),t=kf(),n=g();return Qv=function(r,i){return r&&r.length?e(r,n(i,2),t):void 0}}());var rg,ig;const og=Rt(function(){if(ig)return rg;ig=1;var e=_f(),t=g(),n=Mf();return rg=function(r,i){return r&&r.length?e(r,t(i,2),n):void 0}}());var ag=["cx","cy","angle","ticks","axisLine"],sg=["ticks","tick","angle","tickFormatter","stroke"];function lg(e){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cg.apply(this,arguments)}function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(n),!0).forEach((function(t){gg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bg(r.key),r)}}function hg(e,t,n){return t=mg(t),function(e,t){if(t&&("object"===lg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yg()?Reflect.construct(t,n||[],mg(e).constructor):t.apply(e,n))}function yg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yg=function(){return!!e})()}function mg(e){return(mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vg(e,t){return(vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gg(e,t,n){return(t=bg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bg(e){var t=function(e,t){if("object"!=lg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lg(t)?t:t+""}var xg=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hg(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement(Bs,cg({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return Vh(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=ng(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:og(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=e.axisLine,a=fg(e,ag),s=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),l=Vh(t,n,s[0],r),c=Vh(t,n,s[1],r),u=dg(dg(dg({},Zn(a,!1)),{},{fill:"none"},Zn(o,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return Lt.createElement("line",cg({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.angle,a=n.tickFormatter,s=n.stroke,l=fg(n,sg),c=this.getTickTextAnchor(),u=Zn(l,!1),d=Zn(i,!1),f=r.map((function(n,r){var l=t.getTickValueCoord(n),f=dg(dg(dg(dg({textAnchor:c,transform:"rotate(".concat(90-o,", ").concat(l.x,", ").concat(l.y,")")},u),{},{stroke:"none",fill:s},d),{},{index:r},l),{},{payload:n});return Lt.createElement(Sr,cg({className:rn("recharts-polar-radius-axis-tick",Kh(i)),key:"tick-".concat(n.coordinate)},Rn(t.props,n,r)),e.renderTickItem(i,f,a?a(n.value,r):n.value))}));return Lt.createElement(Sr,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?Lt.createElement(Sr,{className:rn("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),ay.renderCallByParent(this.props,this.getViewBox())):null}}])&&pg(t.prototype,n),r&&pg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function jg(e){return(jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function Og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Og(Object(n),!0).forEach((function(t){Eg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tg(r.key),r)}}function kg(e,t,n){return t=Pg(t),function(e,t){if(t&&("object"===jg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ag()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function Ag(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ag=function(){return!!e})()}function Pg(e){return(Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cg(e,t){return(Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Eg(e,t,n){return(t=Tg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tg(e){var t=function(e,t){if("object"!=jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jg(t)?t:t+""}gg(xg,"displayName","PolarRadiusAxis"),gg(xg,"axisType","radiusAxis"),gg(xg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Mg=Math.PI/180,Ng=1e-5,Dg=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kg(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement(Bs,wg({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=Vh(n,r,i,e.coordinate),l=Vh(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*Mg);return n>Ng?"outer"===t?"start":"end":n<-Ng?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,o=e.axisLineType,a=Sg(Sg({},Zn(this.props,!1)),{},{fill:"none"},Zn(i,!1));if("circle"===o)return Lt.createElement(qv,wg({className:"recharts-polar-angle-axis-line"},a,{cx:t,cy:n,r:r}));var s=this.props.ticks.map((function(e){return Vh(t,n,r,e.coordinate)}));return Lt.createElement(Wv,wg({className:"recharts-polar-angle-axis-line"},a,{points:s}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,o=n.tickLine,a=n.tickFormatter,s=n.stroke,l=Zn(this.props,!1),c=Zn(i,!1),u=Sg(Sg({},l),{},{fill:"none"},Zn(o,!1)),d=r.map((function(n,r){var d=t.getTickLineCoord(n),f=Sg(Sg(Sg({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:s},c),{},{index:r,payload:n,x:d.x2,y:d.y2});return Lt.createElement(Sr,wg({className:rn("recharts-polar-angle-axis-tick",Kh(i)),key:"tick-".concat(n.coordinate)},Rn(t.props,n,r)),o&&Lt.createElement("line",wg({className:"recharts-polar-angle-axis-tick-line"},u,d)),i&&e.renderTickItem(i,f,a?a(n.value,r):n.value))}));return Lt.createElement(Sr,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:Lt.createElement(Sr,{className:rn("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&_g(t.prototype,n),r&&_g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Eg(Dg,"displayName","PolarAngleAxis"),Eg(Dg,"axisType","angleAxis"),Eg(Dg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const Ig=Rt(D());var Bg,Rg;const Lg=Rt(function(){if(Rg)return Bg;Rg=1;var e=u(),t=d();return Bg=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function Fg(e){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function $g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(n),!0).forEach((function(t){qg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qg(e,t,n){var r;return r=function(e,t){if("object"!=Fg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fg(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hg,Gg=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Yg={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kg=function(e){var t=Vg(Vg({},Yg),e),n=It.useRef(),r=$g(It.useState(-1),2),i=r[0],o=r[1];It.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,s=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,f=t.animationEasing,p=t.animationDuration,h=t.animationBegin,y=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var m=rn("recharts-trapezoid",d);return y?Lt.createElement(Sv,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:a,y:s},duration:p,animationEasing:f,isActive:y},(function(e){var r=e.upperWidth,o=e.lowerWidth,a=e.height,s=e.x,l=e.y;return Lt.createElement(Sv,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:f},Lt.createElement("path",zg({},Zn(t,!0),{className:m,d:Gg(s,l,r,o,a),ref:n})))})):Lt.createElement("g",null,Lt.createElement("path",zg({},Zn(t,!0),{className:m,d:Gg(a,s,l,c,u)})))},Xg=["option","shapeType","propTransformer","activeClassName","isActive"];function Zg(e){return(Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach((function(t){tb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tb(e,t,n){var r;return r=function(e,t){if("object"!=Zg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Zg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zg(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){return eb(eb({},t),e)}function rb(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Lt.createElement(Iv,n);case"trapezoid":return Lt.createElement(Kg,n);case"sector":return Lt.createElement(Ty,n);case"symbols":if(function(e){return"symbols"===e}(t))return Lt.createElement(Wi,n);break;default:return null}}function ib(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?nb:i,a=e.activeClassName,s=void 0===a?"recharts-active-shape":a,l=e.isActive,c=Qg(e,Xg);if(It.isValidElement(n))t=It.cloneElement(n,eb(eb({},c),function(e){return It.isValidElement(e)?e.props:e}(n)));else if(un(n))t=n(c);else if(Ig(n)&&!Lg(n)){var u=o(n,c);t=Lt.createElement(rb,{shapeType:r,elementProps:u})}else{var d=c;t=Lt.createElement(rb,{shapeType:r,elementProps:d})}return l?Lt.createElement(Sr,{className:s},t):t}function ob(e,t){return null!=t&&"trapezoids"in e.props}function ab(e,t){return null!=t&&"sectors"in e.props}function sb(e,t){return null!=t&&"points"in e.props}function lb(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function cb(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function ub(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function db(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return ob(e,t)?n="trapezoids":ab(e,t)?n="sectors":sb(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return ob(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ab(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:sb(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=Ff(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return ob(e,t)?n=lb:ab(e,t)?n=cb:sb(e,t)&&(n=ub),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}function fb(e){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hb(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wb(r.key),r)}}function vb(e,t,n){return t=bb(t),function(e,t){if(t&&("object"===fb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gb()?Reflect.construct(t,n||[],bb(e).constructor):t.apply(e,n))}function gb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gb=function(){return!!e})()}function bb(e){return(bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xb(e,t){return(xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jb(e,t,n){return(t=wb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wb(e){var t=function(e,t){if("object"!=fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==fb(t)?t:t+""}var Ob,Sb,_b,kb,Ab,Pb,Cb,Eb,Tb=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jb(n=vb(this,e,[t]),"pieRef",null),jb(n,"sectorRefs",[]),jb(n,"id",Sn("recharts-pie-")),jb(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),un(e)&&e()})),jb(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),un(e)&&e()})),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(Lt.isValidElement(e))return Lt.cloneElement(e,t);if(un(e))return e(t);var r=rn("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return Lt.createElement(Gy,pb({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(Lt.isValidElement(e))return Lt.cloneElement(e,t);var r=n;if(un(e)&&(r=e(t),Lt.isValidElement(r)))return r;var i=rn("recharts-pie-label-text","boolean"==typeof e||un(e)?"":e.className);return Lt.createElement(Bs,pb({},t,{alignmentBaseline:"middle",className:i}),r)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,o=n.dataKey,a=n.valueKey,s=Zn(this.props,!1),l=Zn(r,!1),c=Zn(i,!1),u=r&&r.offsetRadius||20,d=t.map((function(t,n){var d=(t.startAngle+t.endAngle)/2,f=Vh(t.cx,t.cy,t.outerRadius+u,d),p=yb(yb(yb(yb({},s),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(f.x,t.cx)},f),h=yb(yb(yb(yb({},s),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[Vh(t.cx,t.cy,t.outerRadius,d),f]}),y=o;return ln(o)&&ln(a)?y="value":ln(o)&&(y=a),Lt.createElement(Sr,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},i&&e.renderLabelLineItem(i,h,"line"),e.renderLabelItem(r,p,dh(t,y)))}));return Lt.createElement(Sr,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map((function(n,a){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(a),l=o&&t.hasActiveIndex()?o:null,c=s?r:l,u=yb(yb({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return Lt.createElement(Sr,pb({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Rn(t.props,n,a),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(a)}),Lt.createElement(ib,pb({option:c,isActive:s,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,a=t.animationEasing,s=t.animationId,l=this.state,c=l.prevSectors,u=l.prevIsAnimationActive;return Lt.createElement(Sv,{begin:i,duration:o,isActive:r,easing:a,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,i=[],o=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=c&&c[t],a=t>0?on(e,"paddingAngle",0):0;if(n){var s=An(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=yb(yb({},e),{},{startAngle:o+a,endAngle:o+s(r)+a});i.push(l),o=l.endAngle}else{var u=e.endAngle,d=e.startAngle,f=An(0,u-d)(r),p=yb(yb({},e),{},{startAngle:o+a,endAngle:o+f+a});i.push(p),o=p.endAngle}})),Lt.createElement(Sr,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&Ff(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,o=t.label,a=t.cx,s=t.cy,l=t.innerRadius,c=t.outerRadius,u=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!jn(a)||!jn(s)||!jn(l)||!jn(c))return null;var f=rn("recharts-pie",i);return Lt.createElement(Sr,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(r),ay.renderCallByParent(this.props,null,!1),(!u||d)&&wy.renderCallByParent(this.props,r,!1))}}])&&mb(t.prototype,n),r&&mb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Mb(){if(kb)return _b;kb=1;var e=I(),t=1/0;return _b=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function Nb(){if(Pb)return Ab;Pb=1;var e=function(){if(Sb)return Ob;Sb=1;var e=Math.ceil,t=Math.max;return Ob=function(n,r,i,o){for(var a=-1,s=t(e((r-n)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=n,n+=i;return l}}(),t=E(),n=Mb();return Ab=function(r){return function(i,o,a){return a&&"number"!=typeof a&&t(i,o,a)&&(o=a=void 0),i=n(i),void 0===o?(o=i,i=0):o=n(o),a=void 0===a?i<o?1:-1:n(a),e(i,o,a,r)}}}Hg=Tb,jb(Tb,"displayName","Pie"),jb(Tb,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Na,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),jb(Tb,"parseDeltaAngle",(function(e,t){return bn(t-e)*Math.min(Math.abs(t-e),360)})),jb(Tb,"getRealPieData",(function(e){var t=e.data,n=e.children,r=Zn(e,!1),i=Gn(n,Ja);return t&&t.length?t.map((function(e,t){return yb(yb(yb({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return yb(yb({},r),e.props)})):[]})),jb(Tb,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=qh(i,o);return{cx:r+_n(e.cx,i,i/2),cy:n+_n(e.cy,o,o/2),innerRadius:_n(e.innerRadius,a,0),outerRadius:_n(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}})),jb(Tb,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?yb(yb({},t.type.defaultProps),t.props):t.props,i=Hg.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),h=Hg.parseCoordinateOfPie(r,n),y=Hg.parseDeltaAngle(a,s),m=Math.abs(y),v=c;ln(c)&&ln(d)?(_r(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):ln(c)&&(_r(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=d);var g,b,x=i.filter((function(e){return 0!==dh(e,v,0)})).length,j=m-x*p-(m>=360?x:x-1)*l,w=i.reduce((function(e,t){var n=dh(t,v,0);return e+(jn(n)?n:0)}),0);w>0&&(g=i.map((function(e,t){var n,r=dh(e,v,0),i=dh(e,u,t),s=(jn(r)?r:0)/w,c=(n=t?b.endAngle+bn(y)*l*(0!==r?1:0):a)+bn(y)*((0!==r?p:0)+s*j),d=(n+c)/2,m=(h.innerRadius+h.outerRadius)/2,g=[{name:i,value:r,payload:e,dataKey:v,type:f}],x=Vh(h.cx,h.cy,m,d);return b=yb(yb(yb({percent:s,cornerRadius:o,name:i,tooltipPayload:g,midAngle:d,middleRadius:m,tooltipPosition:x},e),h),{},{value:dh(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:bn(y)*l})})));return yb(yb({},h),{},{sectors:g,data:i})}));const Db=Rt(function(){if(Eb)return Cb;Eb=1;var e=Nb()();return Cb=e}());function Ib(e){return(Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){Lb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lb(e,t,n){var r;return r=function(e,t){if("object"!=Ib(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ib(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fb=["Webkit","Moz","O","ms"];function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(this,arguments)}function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(n),!0).forEach((function(t){Kb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xb(r.key),r)}}function qb(e,t,n){return t=Gb(t),function(e,t){if(t&&("object"===zb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hb()?Reflect.construct(t,n||[],Gb(e).constructor):t.apply(e,n))}function Hb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hb=function(){return!!e})()}function Gb(e){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yb(e,t){return(Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kb(e,t,n){return(t=Xb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xb(e){var t=function(e,t){if("object"!=zb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zb(t)?t:t+""}var Zb,Qb,Jb,ex,tx=function(e){return e.changedTouches&&!!e.changedTouches.length},nx=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kb(n=qb(this,e,[t]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),Kb(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),Kb(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),Kb(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),Kb(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),Kb(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),Kb(n,"handleSlideDragStart",(function(e){var t=tx(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}(e,It.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return Lt.createElement(Lt.Fragment,null,Lt.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),Lt.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),Lt.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return Lt.isValidElement(t)?Lt.cloneElement(t,n):un(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Wb({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=dl().domain(Db(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),d=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=dh(n[e],i,e);return un(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,f=e.pageX-n;f>0?f=Math.min(f,a+s-l-i,a+s-l-r):f<0&&(f=Math.max(f,a-r,a-i));var p=this.getIndex({startX:r+f,endX:i+f});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:r+f,endX:i+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=tx(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},y=e.pageX-n;y>0?y=Math.min(y,l+c-u-a):y<0&&(y=Math.max(y,l-a)),h[r]=a+y;var m=this.getIndex(h),v=m.startIndex,g=m.endIndex;this.setState(Kb(Kb({},r,a+y),"brushMoveStartX",e.pageX),(function(){var e;d&&(e=p.length-1,("startX"===r&&(i>o?v%f===0:g%f===0)||i<o&&g===e||"endX"===r&&(i>o?g%f===0:v%f===0)||i>o&&g===e)&&d(m))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(Kb({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return Lt.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,a=e.children,s=e.padding,l=It.Children.only(a);return l?Lt.cloneElement(l,{x:t,y:n,width:r,height:i,margin:s,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,s=a.y,l=a.travellerWidth,c=a.height,u=a.traveller,d=a.ariaLabel,f=a.data,p=a.startIndex,h=a.endIndex,y=Math.max(t,this.props.x),m=Wb(Wb({},Zn(this.props,!1)),{},{x:y,y:s,width:l,height:c}),v=d||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=f[h])||void 0===i?void 0:i.name);return Lt.createElement(Sr,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,m))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,l=Math.max(Math.abs(t-e)-a,0);return Lt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,s=this.state,l=s.startX,c=s.endX,u={pointerEvents:"none",fill:a};return Lt.createElement(Sr,{className:"recharts-brush-texts"},Lt.createElement(Bs,$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},u),this.getTextOfTick(t)),Lt.createElement(Bs,$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+o+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,s=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,f=c.isTextActive,p=c.isSlideMoving,h=c.isTravellerMoving,y=c.isTravellerFocused;if(!t||!t.length||!jn(i)||!jn(o)||!jn(a)||!jn(s)||a<=0||s<=0)return null;var m,v,g,b,x=rn("recharts-brush",n),j=1===Lt.Children.count(r),w=(v="none",g=(m="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(b=Fb.reduce((function(e,t){return Rb(Rb({},e),{},Lb({},t+g,v))}),{}))[m]=v,b);return Lt.createElement(Sr,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||h||y||l)&&this.renderText())}}])&&Vb(t.prototype,n),r&&Vb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Kb(nx,"displayName","Brush"),Kb(nx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const rx=Rt(function(){if(ex)return Jb;ex=1;var e=R(),t=g(),n=function(){if(Qb)return Zb;Qb=1;var e=B();return Zb=function(t,n){var r;return e(t,(function(e,t,i){return!(r=n(e,t,i))})),!!r}}(),r=j(),i=E();return Jb=function(o,a,s){var l=r(o)?e:n;return s&&i(o,a,s)&&(a=void 0),l(o,t(a,3))}}());var ix,ox,ax=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const sx=Rt(function(){if(ox)return ix;ox=1;var e=L(),t=F(),n=g();return ix=function(r,i){var o={};return i=n(i,3),t(r,(function(t,n,r){e(o,n,i(t,n,r))})),o}}());var lx,cx,ux,dx,fx,px;const hx=Rt(function(){if(px)return fx;px=1;var e=cx?lx:(cx=1,lx=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(dx)return ux;dx=1;var e=B();return ux=function(t,n){var r=!0;return e(t,(function(e,t,i){return r=!!n(e,t,i)})),r}}(),n=g(),r=j(),i=E();return fx=function(o,a,s){var l=r(o)?e:t;return s&&i(o,a,s)&&(a=void 0),l(o,n(a,3))}}());var yx=["x","y"];function mx(e){return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(this,arguments)}function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gx(Object(n),!0).forEach((function(t){xx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xx(e,t,n){var r;return r=function(e,t){if("object"!=mx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=mx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mx(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wx(e,t){var n=e.x,r=e.y,i=jx(e,yx),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return bx(bx(bx(bx(bx({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Ox(e){return Lt.createElement(ib,vx({shapeType:"rectangle",propTransformer:wx,activeClassName:"recharts-active-bar"},e))}var Sx,_x=["value","background"];function kx(e){return(kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ax(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(this,arguments)}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(n),!0).forEach((function(t){Bx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rx(r.key),r)}}function Mx(e,t,n){return t=Dx(t),function(e,t){if(t&&("object"===kx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nx()?Reflect.construct(t,n||[],Dx(e).constructor):t.apply(e,n))}function Nx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nx=function(){return!!e})()}function Dx(e){return(Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ix(e,t){return(Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bx(e,t,n){return(t=Rx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rx(e){var t=function(e,t){if("object"!=kx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=kx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==kx(t)?t:t+""}var Lx=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Bx(t=Mx(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),Bx(t,"id",Sn("recharts-bar-")),Bx(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),Bx(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ix(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,s=Zn(this.props,!1);return e&&e.map((function(e,n){var l=n===o,c=l?a:r,u=Ex(Ex(Ex({},s),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return Lt.createElement(Sr,Px({className:"recharts-bar-rectangle"},Rn(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),Lt.createElement(Ox,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return Lt.createElement(Sv,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,o=n.map((function(e,t){var n=c&&c[t];if(n){var o=An(n.x,e.x),a=An(n.y,e.y),s=An(n.width,e.width),l=An(n.height,e.height);return Ex(Ex({},e),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var u=An(0,e.height)(i);return Ex(Ex({},e),{},{y:e.y+e.height-u,height:u})}var d=An(0,e.width)(i);return Ex(Ex({},e),{},{width:d})}));return Lt.createElement(Sr,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Ff(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=Zn(this.props.background,!1);return n.map((function(t,n){t.value;var a=t.background,s=Ax(t,_x);if(!a)return null;var l=Ex(Ex(Ex(Ex(Ex({},s),{},{fill:"#eee"},a),o),Rn(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return Lt.createElement(Ox,Px({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,s=Gn(n.children,Jp);if(!s)return null;var l="vertical"===a?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:dh(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Lt.createElement(Sr,u,s.map((function(e){return Lt.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:l,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,s=e.top,l=e.width,c=e.height,u=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,h=rn("recharts-bar",r),y=i&&i.allowDataOverflow,m=o&&o.allowDataOverflow,v=y||m,g=ln(f)?this.id:f;return Lt.createElement(Sr,{className:h},y||m?Lt.createElement("defs",null,Lt.createElement("clipPath",{id:"clipPath-".concat(g)},Lt.createElement("rect",{x:y?a:a-l/2,y:m?s:s-c/2,width:y?l:2*l,height:m?c:2*c}))):null,Lt.createElement(Sr,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(g,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,g),(!u||p)&&wy.renderCallByParent(this.props,n))}}])&&Tx(t.prototype,n),r&&Tx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Fx(e){return(Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vx(r.key),r)}}function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$x(Object(n),!0).forEach((function(t){Wx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wx(e,t,n){return(t=Vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vx(e){var t=function(e,t){if("object"!=Fx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Fx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fx(t)?t:t+""}Sx=Lx,Bx(Lx,"displayName","Bar"),Bx(Lx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Na,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Bx(Lx,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,y=n.type.defaultProps,m=void 0!==y?Ex(Ex({},y),n.props):n.props,v=m.dataKey,g=m.children,b=m.minPointSize,x="horizontal"===h?a:o,j=c?x.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),O=Gn(g,Ja),S=d.map((function(e,t){var r,d,f,y,m,g;c?r=function(e,t){if(!t||2!==t.length||!jn(t[0])||!jn(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!jn(e[0])||e[0]<n)&&(i[0]=n),(!jn(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],j):(r=dh(e,v),Array.isArray(r)||(r=[w,r]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i="number"==typeof n;return i?e(n,r):(i||Fp(),t)}}(b,Sx.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var S,_=[a.scale(r[0]),a.scale(r[1])],k=_[0],A=_[1];d=Ph({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),f=null!==(S=null!=A?A:k)&&void 0!==S?S:void 0,y=p.size;var P=k-A;if(m=Number.isNaN(P)?0:P,g={x:d,y:a.y,width:y,height:a.height},Math.abs(x)>0&&Math.abs(m)<Math.abs(x)){var C=bn(m||x)*(Math.abs(x)-Math.abs(m));f-=C,m+=C}}else{var E=[o.scale(r[0]),o.scale(r[1])],T=E[0],M=E[1];if(d=T,f=Ph({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),y=M-T,m=p.size,g={x:o.x,y:f,width:o.width,height:m},Math.abs(x)>0&&Math.abs(y)<Math.abs(x))y+=bn(y||x)*(Math.abs(x)-Math.abs(y))}return Ex(Ex(Ex({},e),{},{x:d,y:f,width:y,height:m,value:c?r:r[1],payload:e,background:g},O&&O[t]&&O[t].props),{},{tooltipPayload:[Ih(n,e)],tooltipPosition:{x:d+y/2,y:f+m/2}})}));return Ex({data:S,layout:h},f)}));var qx=function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!Yn(l,Lx);return c.reduce((function(o,a){var l,c,f,p,h,y=t[a],m=y.orientation,v=y.domain,g=y.padding,b=void 0===g?{}:g,x=y.mirror,j=y.reversed,w="".concat(m).concat(x?"Mirror":"");if("number"===y.type&&("gap"===y.padding||"no-gap"===y.padding)){var O=v[1]-v[0],S=1/0,_=y.categoricalDomain.sort(Cn);if(_.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(_[t-1]||0),S))})),Number.isFinite(S)){var k=S/O,A="vertical"===y.layout?n.height:n.width;if("gap"===y.padding&&(l=k*A/2),"no-gap"===y.padding){var P=_n(e.barCategoryGap,k*A),C=k*A/2;l=C-P-(C-P)/A*P}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:y.range,j&&(c=[c[1],c[0]]);var E=jh(y,i,d),T=E.scale,M=E.realScaleType;T.domain(v).range(c),Oh(T);var N=kh(T,Ux(Ux({},y),{},{realScaleType:M}));"xAxis"===r?(h="top"===m&&!x||"bottom"===m&&x,f=n.left,p=u[w]-h*y.height):"yAxis"===r&&(h="left"===m&&!x||"right"===m&&x,f=u[w]-h*y.width,p=n.top);var D=Ux(Ux(Ux({},y),N),{},{realScaleType:M,x:f,y:p,scale:T,width:"xAxis"===r?n.width:y.width,height:"yAxis"===r?n.height:y.height});return D.bandSize=Nh(D,N),y.hide||"xAxis"!==r?y.hide||(u[w]+=(h?-1:1)*D.width):u[w]+=(h?-1:1)*D.height,Ux(Ux({},o),{},Wx({},a,D))}),{})},Hx=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Gx=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&zx(t.prototype,n),r&&zx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Wx(Gx,"EPS",1e-4);var Yx=function(e){var t=Object.keys(e).reduce((function(t,n){return Ux(Ux({},t),{},Wx({},n,Gx.create(e[n])))}),{});return Ux(Ux({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return sx(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return hx(e,(function(e,n){return t[n].isInRange(e)}))}})};var Kx,Xx,Zx,Qx,Jx,ej,tj,nj;function rj(){if(ej)return Jx;ej=1;var e=Oo(),t=g(),n=function(){if(Qx)return Zx;Qx=1;var e=Mb();return Zx=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return Jx=function(i,o,a){var s=null==i?0:i.length;if(!s)return-1;var l=null==a?0:n(a);return l<0&&(l=r(s+l,0)),e(i,t(o,3),l)}}const ij=Rt(function(){if(nj)return tj;nj=1;var e=function(){if(Xx)return Kx;Xx=1;var e=g(),t=z(),n=$();return Kx=function(r){return function(i,o,a){var s=Object(i);if(!t(i)){var l=e(o,3);i=n(i),o=function(e){return l(s[e],e,s)}}var c=r(i,o,a);return c>-1?s[l?i[c]:c]:void 0}}}()(rj());return tj=e}());var oj=Rt(U())((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),aj=It.createContext(void 0),sj=It.createContext(void 0),lj=It.createContext(void 0),cj=It.createContext({}),uj=It.createContext(void 0),dj=It.createContext(0),fj=It.createContext(0),pj=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,s=e.width,l=e.height,c=oj(i);return Lt.createElement(aj.Provider,{value:n},Lt.createElement(sj.Provider,{value:r},Lt.createElement(cj.Provider,{value:i},Lt.createElement(lj.Provider,{value:c},Lt.createElement(uj.Provider,{value:o},Lt.createElement(dj.Provider,{value:l},Lt.createElement(fj.Provider,{value:s},a)))))))},hj=function(e){var t=It.useContext(aj);null==t&&Fp();var n=t[e];return null==n&&Fp(),n},yj=function(e){var t=It.useContext(sj);null==t&&Fp();var n=t[e];return null==n&&Fp(),n},mj=function(){return It.useContext(fj)},vj=function(){return It.useContext(dj)};function gj(e){return(gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xj(e,t,n){return t=wj(t),function(e,t){if(t&&("object"===gj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jj()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function jj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jj=function(){return!!e})()}function wj(e){return(wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oj(e,t){return(Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach((function(t){kj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kj(e,t,n){return(t=Aj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aj(e){var t=function(e,t){if("object"!=gj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=gj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==gj(t)?t:t+""}function Pj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ej.apply(this,arguments)}function Tj(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=It.useContext(uj),u=hj(i),d=yj(o),f=It.useContext(lj);if(!c||!f)return null;_r(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,f=i.height;if(n){var p=l.y,h=e.y.apply(p,{position:o});if(ax(l,"discard")&&!e.y.isInRange(h))return null;var y=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?y.reverse():y}if(t){var m=l.x,v=e.x.apply(m,{position:o});if(ax(l,"discard")&&!e.x.isInRange(v))return null;var g=[{x:v,y:u+f},{x:v,y:u}];return"top"===a?g.reverse():g}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return ax(l,"discard")&&rx(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Yx({x:u.scale,y:d.scale}),wn(t),wn(n),r&&2===r.length,f,e.position,u.orientation,d.orientation,e);if(!p)return null;var h=Pj(p,2),y=h[0],m=y.x,v=y.y,g=h[1],b=g.x,x=g.y,j=_j(_j({clipPath:ax(e,"hidden")?"url(#".concat(c,")"):void 0},Zn(e,!0)),{},{x1:m,y1:v,x2:b,y2:x});return Lt.createElement(Sr,{className:rn("recharts-reference-line",s)},function(e,t){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement("line",Ej({},t,{className:"recharts-reference-line-line"}))}(a,j),ay.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Hx({x:t,y:n},{x:r,y:i})}({x1:m,y1:v,x2:b,y2:x})))}var Mj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}(e,Lt.Component),bj(e,[{key:"render",value:function(){return Lt.createElement(Tj,this.props)}}])}();function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nj.apply(this,arguments)}function Dj(e){return(Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ij(Object(n),!0).forEach((function(t){Uj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lj(e,t,n){return t=zj(t),function(e,t){if(t&&("object"===Dj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fj()?Reflect.construct(t,n||[],zj(e).constructor):t.apply(e,n))}function Fj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fj=function(){return!!e})()}function zj(e){return(zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $j(e,t){return($j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Uj(e,t,n){return(t=Wj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wj(e){var t=function(e,t){if("object"!=Dj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Dj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Dj(t)?t:t+""}kj(Mj,"displayName","ReferenceLine"),kj(Mj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Vj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}(e,Lt.Component),Rj(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,s=wn(n),l=wn(r);if(_r(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Yx({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return ax(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var u=c.x,d=c.y,f=this.props,p=f.shape,h=f.className,y=Bj(Bj({clipPath:ax(this.props,"hidden")?"url(#".concat(a,")"):void 0},Zn(this.props,!0)),{},{cx:u,cy:d});return Lt.createElement(Sr,{className:rn("recharts-reference-dot",h)},e.renderDot(p,y),ay.renderCallByParent(this.props,{x:u-i,y:d-i,width:2*i,height:2*i}))}}])}();function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qj.apply(this,arguments)}function Hj(e){return(Hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(n),!0).forEach((function(t){ew(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xj(e,t,n){return t=Qj(t),function(e,t){if(t&&("object"===Hj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zj()?Reflect.construct(t,n||[],Qj(e).constructor):t.apply(e,n))}function Zj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zj=function(){return!!e})()}function Qj(e){return(Qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jj(e,t){return(Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ew(e,t,n){return(t=tw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tw(e){var t=function(e,t){if("object"!=Hj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Hj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Hj(t)?t:t+""}Uj(Vj,"displayName","ReferenceDot"),Uj(Vj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Uj(Vj,"renderDot",(function(e,t){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement(qv,Nj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var nw=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}(e,Lt.Component),Kj(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,s=t.alwaysShow,l=t.clipPathId;_r(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=wn(n),u=wn(r),d=wn(i),f=wn(o),p=this.props.shape;if(!(c||u||d||f||p))return null;var h=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Yx({x:c.scale,y:u.scale}),f={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!ax(i,"discard")||d.isInRange(f)&&d.isInRange(p)?Hx(f,p):null}(c,u,d,f,this.props);if(!h&&!p)return null;var y=ax(this.props,"hidden")?"url(#".concat(l,")"):void 0;return Lt.createElement(Sr,{className:rn("recharts-reference-area",a)},e.renderRect(p,Yj(Yj({clipPath:y},Zn(this.props,!0)),h)),ay.renderCallByParent(this.props,h))}}])}();function rw(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function iw(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function ow(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function aw(e){return(aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(n),!0).forEach((function(t){cw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cw(e,t,n){var r;return r=function(e,t){if("object"!=aw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=aw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aw(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uw(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(jn(l)||Na)return function(e,t){return rw(e,t+1)}(i,"number"==typeof l&&jn(l)?l:0);var f=[],p="top"===s||"bottom"===s?"width":"height",h=u&&"width"===p?ss(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(e,r){var i=un(c)?c(e.value,r):e.value;return"width"===p?iw(ss(i,{fontSize:t,letterSpacing:n}),h,d):ss(i,{fontSize:t,letterSpacing:n})[p]},m=i.length>=2?bn(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,m,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:rw(r,u)};var o,a=c,f=function(){return void 0===o&&(o=n(t,a)),o},p=t.coordinate,h=0===c||ow(e,p,f,d,l);h||(c=0,d=s,u+=1),h&&(d=p+e*(f()/2+i),c+=u)};u<=a.length;)if(o=f())return o.v;return[]}(m,v,y,i,a):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);a[s-1]=u=lw(lw({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),ow(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=lw(lw({},u),{},{isShow:!0}))}for(var p=o?s-1:s,h=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=lw(lw({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=lw(lw({},o),{},{tickCoord:o.coordinate});ow(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=lw(lw({},o),{},{isShow:!0}))},y=0;y<p;y++)h(y);return a}(m,v,y,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=lw(lw({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=lw(lw({},c),{},{tickCoord:c.coordinate});ow(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=lw(lw({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(m,v,y,i,a),f.filter((function(e){return e.isShow})))}ew(nw,"displayName","ReferenceArea"),ew(nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),ew(nw,"renderRect",(function(e,t){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement(Iv,qj({},t,{className:"recharts-reference-area-rect"}))}));var dw=["viewBox"],fw=["viewBox"],pw=["ticks"];function hw(e){return(hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mw(Object(n),!0).forEach((function(t){Sw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_w(r.key),r)}}function xw(e,t,n){return t=ww(t),function(e,t){if(t&&("object"===hw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jw()?Reflect.construct(t,n||[],ww(e).constructor):t.apply(e,n))}function jw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jw=function(){return!!e})()}function ww(e){return(ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ow(e,t){return(Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sw(e,t,n){return(t=_w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _w(e){var t=function(e,t){if("object"!=hw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=hw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==hw(t)?t:t+""}var kw=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=xw(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}(e,It.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return Lt.isValidElement(e)?Lt.cloneElement(e,t):un(e)?e(t):Lt.createElement(Bs,yw({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=gw(e,dw),i=this.props,o=i.viewBox,a=gw(i,fw);return!En(n,o)||!En(r,a)||!En(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,h=s.mirror,y=s.tickMargin,m=h?-1:1,v=e.tickSize||p,g=jn(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,a=(r=(i=c+ +!h*d)-m*v)-m*y,o=g;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!h*u)-m*v)-m*y,a=g;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +h*u)+m*v)+m*y,a=g;break;default:t=n=e.coordinate,a=(r=(i=c+ +h*d)+m*v)+m*y,o=g}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,s=e.axisLine,l=vw(vw(vw({},Zn(this.props,!1)),Zn(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);l=vw(vw({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===o&&!a||"right"===o&&a);l=vw(vw({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return Lt.createElement("line",yw({},l,{className:rn("recharts-cartesian-axis-line",on(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,l=o.tick,c=o.tickFormatter,u=o.unit,d=uw(vw(vw({},this.props),{},{ticks:t}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),h=Zn(this.props,!1),y=Zn(l,!1),m=vw(vw({},h),{},{fill:"none"},Zn(a,!1)),v=d.map((function(t,n){var r=i.getTickLineCoord(t),o=r.line,v=r.tick,g=vw(vw(vw(vw({textAnchor:f,verticalAnchor:p},h),{},{stroke:"none",fill:s},y),v),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:c});return Lt.createElement(Sr,yw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Rn(i.props,t,n)),a&&Lt.createElement("line",yw({},m,o,{className:rn("recharts-cartesian-axis-tick-line",on(a,"className"))})),l&&e.renderTickItem(l,g,"".concat(un(c)?c(t.value,n):t.value).concat(u||"")))}));return Lt.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=gw(s,pw),u=l;return un(o)&&(u=l&&l.length>0?o(this.props):o(c)),r<=0||i<=0||!u||!u.length?null:Lt.createElement(Sr,{className:rn("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),ay.renderCallByParent(this.props))}}])&&bw(t.prototype,n),r&&bw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Sw(kw,"displayName","CartesianAxis"),Sw(kw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aw=["x1","y1","x2","y2","key"],Pw=["offset"];function Cw(e){return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ew(Object(n),!0).forEach((function(t){Mw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mw(e,t,n){var r;return r=function(e,t){if("object"!=Cw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Cw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Cw(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}function Dw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Iw=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.ry;return Lt.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Bw(e,t){var n;if(Lt.isValidElement(e))n=Lt.cloneElement(e,t);else if(un(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=Dw(t,Aw),c=Zn(l,!1);c.offset;var u=Dw(c,Pw);n=Lt.createElement("line",Nw({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Rw(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=Tw(Tw({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return Bw(i,a)}));return Lt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Lw(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=Tw(Tw({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return Bw(i,a)}));return Lt.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Fw(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==c[0]&&c.unshift(0);var u=c.map((function(e,s){var l=!c[s+1]?i+a-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return Lt.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return Lt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function zw(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,t){var n=!u[t+1]?o+s-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return Lt.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return Lt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $w=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return vh(uw(Tw(Tw(Tw({},kw.defaultProps),n),{},{ticks:gh(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Uw=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return vh(uw(Tw(Tw(Tw({},kw.defaultProps),n),{},{ticks:gh(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Ww={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vw(e){var t,n,r,i,o,a,s,l,c=mj(),u=vj(),d=It.useContext(cj),f=Tw(Tw({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:Ww.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:Ww.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:Ww.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:Ww.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:Ww.vertical,verticalFill:null!==(a=e.verticalFill)&&void 0!==a?a:Ww.verticalFill,x:jn(e.x)?e.x:d.left,y:jn(e.y)?e.y:d.top,width:jn(e.width)?e.width:d.width,height:jn(e.height)?e.height:d.height}),p=f.x,h=f.y,y=f.width,m=f.height,v=f.syncWithTicks,g=f.horizontalValues,b=f.verticalValues,x=(s=It.useContext(aj),kn(s)),j=(l=It.useContext(sj),ij(l,(function(e){return hx(e.domain,Number.isFinite)}))||kn(l));if(!jn(y)||y<=0||!jn(m)||m<=0||!jn(p)||p!==+p||!jn(h)||h!==+h)return null;var w=f.verticalCoordinatesGenerator||$w,O=f.horizontalCoordinatesGenerator||Uw,S=f.horizontalPoints,_=f.verticalPoints;if((!S||!S.length)&&un(O)){var k=g&&g.length,A=O({yAxis:j?Tw(Tw({},j),{},{ticks:k?g:j.ticks}):void 0,width:c,height:u,offset:d},!!k||v);_r(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cw(A),"]")),Array.isArray(A)&&(S=A)}if((!_||!_.length)&&un(w)){var P=b&&b.length,C=w({xAxis:x?Tw(Tw({},x),{},{ticks:P?b:x.ticks}):void 0,width:c,height:u,offset:d},!!P||v);_r(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cw(C),"]")),Array.isArray(C)&&(_=C)}return Lt.createElement("g",{className:"recharts-cartesian-grid"},Lt.createElement(Iw,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Lt.createElement(Rw,Nw({},f,{offset:d,horizontalPoints:S,xAxis:x,yAxis:j})),Lt.createElement(Lw,Nw({},f,{offset:d,verticalPoints:_,xAxis:x,yAxis:j})),Lt.createElement(Fw,Nw({},f,{horizontalPoints:S})),Lt.createElement(zw,Nw({},f,{verticalPoints:_})))}Vw.displayName="CartesianGrid";var qw=["type","layout","connectNulls","ref"],Hw=["key"];function Gw(e){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xw(Object(n),!0).forEach((function(t){oO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qw(e){return function(e){if(Array.isArray(e))return Jw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aO(r.key),r)}}function tO(e,t,n){return t=rO(t),function(e,t){if(t&&("object"===Gw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nO()?Reflect.construct(t,n||[],rO(e).constructor):t.apply(e,n))}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nO=function(){return!!e})()}function rO(e){return(rO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iO(e,t){return(iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oO(e,t,n){return(t=aO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e){var t=function(e,t){if("object"!=Gw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Gw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Gw(t)?t:t+""}var sO=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oO(t=tO(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),oO(t,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),oO(t,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(Qw(i.slice(0,u)),[s-d]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(Qw(e.repeat(i,a)),Qw(c),f).map((function(e){return"".concat(e,"px")})).join(", ")})),oO(t,"id",Sn("recharts-line-")),oO(t,"pathRef",(function(e){t.mainCurve=e})),oO(t,"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),oO(t,"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}(e,It.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(Qw(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(Qw(r),Qw(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(Lt.isValidElement(e))n=Lt.cloneElement(e,t);else if(un(e))n=e(t);else{var r=t.key,i=Yw(t,Hw),o=rn("recharts-line-dot","boolean"!=typeof e?e.className:"");n=Lt.createElement(qv,Kw({key:r},i,{className:o}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,a=n.layout,s=Gn(n.children,Jp);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:dh(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Lt.createElement(Sr,c,s.map((function(e){return Lt.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,dataPointFormatter:l})})))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,a=i.points,s=i.dataKey,l=Zn(this.props,!1),c=Zn(o,!0),u=a.map((function(t,n){var r=Zw(Zw(Zw({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:a});return e.renderDotItem(o,r)})),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return Lt.createElement(Sr,Kw({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,a=i.layout,s=i.connectNulls;i.ref;var l=Yw(i,qw),c=Zw(Zw(Zw({},Zn(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:a,connectNulls:s});return Lt.createElement(Gy,Kw({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,a=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=r.animateNewValues,f=r.width,p=r.height,h=this.state,y=h.prevPoints,m=h.totalLength;return Lt.createElement(Sv,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var a=r.t;if(y){var s=y.length/i.length,l=i.map((function(e,t){var n=Math.floor(t*s);if(y[n]){var r=y[n],i=An(r.x,e.x),o=An(r.y,e.y);return Zw(Zw({},e),{},{x:i(a),y:o(a)})}if(d){var l=An(2*f,e.x),c=An(p/2,e.y);return Zw(Zw({},e),{},{x:l(a),y:c(a)})}return Zw(Zw({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=An(0,m)(a);if(o){var h="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,m,h)}else c=n.generateSimpleStrokeDasharray(m,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!Ff(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,a=t.xAxis,s=t.yAxis,l=t.top,c=t.left,u=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var h=this.state.isAnimationFinished,y=1===i.length,m=rn("recharts-line",o),v=a&&a.allowDataOverflow,g=s&&s.allowDataOverflow,b=v||g,x=ln(p)?this.id:p,j=null!==(e=Zn(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,O=void 0===w?3:w,S=j.strokeWidth,_=void 0===S?2:S,k=(function(e){return e&&"object"===$n(e)&&"clipDot"in e}(r)?r:{}).clipDot,A=void 0===k||k,P=2*O+_;return Lt.createElement(Sr,{className:m},v||g?Lt.createElement("defs",null,Lt.createElement("clipPath",{id:"clipPath-".concat(x)},Lt.createElement("rect",{x:v?c:c-u/2,y:g?l:l-d/2,width:v?u:2*u,height:g?d:2*d})),!A&&Lt.createElement("clipPath",{id:"clipPath-dots-".concat(x)},Lt.createElement("rect",{x:c-P/2,y:l-P/2,width:u+P,height:d+P}))):null,!y&&this.renderCurve(b,x),this.renderErrorBar(b,x),(y||r)&&this.renderDots(b,A,x),(!f||h)&&wy.renderCallByParent(this.props,i))}}])&&eO(t.prototype,n),r&&eO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function lO(e){return(lO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uO(e,t,n){return t=fO(t),function(e,t){if(t&&("object"===lO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dO()?Reflect.construct(t,n||[],fO(e).constructor):t.apply(e,n))}function dO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dO=function(){return!!e})()}function fO(e){return(fO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pO(e,t){return(pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hO(e,t,n){return(t=yO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yO(e){var t=function(e,t){if("object"!=lO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=lO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lO(t)?t:t+""}function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mO.apply(this,arguments)}function vO(e){var t=e.xAxisId,n=mj(),r=vj(),i=hj(t);return null==i?null:Lt.createElement(kw,mO({},i,{className:rn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return gh(e,!0)}}))}oO(sO,"displayName","Line"),oO(sO,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Na,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),oO(sO,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return Zw({points:l.map((function(e,t){var l=dh(e,a);return"horizontal"===u?{x:Ah({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:ln(l)?null:r.scale(l),value:l,payload:e}:{x:ln(l)?null:n.scale(l),y:Ah({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:u},c)}));var gO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}(e,Lt.Component),cO(e,[{key:"render",value:function(){return Lt.createElement(vO,this.props)}}])}();function bO(e){return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jO(e,t,n){return t=OO(t),function(e,t){if(t&&("object"===bO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wO()?Reflect.construct(t,n||[],OO(e).constructor):t.apply(e,n))}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wO=function(){return!!e})()}function OO(e){return(OO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SO(e,t){return(SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _O(e,t,n){return(t=kO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e){var t=function(e,t){if("object"!=bO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=bO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==bO(t)?t:t+""}function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(this,arguments)}hO(gO,"displayName","XAxis"),hO(gO,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var PO=function(e){var t=e.yAxisId,n=mj(),r=vj(),i=yj(t);return null==i?null:Lt.createElement(kw,AO({},i,{className:rn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return gh(e,!0)}}))},CO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SO(e,t)}(e,Lt.Component),xO(e,[{key:"render",value:function(){return Lt.createElement(PO,this.props)}}])}();function EO(e){return function(e){if(Array.isArray(e))return TO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return TO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_O(CO,"displayName","YAxis"),_O(CO,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var MO,NO=function(e,t,n,r,i){var o=Gn(e,Mj),a=Gn(e,Vj),s=[].concat(EO(o),EO(a)),l=Gn(e,nw),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&ax(t.props,"extendDomain")&&jn(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var f="".concat(u,"1"),p="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&ax(t.props,"extendDomain")&&jn(t.props[f])&&jn(t.props[p])){var r=t.props[f],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return jn(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},DO={exports:{}};var IO=(MO||(MO=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(DO)),DO.exports);var BO=new(Rt(IO)),RO="recharts.syncMouseEvents";function LO(e){return(LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$O(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zO(e,t,n){return(t=$O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $O(e){var t=function(e,t){if("object"!=LO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=LO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==LO(t)?t:t+""}var UO=function(){return FO((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zO(this,"activeIndex",0),zO(this,"coordinateList",[]),zO(this,"layout","horizontal")}),[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function WO(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[Vh(t,n,r,i),Vh(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function VO(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return WO(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=Vh(s,l,c,d),p=Vh(s,l,u,d);r=f.x,i=f.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function qO(e){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(n),!0).forEach((function(t){YO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YO(e,t,n){var r;return r=function(e,t){if("object"!=qO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qO(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e){var t,n,r,i=e.element,o=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!h||!a||!s||"ScatterChart"!==p&&"axis"!==o)return null;var y=Gy;if("ScatterChart"===p)r=s,y=tg;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,s,c,d),y=Iv;else if("radial"===f){var m=WO(s),v=m.cx,g=m.cy,b=m.radius;r={cx:v,cy:g,startAngle:m.startAngle,endAngle:m.endAngle,innerRadius:b,outerRadius:b},y=Ty}else r={points:VO(f,s,c)},y=Gy;var x=GO(GO(GO(GO({stroke:"#ccc",pointerEvents:"none"},c),r),Zn(h,!1)),{},{payload:l,payloadIndex:u,className:rn("recharts-tooltip-cursor",h.className)});return It.isValidElement(h)?It.cloneElement(h,x):It.createElement(y,x)}var XO=["item"],ZO=["children","className","width","height","style","compact","title","desc"];function QO(e){return(QO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(this,arguments)}function eS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||lS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nS(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pS(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rS(e,t,n){return t=oS(t),function(e,t){if(t&&("object"===QO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iS()?Reflect.construct(t,n||[],oS(e).constructor):t.apply(e,n))}function iS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(iS=function(){return!!e})()}function oS(e){return(oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aS(e,t){return(aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sS(e){return function(e){if(Array.isArray(e))return cS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(e,t){if(e){if("string"==typeof e)return cS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cS(e,t):void 0}}function cS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uS(Object(n),!0).forEach((function(t){fS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fS(e,t,n){return(t=pS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pS(e){var t=function(e,t){if("object"!=QO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=QO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QO(t)?t:t+""}var hS={xAxis:["bottom","top"],yAxis:["left","right"]},yS={width:"100%",height:"100%"},mS={x:0,y:0};function vS(e){return e}var gS=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(sS(e),sS(n)):e}),[]);return o.length>0?o:e&&e.length&&jn(r)&&jn(i)?e.slice(r,i+1):[]};function bS(e){return"number"===e?[0,"auto"]:void 0}var xS=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=gS(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=Pn(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(sS(i),[Ih(s,c)]):i}),[])},jS=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(bn(u-c)!==bn(d-u)){var p=[];if(bn(d-u)===bn(s[1]-s[0])){f=d;var h=u+s[1]-s[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{f=c;var y=d+s[1]-s[0];p[0]=Math.min(u,(y+u)/2),p[1]=Math.max(u,(y+u)/2)}var m=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>m[0]&&e<=m[1]||e>=p[0]&&e<=p[1]){o=r[l].index;break}}else{var v=Math.min(c,d),g=Math.max(c,d);if(e>(v+u)/2&&e<=(g+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=xS(e,t,c,u),f=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return dS(dS(dS({},r),Vh(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return dS(dS(dS({},r),Vh(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return mS}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},wS=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=mh(c,i);return n.reduce((function(t,n){var p,h=void 0!==n.type.defaultProps?dS(dS({},n.type.defaultProps),n.props):n.props,y=h.type,m=h.dataKey,v=h.allowDataOverflow,g=h.allowDuplicatedCategory,b=h.scale,x=h.ticks,j=h.includeHidden,w=h[o];if(t[w])return t;var O,S,_,k=gS(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===w})),dataStartIndex:s,dataEndIndex:l}),A=k.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&jn(r)&&jn(i))return!0}return!1})(h.domain,v,y)&&(O=Mh(h.domain,null,v),!f||"number"!==y&&"auto"===b||(_=fh(k,m,"category")));var P=bS(y);if(!O||0===O.length){var C,E=null!==(C=h.domain)&&void 0!==C?C:P;if(m){if(O=fh(k,m,y),"category"===y&&f){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(O);g&&T?(S=O,O=Db(0,A)):g||(O=Dh(E,O,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(sS(e),[t])}),[]))}else if("category"===y)O=g?O.filter((function(e){return""!==e&&!ln(e)})):Dh(E,O,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||ln(t)?e:[].concat(sS(e),[t])}),[]);else if("number"===y){var M=function(e,t,n,r,i){var o=t.map((function(t){return hh(e,t,n,i,r)})).filter((function(e){return!ln(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(k,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(j||!i)})),m,i,c);M&&(O=M)}!f||"number"!==y&&"auto"===b||(_=fh(k,m,"category"))}else O=f?Db(0,A):a&&a[w]&&a[w].hasStack&&"number"===y?"expand"===d?[0,1]:Ch(a[w].stackGroups,s,l):yh(k,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!n)})),y,c,!0);if("number"===y)O=NO(u,O,w,i,x),E&&(O=Mh(E,O,v));else if("category"===y&&E){var N=E;O.every((function(e){return N.indexOf(e)>=0}))&&(O=N)}}return dS(dS({},t),{},fS({},w,dS(dS({},h),{},{axisType:i,domain:O,categoricalDomain:_,duplicateDomain:S,originalDomain:null!==(p=h.domain)&&void 0!==p?p:P,isCategorical:f,layout:c})))}),{})},OS=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Gn(c,i),f={};return d&&d.length?f=wS(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=gS(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),f=d.length,p=mh(c,i),h=-1;return n.reduce((function(e,t){var y,m=(void 0!==t.type.defaultProps?dS(dS({},t.type.defaultProps),t.props):t.props)[o],v=bS("number");return e[m]?e:(h++,p?y=Db(0,f):a&&a[m]&&a[m].hasStack?(y=Ch(a[m].stackGroups,s,l),y=NO(u,y,m,i)):(y=Mh(v,yh(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===m&&!i})),"number",c),r.defaultProps.allowDataOverflow),y=NO(u,y,m,i)),dS(dS({},e),{},fS({},m,dS(dS({axisType:i},r.defaultProps),{},{hide:!0,orientation:on(hS,"".concat(i,".").concat(h%2),null),domain:y,originalDomain:v,isCategorical:p,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),f},SS=function(e){var t=e.children,n=e.defaultShowTooltip,r=Yn(t,nx),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},_S=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kS=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Yn(c,nx),f=Yn(c,na),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:dS(dS({},e),{},fS({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),h=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:dS(dS({},e),{},fS({},r,on(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),y=dS(dS({},h),p),m=y.bottom;d&&(y.bottom+=d.props.height||nx.defaultProps.height),f&&t&&(y=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=ih({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,f=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&jn(e[f]))return ch(ch({},e),{},uh({},f,e[f]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&jn(e[p]))return ch(ch({},e),{},uh({},p,e[p]+(d||0)))}return e}(y,0,n,t));var v=s-y.left-y.right,g=l-y.top-y.bottom;return dS(dS({brushBottom:m},y),{},{width:Math.max(v,0),height:Math.max(g,0)})},AS=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},PS=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,a=void 0===o?["axis"]:o,s=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=_S(u),y=h.numericAxisName,m=h.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Wn(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),g=[];return n.forEach((function(n,h){var b=gS(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:l}),x=void 0!==n.type.defaultProps?dS(dS({},n.type.defaultProps),n.props):n.props,j=x.dataKey,w=x.maxBarSize,O=x["".concat(y,"Id")],S=x["".concat(m,"Id")],_=s.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Fp();var o=r[i];return dS(dS({},e),{},fS(fS({},n.axisType,o),"".concat(n.axisType,"Ticks"),gh(o)))}),{}),k=_[m],A=_["".concat(m,"Ticks")],P=r&&r[O]&&r[O].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?ch(ch({},e.type.defaultProps),e.props):e.props).stackId;if(wn(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[O].stackGroups),C=Wn(n.type).indexOf("Bar")>=0,E=Nh(k,A),T=[],M=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var p=c[u[d]],h=p.items,y=p.cateAxisId,m=h.filter((function(e){return Wn(e.type).indexOf("Bar")>=0}));if(m&&m.length){var v=m[0].type.defaultProps,g=void 0!==v?ch(ch({},v),m[0].props):m[0].props,b=g.barSize,x=g[y];o[x]||(o[x]=[]);var j=ln(b)?t:b;o[x].push({item:m[0],stackList:m.slice(1),barSize:ln(j)?void 0:_n(j,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:AS(_,m)});if(C){var N,D,I=ln(w)?p:w,B=null!==(N=null!==(D=Nh(k,A,!0))&&void 0!==D?D:I)&&void 0!==N?N:0;T=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=_n(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,f=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*c)>=r&&(p-=(s-1)*c,c=0),p>=r&&f>0&&(d=!0,p=s*(f*=.9));var h={offset:((r-p)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:d?f:t.barSize}},r=[].concat(ah(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),u)}else{var y=_n(n,r,0,!0);r-2*y-(s-1)*c<=0&&(c=0);var m=(r-2*y-(s-1)*c)/s;m>1&&(m>>=0);var v=a===+a?Math.min(m,a):m;l=o.reduce((function(e,t,n){var r=[].concat(ah(e),[{item:t.item,position:{offset:y+(m+c)*n+(m-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:f,bandSize:B!==E?B:E,sizeList:M[S],maxBarSize:I}),B!==E&&(T=T.map((function(e){return dS(dS({},e),{},{position:dS(dS({},e.position),{},{offset:e.position.offset-B/2})})})))}var R,L,F=n&&n.type&&n.type.getComposedData;F&&g.push({props:dS(dS({},F(dS(dS({},_),{},{displayedData:b,props:e,dataKey:j,item:n,bandSize:E,barPosition:T,offset:i,stackedData:P,layout:u,dataStartIndex:a,dataEndIndex:l}))),{},fS(fS(fS({key:n.key||"item-".concat(h)},y,_[y]),m,_[m]),"animationId",o)),childIndex:(R=n,L=e.children,Hn(L).indexOf(R)),item:n})})),g},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,l=e.updateId;if(!Kn({props:i}))return null;var u=i.children,f=i.layout,p=i.stackOffset,h=i.data,y=i.reverseStackOrder,m=_S(f),v=m.numericAxisName,g=m.cateAxisName,b=Gn(u,n),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?ch(ch({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(wn(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[Sn("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return ch(ch({},e),{},uh({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return ch(ch({},t),{},uh({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:_h(e,a.items,i)}))}),{})),ch(ch({},t),{},uh({},o,s))}),{})}(h,b,"".concat(v,"Id"),"".concat(g,"Id"),p,y),j=s.reduce((function(e,t){var n="".concat(t.axisType,"Map");return dS(dS({},e),{},fS({},n,OS(i,dS(dS({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&x,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=kS(dS(dS({},j),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(j).forEach((function(e){j[e]=c(i,j[e],w,e.replace("Map",""),t)}));var O,S,_=j["".concat(g,"Map")],k=(O=kn(_),{tooltipTicks:S=gh(O,!1,!0),orderedTooltipTicks:aa(S,(function(e){return e.coordinate})),tooltipAxis:O,tooltipAxisBandSize:Nh(O,S)}),A=d(i,dS(dS({},j),{},{dataStartIndex:o,dataEndIndex:a,updateId:l,graphicalItems:b,stackGroups:x,offset:w}));return dS(dS({formattedGraphicalItems:A,graphicalItems:b,offset:w,stackGroups:x},k),j)},p=function(){function e(n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fS(o=rS(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fS(o,"accessibilityManager",new UO),fS(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(dS({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},dS(dS({},o.state),{},{legendBBox:e}))))}})),fS(o,"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),fS(o,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return dS({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),fS(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=dS(dS({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;un(r)&&r(n,e)}})),fS(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?dS(dS({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;un(r)&&r(n,e)})),fS(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),fS(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),fS(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),fS(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;un(n)&&n(t,e)})),fS(o,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Un[t]?Un[t]:null}(e),r=on(o.props,"".concat(n));n&&un(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),fS(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=dS(dS({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;un(r)&&r(n,e)}})),fS(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;un(t)&&t(o.getMouseInfo(e),e)})),fS(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;un(t)&&t(o.getMouseInfo(e),e)})),fS(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),fS(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),fS(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),fS(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;un(t)&&t(o.getMouseInfo(e),e)})),fS(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;un(t)&&t(o.getMouseInfo(e),e)})),fS(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&BO.emit(RO,o.props.syncId,e,o.eventEmitterSymbol)})),fS(o,"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(dS({dataStartIndex:a,dataEndIndex:s},f({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,p=d.offset,h=d.tooltipTicks;if(!p)return;if("function"==typeof r)u=r(h,e);else if("value"===r){u=-1;for(var y=0;y<h.length;y++)if(h[y].value===e.activeLabel){u=y;break}}var m=dS(dS({},p),{},{x:p.left,y:p.top}),v=Math.min(l,m.x+m.width),g=Math.min(c,m.y+m.height),b=h[u]&&h[u].value,x=xS(o.state,o.props.data,u),j=h[u]?{x:"horizontal"===n?h[u].coordinate:v,y:"horizontal"===n?g:h[u].coordinate}:mS;o.setState(dS(dS({},e),{},{activeLabel:b,activeCoordinate:j,activePayload:x,activeTooltipIndex:u}))}else o.setState(e)})),fS(o,"renderCursor",(function(e){var n,r=o.state,i=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:i,p=o.props.layout,h=e.key||"_recharts-cursor";return Lt.createElement(KO,{key:h,activeCoordinate:a,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:p,offset:l,tooltipAxisBandSize:u,tooltipEventType:d})})),fS(o,"renderPolarAxis",(function(e,t,n){var r=on(e,"type.axisType"),i=on(o.state,"".concat(r,"Map")),a=e.type.defaultProps,s=void 0!==a?dS(dS({},a),e.props):e.props,l=i&&i[s["".concat(r,"Id")]];return It.cloneElement(e,dS(dS({},l),{},{className:rn(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:gh(l,!0)}))})),fS(o,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,a=o.state,s=a.radiusAxisMap,l=a.angleAxisMap,c=kn(s),u=kn(l),d=u.cx,f=u.cy,p=u.innerRadius,h=u.outerRadius;return It.cloneElement(e,{polarAngles:Array.isArray(r)?r:gh(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:gh(c,!0).map((function(e){return e.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:h,key:e.key||"polar-grid",radialLines:n})})),fS(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,a=o.props.margin||{},s=r-(a.left||0)-(a.right||0),c=ih({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var u=c.item,d=tS(c,XO);return It.cloneElement(u,dS(dS({},d),{},{chartWidth:r,chartHeight:i,margin:a,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),fS(o,"renderTooltip",(function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=Yn(n,qa);if(!i)return null;var a=o.state,s=a.isTooltipActive,l=a.activeCoordinate,c=a.activePayload,u=a.activeLabel,d=a.offset,f=null!==(e=i.props.active)&&void 0!==e?e:s;return It.cloneElement(i,{viewBox:dS(dS({},d),{},{x:d.left,y:d.top}),active:f,label:u,payload:f?c:[],coordinate:l,accessibilityLayer:r})})),fS(o,"renderBrush",(function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,a=i.offset,s=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return It.cloneElement(e,{key:e.key||"_recharts-brush",onChange:xh(o.handleBrushChange,e.props.onChange),data:r,x:jn(e.props.x)?e.props.x:a.left,y:jn(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:jn(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:l,updateId:"brush-".concat(c)})})),fS(o,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,a=i.xAxisMap,s=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,f=void 0===d?c.xAxisId:d,p=u.yAxisId,h=void 0===p?c.yAxisId:p;return It.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[f],yAxis:s[h],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})})),fS(o,"renderActivePoints",(function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?dS(dS({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=dS(dS({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:ph(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Zn(u,!1)),Bn(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(e.renderActiveDot(u,dS(dS({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),fS(o,"renderGraphicChild",(function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),a=o.state,s=a.isTooltipActive,l=a.tooltipAxis,c=a.activeTooltipIndex,u=a.activeLabel,d=Yn(o.props.children,qa),f=r.props,p=f.points,h=f.isRange,y=f.baseLine,m=void 0!==r.item.type.defaultProps?dS(dS({},r.item.type.defaultProps),r.item.props):r.item.props,v=m.activeDot,g=m.hide,b=m.activeBar,x=m.activeShape,j=Boolean(!g&&s&&d&&(v||b||x)),w={};"axis"!==i&&d&&"click"===d.props.trigger?w={onClick:xh(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(w={onMouseLeave:xh(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:xh(o.handleItemMouseEnter,e.props.onMouseEnter)});var O=It.cloneElement(e,dS(dS({},r.props),w));if(j){if(!(c>=0)){var S,_=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:O}).graphicalItem,k=_.item,A=void 0===k?e:k,P=_.childIndex,C=dS(dS(dS({},r.props),w),{},{activeIndex:P});return[It.cloneElement(A,C),null,null]}var E,T;if(l.dataKey&&!l.allowDuplicatedCategory){var M="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());E=Pn(p,M,u),T=h&&y&&Pn(y,M,u)}else E=null==p?void 0:p[c],T=h&&y&&y[c];if(x||b){var N=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[It.cloneElement(e,dS(dS(dS({},r.props),w),{},{activeIndex:N})),null,null]}if(!ln(E))return[O].concat(sS(o.renderActivePoints({item:r,activePoint:E,basePoint:T,childIndex:c,isRange:h})))}return h?[O,null,null]:[O,null]})),fS(o,"renderCustomized",(function(e,t,n){return It.cloneElement(e,dS(dS({key:"recharts-customized-".concat(n)},o.props),o.state))})),fS(o,"renderMap",{CartesianGrid:{handler:vS,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:vS},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:vS},YAxis:{handler:vS},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:Sn("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=T(o.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}(e,It.Component),nS(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=Yn(t,qa);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=xS(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(d=dS(dS({},d),f.props.points[a].tooltipPosition),l=f.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){Qn([Yn(e.children,qa)],[Yn(this.props.children,qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Yn(this.props.children,qa);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return a.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=jS(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var p=kn(c).scale,h=kn(u).scale,y=p&&p.invert?p.invert(o.chartX):null,m=h&&h.invert?h.invert(o.chartY):null;return dS(dS({},o),{},{xValue:y,yValue:m},f)}return f?dS(dS({},o),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=kn(l);return Yh({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Yn(e,qa),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),dS(dS({},Bn(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){BO.on(RO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BO.removeListener(RO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===Wn(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return Lt.createElement("defs",null,Lt.createElement("clipPath",{id:e},Lt.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=eS(t,2),r=n[0],i=n[1];return dS(dS({},e),{},fS({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=eS(t,2),r=n[0],i=n[1];return dS(dS({},e),{},fS({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?dS(dS({},l.type.defaultProps),l.props):l.props,u=Wn(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Nv(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find((function(t){return Yh(e,t)}));if(f)return{graphicalItem:a,payload:f}}else if(ob(a,r)||ab(a,r)||sb(a,r)){var p=db({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:dS(dS({},a),{},{childIndex:h}),payload:sb(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Kn(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,s=r.height,l=r.style,c=r.compact,u=r.title,d=r.desc,f=tS(r,ZO),p=Zn(f,!1);if(c)return Lt.createElement(pj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Lt.createElement(ir,JO({},p,{width:a,height:s,title:u,desc:d}),this.renderClipPath(),er(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var h=this.parseEventsOfWrapper();return Lt.createElement(pj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Lt.createElement("div",JO({className:rn("recharts-wrapper",o),style:dS({position:"relative",cursor:"default",width:a,height:s},l)},h,{ref:function(t){e.container=t}}),Lt.createElement(ir,JO({},p,{width:a,height:s,title:u,desc:d,style:yS}),this.renderClipPath(),er(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();fS(p,"displayName",t),fS(p,"defaultProps",dS({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),fS(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=SS(e);return dS(dS(dS({},p),{},{updateId:0},f(dS(dS({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!En(c,t.prevMargin)){var h=SS(e),y={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},m=dS(dS({},jS(t,r,s)),{},{updateId:t.updateId+1}),v=dS(dS(dS({},h),y),m);return dS(dS(dS({},v),f(dS({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Qn(i,t.prevChildren)){var g,b,x,j,w=Yn(i,nx),O=w&&null!==(g=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==g?g:u,S=w&&null!==(x=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==x?x:d,_=O!==u||S!==d,k=!ln(r)&&!_?t.updateId:t.updateId+1;return dS(dS({updateId:k},f(dS(dS({props:e},t),{},{updateId:k,dataStartIndex:O,dataEndIndex:S}),t)),{},{prevChildren:i,dataStartIndex:O,dataEndIndex:S})}return null})),fS(p,"renderActiveDot",(function(e,t,n){var r;return r=It.isValidElement(e)?It.cloneElement(e,t):un(e)?e(t):Lt.createElement(qv,t),Lt.createElement(Sr,{className:"recharts-active-dot",key:n},r)}));var h=It.forwardRef((function(e,t){return Lt.createElement(p,JO({},e,{ref:t}))}));return h.displayName=p.displayName,h},CS=PS({chartName:"LineChart",GraphicalChild:sO,axisComponents:[{axisType:"xAxis",AxisComp:gO},{axisType:"yAxis",AxisComp:CO}],formatAxisMap:qx}),ES=PS({chartName:"BarChart",GraphicalChild:Lx,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gO},{axisType:"yAxis",AxisComp:CO}],formatAxisMap:qx}),TS=PS({chartName:"PieChart",GraphicalChild:Tb,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Dg},{axisType:"radiusAxis",AxisComp:xg}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,l=e.endAngle,c=_n(e.cx,o,o/2),u=_n(e.cy,a,a/2),d=qh(o,a,n),f=_n(e.innerRadius,d,0),p=_n(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,n){var o,a=t[n],d=a.domain,h=a.reversed;if(ln(a.range))"angleAxis"===r?o=[s,l]:"radiusAxis"===r&&(o=[f,p]),h&&(o=[o[1],o[0]]);else{var y=zh(o=a.range,2);s=y[0],l=y[1]}var m=jh(a,i),v=m.realScaleType,g=m.scale;g.domain(d).range(o),Oh(g);var b=kh(g,Lh(Lh({},a),{},{realScaleType:v})),x=Lh(Lh(Lh({},a),b),{},{range:o,radius:p,realScaleType:v,scale:g,cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:s,endAngle:l});return Lh(Lh({},e),{},Fh({},n,x))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const{Text:MS}=V,NS=({data:e,totalCost:t,totalDeductions:n,totalNetPay:r,loading:i=!1,onDepartmentClick:a})=>{const s=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},l=(e,t=!1)=>{const n=s(e,0),r=t?"¥":"";return n>=1e8?`${r}${(n/1e8).toFixed(1)}亿`:n>=1e4?`${r}${(n/1e4).toFixed(1)}万`:`${r}${Math.round(n).toLocaleString("zh-CN")}`},c=e.sort(((e,t)=>t.currentCost-e.currentCost)).map(((e,t)=>{const n=e.departmentName||"未知部门";return{department:n.length>3?n.slice(0,3)+"...":n,fullName:n,value:s(e.currentCost,0),employeeCount:s(e.employeeCount,0),netPay:s(e.currentNetPay,0),deductions:s(e.currentDeductions,0),color:e.color||`hsl(${137.5*t%360}, 70%, 60%)`,originalData:e}})),u=({active:e,payload:t,label:n})=>{if(e&&t&&t[0]){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:e.fullName}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"成本: "}),o.jsx("span",{className:"tooltip-value",children:l(e.value,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.employeeCount,"人"]})]})]})}return null},d=e=>{const{payload:t,x:n,y:r,width:i,height:s}=e;return o.jsx("rect",{x:n,y:r,width:i,height:s,fill:t.color,rx:2,style:{cursor:a?"pointer":"default"},onClick:()=>null==a?void 0:a(t.originalData)})};return i?o.jsx("div",{className:"mini-metric-card mini-department-cost",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(MS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-department-cost",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(q,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:l(t,!0)}),o.jsx("div",{className:"info-label",children:"总成本"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(H,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:e.length}),o.jsx("div",{className:"info-label",children:"部门"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:c.length>0?o.jsx(Qa,{width:"100%",height:"100%",children:o.jsxs(ES,{data:c,margin:{top:10,right:10,left:10,bottom:20},children:[o.jsx(gO,{dataKey:"department",axisLine:!1,tickLine:!1,tick:{fontSize:9,fill:"#666"},angle:-45,textAnchor:"end",height:35}),o.jsx(CO,{hide:!0}),o.jsx(qa,{content:u}),o.jsx(Lx,{dataKey:"value",shape:o.jsx(d,{}),fill:"#8884d8"})]})}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(G,{className:"empty-icon"}),o.jsx(MS,{type:"secondary",children:"暂无数据"})]})}),o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"summary-row",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(MS,{className:"summary-label",children:"实"}),o.jsx(MS,{className:"summary-value success",children:l(r,!0)})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(MS,{className:"summary-label",children:"扣"}),o.jsx(MS,{className:"summary-value error",children:l(n,!0)})]})]})})]})},{Text:DS}=V,IS=({data:e,totalEmployees:t,loading:r=!1,onTypeClick:i,periodId:a})=>{const[s,l]=It.useState({loading:!1,data:null});It.useEffect((()=>{a?(async()=>{if(a)try{l((e=>({...e,loading:!0})));const e=await Ft.getPersonnelCategoryStats(a);e&&e.data?(e.data.categories&&e.data.categories.length>0&&e.data.categories.forEach(((e,t)=>{})),l({loading:!1,data:e.data})):l({loading:!1,data:null})}catch(e){l({loading:!1,data:null})}else l({loading:!1,data:null})})():l({loading:!1,data:null}),"undefined"!=typeof window&&(window.testPersonnelStats=async e=>{var t,n;try{const r=await Ft.getPersonnelCategoryStats(e);return null==(n=null==(t=null==r?void 0:r.data)?void 0:t.categories)||n.length,r}catch(r){return null}},window.parsePersonnelStats=e=>{try{const t=null==e?void 0:e.data;if(!t)return;t.categories&&t.categories.length>0&&t.categories.forEach(((e,t)=>{}))}catch(t){}})}),[a]);const c=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},u=(e,t=!1)=>{if(null==e)return"0.00";const n="string"==typeof e?parseFloat(e):e;return isNaN(n)?"0.00":t&&n>=1e4?(n/1e4).toFixed(2)+"万":n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})};(()=>{const t=e.reduce(((e,t)=>e+c(t.newHires,0)),0),n=e.reduce(((e,t)=>e+c(t.departures,0)),0),r=t-n})();const d=(()=>{if(!e||0===e.length)return[];const t={"正编":"#1677ff","聘用":"#52c41a","临聘":"#faad14","合同制":"#f5222d","实习":"#722ed1","退休":"#13c2c2","劳务":"#eb2f96","编外":"#fa8c16","兼职":"#08979c","顾问":"#7cb305","返聘":"#c41d7f","代理":"#2f54eb","见习":"#a0d911"};return[...e].sort(((e,t)=>t.employeeCount-e.employeeCount)).map(((e,n)=>{const r=e.typeName||"未分类";let i="#cccccc";for(const[o,a]of Object.entries(t))if(r.includes(o)){i=a;break}return{type:r.length>4?r.substring(0,4):r,fullName:r,value:Math.max(c(e.employeeCount,0),0),percentage:c(e.percentage,0),color:i,avgSalary:c(e.avgSalary,0),totalCost:c(e.totalCost,0),typeId:e.typeId||"unknown",employeeCount:e.employeeCount}}))})();return r?o.jsx("div",{className:"mini-metric-card mini-employee-type",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(DS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-employee-type",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(Y,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:t}),o.jsx("div",{className:"info-label",children:"总人数"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(K,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:e.length}),o.jsx("div",{className:"info-label",children:"编制类型"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:r?o.jsxs("div",{className:"empty-chart",children:[o.jsx(W,{size:"small"}),o.jsx(DS,{type:"secondary",children:"加载中..."})]}):d.length>0&&d.some((e=>e.value>0))?o.jsxs("div",{className:"chart-with-stats",children:[s.data&&Array.isArray(s.data.categories)&&s.data.categories.length>0&&(()=>{const e=s.data.categories.find((e=>"正编"===e.personnel_category));return e?o.jsxs("div",{className:"personnel-stat-item left",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(H,{className:"stat-icon primary"}),o.jsxs(DS,{className:"stat-label",children:["正编 ",e.employee_count,"人"]})]}),o.jsxs("div",{className:"stat-details",children:[o.jsxs(DS,{className:"detail-text",children:["应发:",u(e.gross_pay_total,!1)]}),o.jsxs(DS,{className:"detail-text",children:["实发:",u(e.net_pay_total,!1)]})]})]}):null})(),o.jsx(Qa,{width:"60%",height:"100%",aspect:1,children:o.jsxs(TS,{margin:{top:0,right:0,bottom:0,left:0},children:[o.jsx(Tb,{data:d,cx:"50%",cy:"50%",outerRadius:"80%",innerRadius:"55%",paddingAngle:2,dataKey:"value",onClick:e=>{const t=e.find((t=>t.typeName===e.fullName));t&&i&&i(t)},style:{cursor:i?"pointer":"default"},children:d.map(((e,t)=>{const n=["#1677ff","#52c41a","#faad14","#f5222d","#722ed1","#13c2c2","#eb2f96","#2f54eb","#fa8c16","#a0d911","#1890ff","#fa541c","#08979c","#531dab","#7cb305","#c41d7f"];return o.jsx(Ja,{fill:n[t%n.length]},`cell-${t}`)}))}),o.jsx(qa,{content:({active:e,payload:t})=>{if(e&&t&&t[0]){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:e.fullName}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.value,"人"]})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"占比: "}),o.jsxs("span",{className:"tooltip-value",children:[e.percentage.toFixed(1),"%"]})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"平均薪资: "}),o.jsx("span",{className:"tooltip-value",children:u(e.avgSalary,!0)})]})]})}return null}}),o.jsx("text",{x:"50%",y:"48%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"18px",fontWeight:"bold",fill:"#1677ff"},children:t}),o.jsx("text",{x:"50%",y:"58%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"10px",fill:"#8c8c8c"},children:"总人数"})]})}),s.data&&Array.isArray(s.data.categories)&&s.data.categories.length>0&&(()=>{const e=s.data.categories.find((e=>"聘用"===e.personnel_category));return e?o.jsxs("div",{className:"personnel-stat-item right",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(K,{className:"stat-icon secondary"}),o.jsxs(DS,{className:"stat-label",children:["聘用 ",e.employee_count,"人"]})]}),o.jsxs("div",{className:"stat-details",children:[o.jsxs(DS,{className:"detail-text",children:["应发:",u(e.gross_pay_total,!1)]}),o.jsxs(DS,{className:"detail-text",children:["实发:",u(e.net_pay_total,!1)]})]})]}):null})()]}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(X,{className:"empty-icon"}),o.jsx(DS,{type:"secondary",children:"暂无数据"})]})}),!s.data&&o.jsx("div",{className:"mini-card-summary",children:s.loading?o.jsxs("div",{className:"summary-loading",children:[o.jsx(W,{size:"small"}),o.jsx(DS,{type:"secondary",children:"加载统计中..."})]}):o.jsxs("div",{className:"personnel-stats-empty",children:[o.jsx(Y,{className:"empty-icon"}),o.jsx(DS,{type:"secondary",children:"暂无编制统计数据"}),o.jsx(Z,{title:"数据获取情况",children:o.jsx(Q,{type:"text",icon:o.jsx(J,{}),size:"small",onClick:()=>{n.info(`期间ID: ${a||"未设置"}`)}})})]})}),s.data&&s.data.summary&&o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"personnel-stats-row",children:[o.jsxs("div",{className:"personnel-stat-item left",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(ee,{className:"stat-icon primary"}),o.jsx(DS,{className:"stat-label",children:"总应发"})]}),o.jsx("div",{className:"stat-details",children:o.jsx(DS,{className:"detail-text",children:u(s.data.summary.total_gross_pay,!1)})})]}),o.jsxs("div",{className:"personnel-stat-item right",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx(ee,{className:"stat-icon secondary"}),o.jsx(DS,{className:"stat-label",children:"总实发"})]}),o.jsx("div",{className:"stat-details",children:o.jsx(DS,{className:"detail-text",children:u(s.data.summary.total_net_pay,!1)})})]})]})})]})},{Text:BS}=V,RS=({data:e,loading:t=!1,onExport:n})=>{if(e.length>0){e[e.length-1]}const r=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},a=(e,t=!1)=>{const n=r(e,0),i=t?"¥":"";return n>=1e8?`${i}${(n/1e8).toFixed(1)}亿`:n>=1e4?`${i}${(n/1e4).toFixed(1)}万`:`${i}${Math.round(n).toLocaleString("zh-CN")}`},s=It.useMemo((()=>{if(e.length<1)return{direction:"stable",percentage:0,currentMonth:0,previousMonth:0,change:0};const t=e.filter((e=>r(e.grossSalary)>0));if(0===t.length)return{direction:"stable",percentage:0,currentMonth:0,previousMonth:0,change:0};const n=t[t.length-1],i=t.length>1?t[t.length-2]:null,o=r(n.grossSalary,0),a=i?r(i.grossSalary,0):0,s=o-a,l=0===a?0:s/a*100;return{direction:s>.01?"up":s<-.01?"down":"stable",percentage:Math.abs(l),currentMonth:o,previousMonth:a,change:Math.abs(s)}}),[e]),l=e.sort(((e,t)=>{const n=e.month?new Date(e.month):new Date(0),r=t.month?new Date(t.month):new Date(0);return n.getTime()-r.getTime()})).slice(-6).filter((e=>e&&e.month)).map((e=>({month:e.monthLabel||i(e.month).format("M月"),grossSalary:r(e.grossSalary,0),netSalary:r(e.netSalary,0),deductions:r(e.deductions,0),employeeCount:r(e.employeeCount,0)}))),c=(new Date).getFullYear(),u=e.filter((e=>{var t;return((null==(t=e.month)?void 0:t.substring(0,4))||(e.monthLabel?c.toString():""))===c.toString()})),d=u.reduce(((e,t)=>e+r(t.grossSalary,0)),0),f=c-1;e.filter((e=>{var t;return((null==(t=e.month)?void 0:t.substring(0,4))||"")===f.toString()})).reduce(((e,t)=>e+r(t.grossSalary,0)),0);return t?o.jsx("div",{className:"mini-metric-card mini-salary-trend",children:o.jsxs("div",{className:"mini-card-loading",children:[o.jsx(W,{size:"small"}),o.jsx(BS,{type:"secondary",children:"加载中..."})]})}):o.jsxs("div",{className:"mini-metric-card mini-salary-trend",children:[o.jsxs("div",{className:"mini-card-header",children:[o.jsxs("div",{className:"icon-info primary",children:[o.jsx("div",{className:"icon-wrapper",children:o.jsx(q,{className:"metric-icon"})}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",children:(()=>{const t=(new Date).getFullYear();return`¥${(e.filter((e=>{var n;return((null==(n=e.month)?void 0:n.substring(0,4))||(e.monthLabel?t.toString():""))===t.toString()})).reduce(((e,t)=>e+r(t.grossSalary,0)),0)/1e4).toFixed(1)}万`})()}),o.jsx("div",{className:"info-label",children:"本年应发"})]})]}),o.jsxs("div",{className:"icon-info secondary",children:[o.jsx("div",{className:"icon-wrapper",style:{color:(()=>{switch(s.direction){case"up":return"#52c41a";case"down":return"#ff4d4f";default:return"#8c8c8c"}})()},children:(()=>{switch(s.direction){case"up":return o.jsx(oe,{className:"trend-icon up"});case"down":return o.jsx(ie,{className:"trend-icon down"});default:return o.jsx(re,{className:"trend-icon stable"})}})()}),o.jsxs("div",{className:"info-content",children:[o.jsx("div",{className:"info-value",style:{color:"#8c8c8c"},children:(()=>{const t=c-1,n=e.filter((e=>{var n;return((null==(n=e.month)?void 0:n.substring(0,4))||"")===t.toString()})),i=n.reduce(((e,t)=>e+r(t.grossSalary,0)),0);if(0===n.length||0===i)return"-";return`${((d-i)/i*100).toFixed(1)}%`})()}),o.jsx("div",{className:"info-label",children:"同比"})]})]})]}),o.jsx("div",{className:"mini-chart-container",children:t?o.jsxs("div",{className:"empty-chart",children:[o.jsx(W,{size:"small"}),o.jsx(BS,{type:"secondary",children:"加载中..."})]}):l.length>0?o.jsx(Qa,{width:"100%",height:"100%",children:o.jsxs(CS,{data:l,margin:{top:10,right:10,left:10,bottom:10},children:[o.jsx(Vw,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(gO,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#666"}}),o.jsx(CO,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#666"},tickFormatter:e=>a(e,!1)}),o.jsx(qa,{content:({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const e=t[0].payload;return o.jsxs("div",{className:"custom-tooltip",children:[o.jsx("p",{className:"tooltip-title",children:n}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#1677ff"},children:"应发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.grossSalary,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#52c41a"},children:"实发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.netSalary,!0)})]}),o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{style:{color:"#ff7875"},children:"扣发合计: "}),o.jsx("span",{className:"tooltip-value",children:a(e.deductions,!0)})]}),e.employeeCount>0&&o.jsxs("p",{className:"tooltip-item",children:[o.jsx("span",{children:"人数: "}),o.jsxs("span",{className:"tooltip-value",children:[e.employeeCount,"人"]})]})]})}return null}}),o.jsx(sO,{type:"monotone",dataKey:"grossSalary",stroke:"#1677ff",strokeWidth:1.5,dot:{r:2,fill:"#1677ff"},activeDot:{r:4,fill:"#1677ff"}}),o.jsx(sO,{type:"monotone",dataKey:"netSalary",stroke:"#52c41a",strokeWidth:1.5,dot:{r:2,fill:"#52c41a"},activeDot:{r:4,fill:"#52c41a"}}),o.jsx(sO,{type:"monotone",dataKey:"deductions",stroke:"#ff7875",strokeWidth:1.5,dot:!1,activeDot:{r:4,fill:"#ff7875"}})]})}):o.jsxs("div",{className:"empty-chart",children:[o.jsx(te,{className:"empty-icon"}),o.jsx(BS,{type:"secondary",children:"暂无数据"})]})}),o.jsx("div",{className:"mini-card-summary",children:o.jsxs("div",{className:"summary-row",children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(BS,{className:"summary-label",children:"范围"}),o.jsx(BS,{className:"summary-value",children:u.length>0?`${c}/${u.length}月`:"-"})]}),o.jsx("div",{className:"summary-action",children:o.jsx("button",{type:"button",className:"export-button",onClick:n,title:"导出数据",children:o.jsx(ne,{className:"export-icon"})})})]})})]})};class LS extends It.Component{constructor(e){super(e),t(this,"handleRetry",(()=>{this.setState({hasError:!1,error:void 0})})),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{style:{padding:"24px",background:"#fff",border:"1px solid #f0f0f0",borderRadius:"8px",textAlign:"center"},children:o.jsx(ae,{icon:o.jsx(se,{style:{color:"#ff4d4f"}}),title:"指标卡加载失败",subTitle:"组件渲染出现错误",extra:o.jsx(Q,{type:"primary",size:"small",onClick:this.handleRetry,children:"重试"})})}):this.props.children}}const{Title:FS}=V,zS=({title:e="关键指标概览",periodId:t,departmentCostData:n=[],totalCost:i=0,totalDeductions:a=0,totalNetPay:s=0,departmentCostLoading:l=!1,employeeTypeData:c=[],totalEmployees:u=0,employeeTypeLoading:d=!1,salaryTrendData:f=[],salaryTrendLoading:p=!1,onViewDetails:h,onDepartmentClick:y,onEmployeeTypeClick:m,onExportTrend:v})=>{const[g,b]=It.useState(!1),[x,j]=It.useState(!1),w=(e,t=0)=>{if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)?t:n}return t},O=e=>{try{null==y||y(e)}catch(t){}},S=e=>{try{null==m||m(e)}catch(t){}},_=()=>{try{null==v||v()}catch(e){}},k=()=>o.jsxs("div",{className:"metrics-container",children:[o.jsx("div",{className:"metric-column",children:o.jsx(LS,{children:o.jsx(NS,{data:n,totalCost:w(i,0),totalDeductions:w(a,0),totalNetPay:w(s,0),loading:l,onDepartmentClick:O})})}),o.jsx("div",{className:"metric-column",children:o.jsx(LS,{children:o.jsx(IS,{data:c,totalEmployees:w(u,0),loading:d,periodId:t,onTypeClick:S})})}),o.jsx("div",{className:"metric-column",children:o.jsx(LS,{children:o.jsx(RS,{data:f,loading:p,onExport:_})})})]});return o.jsxs(o.Fragment,{children:[o.jsxs(le,{className:"combined-metrics-card",children:[o.jsxs("div",{className:"metrics-header",children:[o.jsxs("div",{className:"metrics-title-wrapper",children:[o.jsx(ce,{className:"metrics-icon"}),o.jsx(FS,{level:5,className:"metrics-title",children:e})]}),o.jsx("div",{className:"metrics-controls",children:o.jsxs(ue,{children:[o.jsx("button",{type:"button",className:"control-button",onClick:()=>{j(!x)},title:x?"展开":"收起",children:x?o.jsx(de,{}):o.jsx(fe,{})}),o.jsx("button",{type:"button",className:"control-button",onClick:()=>{b(!0)},title:"弹出查看",children:o.jsx(pe,{})}),o.jsx("button",{type:"button",className:"control-button",onClick:()=>{try{null==h||h()}catch(e){}},title:"查看详情",children:o.jsx(de,{})})]})})]}),!x&&k()]}),o.jsx(r,{title:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ce,{}),o.jsx("span",{children:e})]}),open:g,onCancel:()=>{b(!1)},footer:null,width:"90vw",style:{top:20},styles:{body:{padding:"16px"}},destroyOnClose:!0,children:o.jsx("div",{style:{minHeight:"30vh"},children:k()})})]})},$S=({selectedVersionId:e,currentPeriod:t,currentVersion:r,versions:a,payrollStats:s,dataIntegrityStats:l,auditSummary:c,auditLoading:u,resetLoadingStates:d})=>{const[f,p]=It.useState([]),[h,y]=It.useState([]),[m,v]=It.useState([]),[g,b]=It.useState(new Map),[x,j]=It.useState({departmentCost:!1,employeeType:!1,salaryTrend:!1,monthlyData:!1}),w=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],O={regular:"#3b82f6",contract:"#f59e0b",intern:"#10b981",consultant:"#ef4444",default:"#8b5cf6"},S=async e=>{var t;if(e){j((e=>({...e,employeeType:!0})));try{const r=await Ft.getEmployeeTypeAnalysis(e);if(r.data&&(null==(t=r.data.employee_types)?void 0:t.length)>0){const e=r.data.employee_types.map(((e,t)=>{const n=e.type_name.includes("正编")?"regular":e.type_name.includes("聘用")?"contract":e.type_name.includes("实习")?"intern":e.type_name.includes("顾问")?"consultant":"default",r=Number(e.avg_salary||0),i=Number(e.total_cost||0);return{typeId:e.personnel_category_id||0,typeName:e.type_name,employeeCount:e.employee_count||0,percentage:e.percentage||0,avgSalary:r,totalCost:i,previousCount:e.previous_count||e.employee_count,countChange:e.count_change||0,newHires:e.new_hires||0,departures:e.departures||0,color:O[n]||O.default,details:{senior:Math.round(.2*(e.employee_count||0)),middle:Math.round(.5*(e.employee_count||0)),junior:Math.round(.3*(e.employee_count||0))}}}));y(e)}else y([]),n.warning("暂无员工编制数据")}catch(r){y([])}finally{j((e=>({...e,employeeType:!1})))}}};It.useEffect((()=>{e&&t?((async e=>{var t;if(e){j((e=>({...e,departmentCost:!0})));try{const n=await Ft.getDepartmentCostAnalysis(e);if(n.data&&(null==(t=n.data.departments)?void 0:t.length)>0){const e=n.data.departments.map(((e,t)=>({departmentId:e.department_id||t+1,departmentName:e.department_name,currentCost:Number(e.current_cost)||0,currentDeductions:Number(e.current_deductions)||0,currentNetPay:Number(e.current_net_pay)||0,previousCost:Number(e.previous_cost)||0,previousDeductions:Number(e.previous_deductions)||0,previousNetPay:Number(e.previous_net_pay)||0,employeeCount:e.employee_count||0,avgCostPerEmployee:Number(e.avg_cost_per_employee)||0,avgDeductionsPerEmployee:Number(e.avg_deductions_per_employee)||0,avgNetPayPerEmployee:Number(e.avg_net_pay_per_employee)||0,percentage:e.percentage||0,costChange:e.cost_change?Number(e.cost_change):void 0,costChangeRate:e.cost_change_rate?Number(e.cost_change_rate):void 0,netPayChange:e.net_pay_change?Number(e.net_pay_change):void 0,netPayChangeRate:e.net_pay_change_rate?Number(e.net_pay_change_rate):void 0,color:w[t%w.length]})));p(e)}else p([])}catch(n){p([])}finally{j((e=>({...e,departmentCost:!1})))}}})(t.id),S(t.id),(async()=>{var e;j((e=>({...e,salaryTrend:!0})));try{const t=await Ft.getSalaryTrendAnalysis(12);if(t.data&&(null==(e=t.data.data_points)?void 0:e.length)>0){const e=t.data.data_points||[];if(e.length>0){const t=[...e.map((e=>{const t="string"==typeof e.gross_salary?parseFloat(e.gross_salary):"number"==typeof e.gross_salary?e.gross_salary:0,n="string"==typeof e.deductions?parseFloat(e.deductions):"number"==typeof e.deductions?e.deductions:0,r="string"==typeof e.net_salary?parseFloat(e.net_salary):"number"==typeof e.net_salary?e.net_salary:0;return{month:e.year_month,monthLabel:i(e.year_month).format("M月"),grossSalary:t,deductions:n,netSalary:r,employeeCount:e.employee_count||0,avgGrossSalary:Number(e.avg_gross_salary)||0,avgNetSalary:Number(e.avg_net_salary)||0}}))].sort(((e,t)=>{const n=e.month?new Date(e.month):new Date(0),r=t.month?new Date(t.month):new Date(0);return n.getTime()-r.getTime()}));v(t)}else v([]),n.warning("暂无工资趋势数据")}else v([]),n.warning("暂无工资趋势数据")}catch(t){n.error("获取工资趋势数据失败"),v([])}finally{j((e=>({...e,salaryTrend:!1})))}})()):(p([]),y([]),v([]))}),[e,null==t?void 0:t.id]),It.useEffect((()=>{(async()=>{j((e=>({...e,monthlyData:!0})));try{const e=i(),t=e.year()-2,n=e.year()+1,r=await Ft.getMonthlySummary(t,n),o=new Map;r.data&&r.data.forEach((e=>{const t=`${e.year}-${e.month}`;o.set(t,e)})),b(o)}catch(e){}finally{j((e=>({...e,monthlyData:!1})))}})(),"undefined"!=typeof window&&(window.debugPayrollStats={getCurrentPeriod:()=>t,getSelectedVersionId:()=>e,getEmployeeTypeData:()=>h,getDepartmentCostData:()=>f,getPayrollStats:()=>s,getLoadingStates:()=>x,testFetchEmployeeTypeData:e=>S(e),testPersonnelCategoryStats:async e=>{try{return await Ft.getPersonnelCategoryStats(e)}catch(t){return null}}})}),[]);return e?o.jsxs("div",{className:"enhanced-payroll-statistics",children:[o.jsx("div",{className:"stats-grid sticky-stats",children:o.jsx(he.Group,{title:o.jsxs(ue,{children:[o.jsx(q,{}),o.jsxs("span",{className:"typography-title-tertiary",children:[(null==t?void 0:t.name)||""," 工资统计概览"]})]}),extra:null,loading:s.loading,style:{marginBottom:6},children:o.jsxs(ye,{gutter:[8,8],justify:"space-between",align:"stretch",children:[o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"工资记录数量",value:s.recordCount,suffix:"条",valueStyle:{color:"#722ed1"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["社保: ",o.jsx("span",{style:{color:((null==l?void 0:l.socialInsuranceBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==l?void 0:l.socialInsuranceBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["公积金: ",o.jsx("span",{style:{color:((null==l?void 0:l.housingFundBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==l?void 0:l.housingFundBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["职业年金: ",o.jsx("span",{style:{color:((null==l?void 0:l.occupationalPensionBaseCount)||0)>0?"#52c41a":"#ff4d4f"},children:(null==l?void 0:l.occupationalPensionBaseCount)||0})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["个税>0: ",o.jsx("span",{style:{color:((null==l?void 0:l.incomeTaxPositiveCount)||0)>0?"#52c41a":"#fa8c16"},children:(null==l?void 0:l.incomeTaxPositiveCount)||0})]})]}),loading:s.loading||(null==l?void 0:l.loading)||!1})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"财务信息",value:s.totalNetPay,precision:2,prefix:"¥",valueStyle:{color:"#52c41a",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["应发: ",o.jsxs("span",{style:{color:"#52c41a",fontWeight:"bold"},children:["¥",s.totalGrossPay.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["扣发: ",o.jsxs("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:["¥",s.totalDeductions.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["平均: ",o.jsxs("span",{style:{fontWeight:"bold"},children:["¥",s.recordCount>0?(s.totalNetPay/s.recordCount).toFixed(0):"0"]})]})]})})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"版本状态",value:(null==r?void 0:r.status_name)||"-",valueStyle:{color:"草稿"===(null==r?void 0:r.status_name)?"#fa8c16":"已计算"===(null==r?void 0:r.status_name)?"#1890ff":"已审核"===(null==r?void 0:r.status_name)?"#52c41a":"已支付"===(null==r?void 0:r.status_name)?"#722ed1":"#8c8c8c"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["创建: ",r?i(r.initiated_at).format("MM-DD HH:mm"):"-"]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["创建人: ",(null==r?void 0:r.initiated_by_username)||"-"]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["频率: ",(null==t?void 0:t.frequency_name)||"-"]})]})})}),o.jsx(me,{xs:24,sm:12,md:8,lg:6,xl:4,xxl:4,flex:"1",children:o.jsx(he,{statistic:{title:"审核状态",value:c?c.error_count-(c.manually_ignored_count||0)>0?"有异常":"通过":u?"检查中":"待审核",valueStyle:{color:c?c.error_count-(c.manually_ignored_count||0)>0?"#ff4d4f":"#52c41a":u?"#1890ff":"#fa8c16"}},chart:o.jsxs("div",{style:{padding:"1px 0"},children:[o.jsx(ve,{style:{margin:"1px 0"}}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["错误: ",o.jsxs("span",{style:{color:((null==c?void 0:c.error_count)||0)>0?"#ff4d4f":"#52c41a"},children:[(null==c?void 0:c.error_count)||0," 个"]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",marginBottom:"1px",lineHeight:"1.1"},children:["警告: ",o.jsxs("span",{style:{color:((null==c?void 0:c.warning_count)||0)>0?"#fa8c16":"#52c41a"},children:[(null==c?void 0:c.warning_count)||0," 个"]})]}),o.jsxs("div",{style:{fontSize:"10px",color:"#666",lineHeight:"1.1"},children:["可修复: ",o.jsxs("span",{style:{color:((null==c?void 0:c.auto_fixable_count)||0)>0?"#1890ff":"#52c41a"},children:[(null==c?void 0:c.auto_fixable_count)||0," 个"]})]})]})})})]})})}),e&&o.jsxs(o.Fragment,{children:[null,o.jsx(zS,{title:"关键指标概览",periodId:null==t?void 0:t.id,departmentCostData:f,totalCost:s.totalGrossPay||0,totalDeductions:s.totalDeductions||0,totalNetPay:s.totalNetPay||0,departmentCostLoading:x.departmentCost,employeeTypeData:h,totalEmployees:s.recordCount||0,employeeTypeLoading:x.employeeType,salaryTrendData:m,salaryTrendLoading:x.salaryTrend,onViewDetails:()=>{},onDepartmentClick:e=>{},onEmployeeTypeClick:e=>{},onExportTrend:()=>{}})]})]}):null},{Option:US}=Ce,WS=({visible:e,onClose:t,onSuccess:i})=>{const{t:a}=Wt(["employeeManagement","common"]),[s]=ke.useForm(),[l,c]=It.useState(!1),[u,d]=It.useState(!1),[f,p]=It.useState([]),[h,y]=It.useState([]),[m,v]=It.useState([]),[g,b]=It.useState([]),[x,j]=It.useState([]),[w,O]=It.useState([]);Lt.useEffect((()=>{if(e){(async()=>{c(!0);try{const[e,t,n,r,i,o]=await Promise.all([Vt.getDepartments(),Vt.getPersonnelCategories(),Vt.getPositions(),Vt.getLookupValues("JOB_POSITION_LEVEL"),Vt.getLookupValues("GENDER"),Vt.getLookupValues("EMPLOYEE_STATUS")]);p(e),y(t),v(n),b(r),j(i),O(o)}catch(e){n.error("加载选项失败")}finally{c(!1)}})()}}),[e]);return o.jsx(r,{title:"快速添加员工",open:e,onCancel:t,width:600,footer:[o.jsx(Q,{onClick:t,children:"取消"},"cancel"),o.jsx(Q,{type:"primary",loading:u,onClick:async()=>{try{const e=await s.validateFields();d(!0);const r={first_name:e.first_name,last_name:e.last_name,employee_code:e.employee_code,gender_lookup_value_id:e.gender_lookup_value_id,hire_date:e.hire_date?e.hire_date.format("YYYY-MM-DD"):void 0,department_id:e.department_id,personnel_category_id:e.personnel_category_id,actual_position_id:e.actual_position_id,job_position_level_lookup_value_id:e.job_position_level_lookup_value_id,status_lookup_value_id:e.status_lookup_value_id,email:e.email,phone_number:e.phone_number,is_active:!0};await Vt.createEmployee(r),n.success("员工创建成功"),s.resetFields(),i(),t()}catch(e){n.error("创建员工失败："+(e.message||"未知错误"))}finally{d(!1)}},children:"创建员工"},"submit")],children:o.jsx(W,{spinning:l,children:o.jsxs(ke,{form:s,layout:"vertical",initialValues:{is_active:!0},children:[o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"last_name",label:"姓",rules:[{required:!0,message:"请输入姓"}],children:o.jsx(Pe,{placeholder:"请输入姓"})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"first_name",label:"名",rules:[{required:!0,message:"请输入名"}],children:o.jsx(Pe,{placeholder:"请输入名"})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"employee_code",label:"员工编号",children:o.jsx(Pe,{placeholder:"请输入员工编号"})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"gender_lookup_value_id",label:"性别",rules:[{required:!0,message:"请选择性别"}],children:o.jsx(Ce,{placeholder:"请选择性别",loading:l,children:x.map((e=>o.jsx(US,{value:e.id,children:e.label},e.id)))})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"email",label:"邮箱",rules:[{type:"email",message:"请输入有效的邮箱地址"}],children:o.jsx(Pe,{placeholder:"请输入邮箱"})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"phone_number",label:"电话号码",children:o.jsx(Pe,{placeholder:"请输入电话号码"})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"hire_date",label:"入职日期",rules:[{required:!0,message:"请选择入职日期"}],children:o.jsx(Ee,{style:{width:"100%"},placeholder:"请选择入职日期"})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"department_id",label:"部门",children:o.jsx(Ce,{placeholder:"请选择部门",loading:l,onChange:async e=>{try{const t=await Vt.getPersonnelCategories(e);y(t),s.setFieldValue("personnel_category_id",void 0)}catch(t){}},children:f.map((e=>o.jsx(US,{value:e.id,children:e.name},e.id)))})})})]}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"personnel_category_id",label:"人员身份",children:o.jsx(Ce,{placeholder:"请选择人员身份",loading:l,children:h.map((e=>o.jsx(US,{value:e.id,children:e.name},e.id)))})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"actual_position_id",label:"实际任职",children:o.jsx(Ce,{placeholder:"请选择实际任职",loading:l,children:m.map((e=>o.jsx(US,{value:e.id,children:e.name},e.id)))})})})]}),o.jsx(ye,{gutter:16,children:o.jsx(me,{span:24,children:o.jsx(ke.Item,{name:"job_position_level_lookup_value_id",label:"职务级别",children:o.jsx(Ce,{placeholder:"请选择职务级别",loading:l,children:g.map((e=>o.jsx(US,{value:e.id,children:e.label},e.id)))})})})}),o.jsx(ye,{gutter:16,children:o.jsx(me,{span:24,children:o.jsx(ke.Item,{name:"status_lookup_value_id",label:"员工状态",rules:[{required:!0,message:"请选择员工状态"}],children:o.jsx(Ce,{placeholder:"请选择员工状态",loading:l,children:w.map((e=>o.jsx(US,{value:e.id,children:e.label},e.id)))})})})})]})})})},VS=({selectedPeriodId:e,selectedVersionId:t,handleNavigateToBulkImport:i,handleImportTaxData:a,setPayrollDataModalVisible:s,onRefresh:l,onRefreshAfterDelete:c})=>{const{t:u}=Wt(["simplePayroll","common"]),[d,f]=It.useState({}),[p,h]=It.useState(!1),[y,m]=It.useState(!1);return e?o.jsxs(ge,{title:o.jsxs(ue,{children:[o.jsx(_e,{}),u("simplePayroll:quickActions.title")]}),bordered:!0,style:{marginBottom:16},bodyStyle:{padding:"12px"},children:[o.jsxs(ue,{direction:"vertical",style:{width:"100%"},size:"small",children:[o.jsx(Q,{onClick:()=>s(!0),block:!0,size:"middle",icon:o.jsx(be,{}),disabled:!t,children:"浏览工资数据"}),o.jsx(Q,{onClick:i,block:!0,size:"middle",icon:o.jsx(xe,{}),children:u("simplePayroll:quickActions.bulkImport")}),o.jsx(Q,{onClick:async()=>{e?r.confirm({title:"复制上月数据",icon:o.jsx(je,{style:{color:"#1890ff"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("p",{children:"请选择要复制的数据类型："}),o.jsxs(ke,{layout:"vertical",children:[o.jsx(ke.Item,{children:o.jsx(Ae,{defaultChecked:!0,children:"工资记录"})}),o.jsx(ke.Item,{children:o.jsx(Ae,{defaultChecked:!0,children:"缴费基数（社保、公积金、职业年金）"})})]}),o.jsx("p",{style:{marginTop:8,fontSize:"12px",color:"#666"},children:"将从上月复制选中的数据到当前期间"})]}),okText:"确认复制",cancelText:"取消",onOk:async()=>{var t,i,a,s,c,u,d,p,h,y,m,v,g,b,x,j;const w=document.querySelectorAll(".ant-modal-content .ant-checkbox-wrapper"),O=!1!==(null==(i=null==(t=w[0])?void 0:t.querySelector("input"))?void 0:i.checked),S=!1!==(null==(s=null==(a=w[1])?void 0:a.querySelector("input"))?void 0:s.checked);if(!O&&!S)return void n.warning("请至少选择一种数据类型进行复制");let _=null,k=null;try{f((e=>({...e,copy_payroll_entries:O,copy_base_amounts:S})));const t=(await Ft.getPayrollPeriods({})).data;if(_=t.find((t=>t.id===e)),!_)return void n.error("无法找到当前期间信息");if(O){const t=await Ft.checkExistingData(e);if(t.data.summary.total_payroll_entries>0){const e=t.data.summary;return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间已有工资记录"}),o.jsxs("div",{children:["📋 期间：",_.name]}),o.jsxs("div",{children:["👥 工资记录：",e.total_payroll_entries," 条"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"请先删除现有工资记录或选择其他期间"})]}),duration:8})}}if(S){const t=await Ft.checkExistingInsuranceBase(e);if(t.data.has_insurance_base_data){const e=t.data.base_configs;return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间已有缴费基数配置"}),o.jsxs("div",{children:["📋 期间：",_.name]}),o.jsxs("div",{children:["👥 涉及员工：",e.unique_employees," 人"]}),e.employees_with_social_base>0&&o.jsxs("div",{children:["🏥 有社保基数：",e.employees_with_social_base," 人"]}),e.employees_with_housing_base>0&&o.jsxs("div",{children:["🏠 有公积金基数：",e.employees_with_housing_base," 人"]}),e.employees_with_occupational_pension_base>0&&o.jsxs("div",{children:["💰 有职业年金基数：",e.employees_with_occupational_pension_base," 人"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:t.data.recommendation.message})]}),duration:8})}}const r=e=>{let t=e.match(/(\d{4})年(\d{1,2})月/);if(t){return{year:parseInt(t[1]),month:parseInt(t[2])}}if(t=e.match(/(\d{4})-(\d{1,2})/),t){return{year:parseInt(t[1]),month:parseInt(t[2])}}return null},i=t.filter((e=>{const t=r(_.name),n=r(e.name);return!(!t||!n)&&(n.year<t.year||n.year===t.year&&n.month<t.month)})).sort(((e,t)=>{const n=r(e.name),i=r(t.name);return n&&i?n.year!==i.year?i.year-n.year:i.month-n.month:0}));if(0===i.length)return void n.warning("没有找到更早的期间，无法复制工资记录");k=i[0];let a=!1,s=!1;if(O){const t=await Ft.copyPreviousPayroll({target_period_id:e,source_period_id:k.id,description:`复制 ${k.name} 工资记录到 ${_.name}`,force_overwrite:!1});t.data?(a=!0,S||n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 工资记录复制成功"}),o.jsxs("div",{children:["📋 从 ",k.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 运行ID: ",t.data.id]}),o.jsxs("div",{children:["📊 版本: ",t.data.version_number]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"薪资条目记录已复制，可以运行计算引擎"})]}),duration:6})):n.error("复制工资记录失败")}if(S)try{const t=await Ft.copyInsuranceBaseAmounts({source_period_id:k.id,target_period_id:e});t.data&&t.data.success?(s=!0,O||n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 缴费基数复制成功"}),o.jsxs("div",{children:["📋 从 ",k.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 新建: ",t.data.copied_count," 条"]}),o.jsxs("div",{children:["🔄 更新: ",t.data.updated_count," 条"]}),o.jsxs("div",{children:["⏭ 跳过: ",t.data.skipped_count," 条"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"})]}),duration:6})):n.error("复制缴费基数失败")}catch(A){const e=(null==(d=null==(u=null==(c=null==A?void 0:A.response)?void 0:c.data)?void 0:u.detail)?void 0:d.message)||(null==A?void 0:A.message)||"复制缴费基数失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 复制缴费基数失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}a&&s&&n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 数据复制成功"}),o.jsxs("div",{children:["📋 从 ",k.name," 复制到 ",_.name]}),o.jsx("div",{children:"✅ 工资记录和缴费基数已成功复制"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"包含社保、公积金和职业年金基数"}),o.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"现在可以运行计算引擎"})]}),duration:6}),null==l||l()}catch(P){if((409===(null==(p=P.response)?void 0:p.status)||422===(null==(h=P.response)?void 0:h.status))&&"CONFIRMATION_REQUIRED"===(null==(g=null==(v=null==(m=null==(y=P.response)?void 0:y.data)?void 0:m.detail)?void 0:v.error)?void 0:g.code)){const t=P.response.data.detail.error.existing_data;return void r.confirm({title:"目标期间已有数据",content:o.jsxs("div",{children:[o.jsxs("p",{children:["期间 ",o.jsx("strong",{children:t.target_period_name})," 已有数据："]}),o.jsxs("ul",{children:[o.jsxs("li",{children:["工资运行: ",t.summary.total_payroll_runs," 个"]}),o.jsxs("li",{children:["工资条目: ",t.summary.total_payroll_entries," 条"]}),o.jsxs("li",{children:["薪资配置: ",t.summary.total_salary_configs," 条"]})]}),o.jsx("p",{children:"是否要强制覆盖现有数据？"})]}),okText:"强制覆盖",cancelText:"取消",onOk:async()=>{var t,r,i;try{f((e=>({...e,copy_payroll_entries:!0})));const t=await Ft.copyPreviousPayroll({target_period_id:e,source_period_id:k.id,description:`复制 ${k.name} 工资记录到 ${_.name}`,force_overwrite:!0});t.data&&(n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 工资记录复制成功（已覆盖）"}),o.jsxs("div",{children:["📋 从 ",k.name," 复制到 ",_.name]}),o.jsxs("div",{children:["✅ 运行ID: ",t.data.id]}),o.jsxs("div",{children:["📊 条目数: ",t.data.total_entries]})]}),duration:6}),null==l||l())}catch(a){const e=(null==(i=null==(r=null==(t=null==a?void 0:a.response)?void 0:t.data)?void 0:r.detail)?void 0:i.message)||(null==a?void 0:a.message)||"强制覆盖失败";n.error(`强制覆盖失败: ${e}`)}finally{f((e=>({...e,copy_payroll_entries:!1})))}}})}const t=null==(x=null==(b=null==P?void 0:P.response)?void 0:b.data)?void 0:x.detail;let i="复制工资记录失败",a="";t?t.error?(i=t.error.message||i,a=t.error.details||""):t.message&&(i=t.message,a=t.details||""):(null==P?void 0:P.message)&&(i=P.message),n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 复制工资记录失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:i}),a&&o.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"2px"},children:a}),o.jsxs("div",{style:{fontSize:"11px",color:"#999",marginTop:"2px"},children:["状态码: ",(null==(j=null==P?void 0:P.response)?void 0:j.status)||"Unknown"]})]}),duration:8})}finally{f((e=>({...e,copy_payroll_entries:!1,copy_base_amounts:!1})))}}}):n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(je,{}),loading:d.copy_payroll_entries,children:u("simplePayroll:quickActions.copyLastMonth")}),o.jsx(Q,{onClick:()=>{m(!0)},block:!0,size:"middle",icon:o.jsx(we,{}),children:u("simplePayroll:quickActions.addEmployee")}),o.jsx(Q,{onClick:()=>{e?h(!0):n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(Oe,{}),children:u("simplePayroll:quickActions.addPayrollRecord")}),o.jsx(Q,{onClick:async()=>{if(e)try{const t=(await Ft.getPayrollPeriods({})).data.find((t=>t.id===e));if(!t)return void n.error("无法找到当前期间信息");const i=await Ft.checkExistingData(e),a=i.data.summary.total_payroll_entries>0||i.data.summary.total_payroll_runs>0,s=await Ft.checkExistingInsuranceBase(e),c=s.data.has_insurance_base_data;if(!a&&!c)return void n.warning({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"⚠️ 当前期间无数据"}),o.jsxs("div",{children:["📋 期间：",t.name]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"当前期间没有薪资数据或缴费基数，无需删除"})]}),duration:6});r.confirm({title:"🔥 删除本月数据",icon:o.jsx(Se,{style:{color:"#ff4d4f"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("div",{style:{marginBottom:"16px"},children:o.jsx("strong",{children:"⚠️ 请选择要删除的数据类型："})}),o.jsxs(ke,{layout:"vertical",children:[a&&o.jsx(ke.Item,{children:o.jsxs(Ae,{defaultChecked:!0,children:[o.jsx("span",{children:"工资记录"}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginLeft:"24px"},children:["包括工资运行批次 ",i.data.summary.total_payroll_runs," 个， 薪资条目记录 ",i.data.summary.total_payroll_entries," 条"]})]})}),c&&o.jsx(ke.Item,{children:o.jsxs(Ae,{defaultChecked:!0,children:[o.jsx("span",{children:"缴费基数数据"}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginLeft:"24px"},children:["包括 ",s.data.base_configs.unique_employees," 名员工的社保、公积金、职业年金基数"]})]})})]}),o.jsxs("div",{style:{backgroundColor:"#fff1f0",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:[o.jsx("div",{style:{color:"#cf1322",fontWeight:"bold"},children:"⚠️ 此操作不可撤销！"}),o.jsx("div",{style:{color:"#cf1322",fontSize:"12px"},children:"所有相关数据将被永久删除"})]})]}),okText:"确认删除",cancelText:"取消",okType:"danger",width:500,onOk:async()=>{var r,i,s,u,d,p,h,y,m,v,g;const b=document.querySelectorAll(".ant-modal-content .ant-checkbox-wrapper");let x=!1,j=!1;if(a&&c?(x=!1!==(null==(i=null==(r=b[0])?void 0:r.querySelector("input"))?void 0:i.checked),j=!1!==(null==(u=null==(s=b[1])?void 0:s.querySelector("input"))?void 0:u.checked)):a?x=!1!==(null==(p=null==(d=b[0])?void 0:d.querySelector("input"))?void 0:p.checked):c&&(j=!1!==(null==(y=null==(h=b[0])?void 0:h.querySelector("input"))?void 0:y.checked)),x||j)try{f((e=>({...e,delete_month_data:!0})));let r=[];if(j&&c)try{await Ft.deleteInsuranceBaseForPeriod(e);r.push("缴费基数数据")}catch(w){throw w}if(x&&a)try{await Ft.deletePayrollDataForPeriod(e);r.push("工资记录")}catch(w){throw w}n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"🎉 删除成功"}),o.jsxs("div",{children:["📋 期间 ",t.name," 的数据已被删除"]}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:["已删除：",r.join("、")]})]}),duration:6}),setTimeout((()=>{l&&l()}),1e3)}catch(w){const e=(null==(g=null==(v=null==(m=null==w?void 0:w.response)?void 0:m.data)?void 0:v.detail)?void 0:g.message)||(null==w?void 0:w.message)||"删除失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 删除失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:8})}finally{f((e=>({...e,delete_month_data:!1})))}else n.warning("请至少选择一种数据类型进行删除")}})}catch(t){n.error("检查数据时出错，请稍后重试")}else n.error("请先选择一个工资期间")},block:!0,size:"middle",icon:o.jsx(Se,{}),loading:d.delete_month_data,danger:!0,children:"删除本月数据"})]}),o.jsx(zt,{visible:p,payrollPeriodId:e||null,payrollRunId:t||null,entry:null,onClose:()=>h(!1),onSuccess:()=>{h(!1),null==l||l()}}),o.jsx(WS,{visible:y,onClose:()=>m(!1),onSuccess:()=>{m(!1),n.success("员工创建成功，您现在可以为该员工创建工资记录")}})]}):null},qS=()=>{const{t:e}=Wt(["simplePayroll"]);return o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:o.jsx(Te,{})}),o.jsx("h2",{className:"empty-title",children:e("simplePayroll:emptyState.title","请先选择工资期间")}),o.jsx("p",{className:"empty-description",children:e("simplePayroll:emptyState.message","选择一个工资期间后，您可以开始创建和管理工资数据。")}),o.jsxs("div",{className:"empty-actions",children:[o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),className:"modern-button variant-primary size-md",children:"创建新期间"}),o.jsx(Q,{icon:o.jsx(Me,{}),className:"modern-button variant-secondary size-md",children:"导入数据"})]})]})},{Step:HS}=He,{Title:GS,Text:YS,Paragraph:KS}=V,{confirm:XS}=r,ZS=({selectedVersion:e,selectedPeriod:t,auditSummary:i,onRefresh:a,onAuditRefresh:s,onVersionRefresh:l,onStepChange:c,onNavigateToBulkImport:u,onDeleteVersion:d})=>{const{t:f}=Wt(["simplePayroll","common"]),[p,h]=It.useState(0),[y,m]=It.useState({}),[v,g]=It.useState({}),[b,x]=It.useState(!1),[j,w]=It.useState([]),[O,S]=It.useState(!1),[_,k]=It.useState(null),[A,P]=It.useState(null),C=It.useCallback(((e,t)=>{m((n=>({...n,[e]:t})))}),[]);It.useEffect((()=>()=>{m({})}),[]);const E=async(e,t,r=3e4)=>{C(e,!0);const i=setTimeout((()=>{C(e,!1),n.error(`${e} 操作超时，请稍后重试`)}),r);try{await t(),clearTimeout(i)}catch(o){throw clearTimeout(i),o}finally{C(e,!1)}},T=async()=>{if(e){C("load_anomalies",!0);try{const t=await Ft.getAuditAnomalies({payroll_run_id:e.id,page:1,size:100});w(t.data||[]),x(!0)}catch(t){n.error("获取异常详情失败")}finally{C("load_anomalies",!1)}}},M=async()=>{e&&0!==j.length&&XS({title:"确认批量忽略",content:`确定要忽略所有 ${j.length} 个异常吗？此操作将允许进入下一步。`,onOk:async()=>{try{const e=j.map(((e,t)=>e.id||`temp_${t}`));await Ft.ignoreAnomalies({anomaly_ids:e,reason:"用户批量忽略"}),n.success("已批量忽略所有异常"),x(!1),(null==s?void 0:s())||a()}catch(e){n.error("批量忽略失败")}}})},N=e=>{switch(e){case"DRAFT":case"草稿":default:return 0;case"PRUN_CALCULATED":case"已计算":return 1;case"IN_REVIEW":case"审核中":return 2;case"APPROVED_FOR_PAYMENT":case"批准支付":return 3;case"PAID":case"已支付":return 4}};It.useEffect((()=>{if(e){const t=N(e.status_name);h(t)}}),[e]);const D=It.useCallback((async()=>{if(e)try{try{const t=await Ft.getAuditSummary(e.id);t.data&&t.data.total_entries}catch{}}catch(t){}}),[e]);It.useEffect((()=>{e&&"已计算"===e.status_name&&D()}),[e,D]);const I=async()=>{e&&await E("enter_audit",(async()=>{try{const t=await Ft.runAuditCheck(e.id),{updatePayrollRun:r}=await qt((async()=>{const{updatePayrollRun:e}=await import("./payroll-management-BvFUgCwh.js").then((e=>e.K));return{updatePayrollRun:e}}),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));if(await r(e.id,{status_lookup_value_id:61}),t.data){const e=t.data;n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🔍 已进入审核检查阶段"}),o.jsxs("div",{children:["📊 检查条目: ",e.total_entries," 条"]}),o.jsxs("div",{children:["❌ 发现异常: ",e.total_anomalies," 个"]}),o.jsxs("div",{children:["🔴 错误: ",e.error_count," 个"]}),o.jsxs("div",{children:["🟡 警告: ",e.warning_count," 个"]}),e.auto_fixable_count>0&&o.jsxs("div",{children:["🔧 可自动修复: ",e.auto_fixable_count," 个"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"工作流已进入审核检查阶段，可以开始审核操作"})]}),duration:6})}else n.success("已进入审核检查阶段，可以开始审核操作");(null==l?void 0:l())||a(),null==c||c("audit_check")}catch(t){n.error("进入审核失败，请重试")}}))},B=async()=>{e&&await E("run_audit",(async()=>{const t=await Ft.runAuditCheck(e.id);if(t.data){const e=t.data;n.success({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🔍 审核检查完成"}),o.jsxs("div",{children:["📊 检查条目: ",e.total_entries," 条"]}),o.jsxs("div",{children:["❌ 发现异常: ",e.total_anomalies," 个"]}),o.jsxs("div",{children:["🔴 错误: ",e.error_count," 个"]}),o.jsxs("div",{children:["🟡 警告: ",e.warning_count," 个"]}),e.auto_fixable_count>0&&o.jsxs("div",{children:["🔧 可自动修复: ",e.auto_fixable_count," 个"]})]}),duration:6})}else n.success("审核检查完成");(null==s?void 0:s())||a()}))},R=It.useCallback((async()=>{var r,i,s;if(e)try{S(!0),P(null),k({total:1,processed:0,current_employee:null,status:Gt.PREPARING,stage:"启动计算引擎",start_time:(new Date).toISOString()});const n=await Ft.runIntegratedCalculationEngine({payroll_run_id:e.id,calculation_period:null==t?void 0:t.start_date,recalculate_all:!0,include_social_insurance:!0}),r=async()=>{var e,t;try{const r={total_employees:(null==(t=null==(e=n.data)?void 0:e.calculation_summary)?void 0:t.total_employees)||50,processed:Math.floor(50*Math.random()),current_stage:"五险一金计算",status:"calculating"};k((e=>e?{...e,total:r.total_employees,processed:r.processed,stage:r.current_stage,status:Gt.CALCULATING,estimated_remaining_time:2*(r.total_employees-r.processed)}:null)),n.data&&setTimeout((()=>{var e,t,r,i,o,s,c,u,d,f,p,h,y,m,v,g,b,x,j,w;const O={success_count:(null==(e=n.data.calculation_summary)?void 0:e.successful_count)||0,error_count:(null==(t=n.data.calculation_summary)?void 0:t.failed_count)||0,total_processed:(null==(r=n.data.calculation_summary)?void 0:r.total_employees)||0,payroll_totals:{total_gross_pay:(null==(i=n.data.payroll_totals)?void 0:i.total_gross_pay)||0,total_deductions:(null==(o=n.data.payroll_totals)?void 0:o.total_deductions)||0,total_net_pay:(null==(s=n.data.payroll_totals)?void 0:s.total_net_pay)||0,total_employer_cost:(null==(c=n.data.payroll_totals)?void 0:c.total_employer_cost)||0},social_insurance_breakdown:{employee_totals:{social_insurance:(null==(d=null==(u=n.data.social_insurance_breakdown)?void 0:u.employee_totals)?void 0:d.social_insurance)||0,housing_fund:(null==(p=null==(f=n.data.social_insurance_breakdown)?void 0:f.employee_totals)?void 0:p.housing_fund)||0,total:(null==(y=null==(h=n.data.social_insurance_breakdown)?void 0:h.employee_totals)?void 0:y.total)||0},employer_totals:{social_insurance:(null==(v=null==(m=n.data.social_insurance_breakdown)?void 0:m.employer_totals)?void 0:v.social_insurance)||0,housing_fund:(null==(b=null==(g=n.data.social_insurance_breakdown)?void 0:g.employer_totals)?void 0:b.housing_fund)||0,total:(null==(j=null==(x=n.data.social_insurance_breakdown)?void 0:x.employer_totals)?void 0:j.total)||0}},cost_analysis:{social_cost_ratio:(null==(w=n.data.cost_analysis)?void 0:w.social_cost_ratio)||0},errors:n.data.errors||[],duration:15};P(O),k((e=>e?{...e,status:Gt.COMPLETED,processed:O.total_processed,current_employee:null}:null)),(null==l?void 0:l())||a()}),2e3)}catch(r){k((e=>e?{...e,status:Gt.FAILED}:null))}};setTimeout(r,1e3)}catch(c){k((e=>e?{...e,status:Gt.FAILED}:null));const e=(null==(s=null==(i=null==(r=null==c?void 0:c.response)?void 0:r.data)?void 0:i.detail)?void 0:s.message)||(null==c?void 0:c.message)||"计算引擎启动失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 集成计算引擎启动失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}}),[e,t,l,a]),L=It.useCallback((()=>{S(!1),k(null),P(null)}),[]),F=It.useCallback((()=>{R()}),[R]),z=async()=>{e&&e.id?t&&t.start_date?r.confirm({title:"运行计算引擎确认",icon:o.jsx(se,{style:{color:"#faad14"}}),content:o.jsxs("div",{style:{marginTop:16},children:[o.jsx("p",{children:o.jsx("strong",{children:"⚠️ 重要提示："})}),o.jsxs("div",{style:{marginLeft:16,marginTop:8},children:[o.jsx("p",{children:"1. 运行计算引擎将根据标准规则重新计算所有薪资项目"}),o.jsxs("p",{children:["2. ",o.jsx("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:"如果您之前手动调整过五险一金金额，计算后将被覆盖为标准金额"})]}),o.jsx("p",{children:"3. 包括社保、公积金和职业年金的个人和单位部分"})]}),o.jsx("div",{style:{backgroundColor:"#fffbe6",padding:12,marginTop:12,borderRadius:4},children:o.jsx("p",{style:{margin:0},children:"建议：如需保留手调金额，请在计算后重新进行调整"})})]}),okText:"确认运行",cancelText:"取消",onOk:async()=>{var r,i,s,c,u,d,f,p,h,y,m;P(null),k(null),C("run_calculation",!0);try{const h=await Ft.runIntegratedCalculationEngine({payroll_run_id:e.id,calculation_period:t.start_date,recalculate_all:!0,include_social_insurance:!0,async_mode:!1});if(h.data){const e=h.data.payroll_totals||{},t=h.data.social_insurance_breakdown||{employee_totals:{},employer_totals:{}},a=h.data.cost_analysis||{},l={success_count:h.data.success_count||0,error_count:h.data.error_count||0,total_processed:h.data.total_processed||0,payroll_totals:{total_gross_pay:e.total_gross_pay||0,total_deductions:e.total_deductions||0,total_net_pay:e.total_net_pay||0,total_employer_cost:e.total_employer_cost||0},social_insurance_breakdown:{employee_totals:{social_insurance:(null==(r=t.employee_totals)?void 0:r.social_insurance)||0,housing_fund:(null==(i=t.employee_totals)?void 0:i.housing_fund)||0,total:(null==(s=t.employee_totals)?void 0:s.total)||0},employer_totals:{social_insurance:(null==(c=t.employer_totals)?void 0:c.social_insurance)||0,housing_fund:(null==(u=t.employer_totals)?void 0:u.housing_fund)||0,total:(null==(d=t.employer_totals)?void 0:d.total)||0}},cost_analysis:{social_cost_ratio:a.social_cost_ratio||0},duration:0};P(l);const y=[];if(y.push(o.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"🎯 集成计算引擎执行完成"},"title")),void 0!==e.total_gross_pay&&y.push(o.jsxs("div",{children:["📊 应发: ¥",(e.total_gross_pay||0).toLocaleString()]},"gross")),void 0!==e.total_deductions){const n=(null==(f=t.employee_totals)?void 0:f.total)||0;y.push(o.jsxs("div",{children:["📉 扣发: ¥",(e.total_deductions||0).toLocaleString()," (含个人五险一金: ¥",n.toLocaleString(),")"]},"deductions"))}if(void 0!==e.total_net_pay&&y.push(o.jsxs("div",{children:["💰 实发: ¥",(e.total_net_pay||0).toLocaleString()]},"net")),void 0!==e.total_employer_cost){const n=(null==(p=t.employer_totals)?void 0:p.total)||0;y.push(o.jsxs("div",{children:["🏢 单位成本: ¥",(e.total_employer_cost||0).toLocaleString()," (含单位五险一金: ¥",n.toLocaleString(),")"]},"employer"))}void 0!==a.social_cost_ratio&&y.push(o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:["社保成本比例: ",(a.social_cost_ratio||0).toFixed(1),"%"]},"ratio")),y.push(o.jsx("div",{style:{fontSize:"12px",color:"#ff4d4f",marginTop:"8px"},children:"注：所有五险一金金额已按标准规则重新计算"},"reminder")),1===y.length&&y.push(o.jsx("div",{children:"✅ 计算完成，请查看工资数据"},"basic")),n.success({content:o.jsx("div",{children:y}),duration:8})}else{P({success_count:0,error_count:0,total_processed:0,payroll_totals:{total_gross_pay:0,total_deductions:0,total_net_pay:0,total_employer_cost:0},social_insurance_breakdown:{employee_totals:{social_insurance:0,housing_fund:0,total:0},employer_totals:{social_insurance:0,housing_fund:0,total:0}},cost_analysis:{social_cost_ratio:0},duration:0}),n.success("集成计算引擎执行完成")}(null==l?void 0:l())||a()}catch(v){P(null),k(null);const e=(null==(m=null==(y=null==(h=null==v?void 0:v.response)?void 0:h.data)?void 0:y.detail)?void 0:m.message)||(null==v?void 0:v.message)||"计算引擎执行失败";n.error({content:o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:"❌ 集成计算引擎执行失败"}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:e})]}),duration:6})}finally{C("run_calculation",!1)}}}):n.error("请先选择一个有效的工资期间"):n.error("请先选择一个有效的工资运行版本")},$=async()=>{e&&XS({title:"确认批准支付",content:"批准后将可以进行工资发放操作。确定要批准吗？",onOk:async()=>{C("approve_payment",!0);try{await Ft.updateAuditStatus({payroll_run_id:e.id,status:"APPROVED"}),n.success("已批准支付"),(null==l?void 0:l())||a()}catch{n.error("批准支付失败")}finally{C("approve_payment",!1)}}})},U=async()=>{e&&XS({title:"确认标记已支付",content:"确认工资已发放给员工？此操作不可撤销。",onOk:async()=>{C("mark_paid",!0);try{await Ft.updateAuditStatus({payroll_run_id:e.id,status:"APPROVED"}),n.success("已标记为已支付"),(null==l?void 0:l())||a()}catch{n.error("标记失败")}finally{C("mark_paid",!1)}}})},W=async()=>{if(!e)return;const t=N(e.status_name);let r="DRAFT",i="数据准备";1===t?(r="DRAFT",i="数据准备"):2===t||3===t?(r="PRUN_CALCULATED",i="审核检查"):4===t&&(r="APPROVED_FOR_PAYMENT",i="支付准备"),XS({title:"确认退回上一步",content:`确定要将工资运行退回到"${i}"阶段吗？`,onOk:async()=>{C("go_back_step",!0);try{await Ft.updateAuditStatus({payroll_run_id:e.id,status:r}),n.success(`已成功退回到"${i}"阶段`),(null==l?void 0:l())||a()}catch(t){n.error("退回上一步失败")}finally{C("go_back_step",!1)}}})},V=(e,t)=>{if(e<t)return"finish";if(e===t){if(1===e&&i){if(i.error_count-(i.manually_ignored_count||0)>0)return"error"}return"process"}return"wait"},q=(e,n)=>0===e?!!t:e<=n,G=e=>{if(1===e){if(!i)return!0;return i.error_count-(i.manually_ignored_count||0)<=0}return!0},Y=(()=>{const r=null==e?void 0:e.status_name,i=N(r);return[{key:"data_preparation",title:"数据准备",description:e?"导入和审核基础薪资数据":"选择期间后开始创建工资数据",icon:o.jsx(Ve,{}),status:e?V(0,i):t?"process":"wait",disabled:!q(0,i),actions:[{key:"run_calculation",label:"计算五险一金",type:"default",icon:o.jsx(Ue,{}),disabled:!e,loading:y.run_calculation,onClick:z},{key:"enter_audit",label:"进入审核",type:"primary",icon:o.jsx(We,{}),disabled:!e,loading:y.enter_audit,onClick:I}],requirements:["确保员工基础信息完整","薪资组件配置正确","考勤数据准确无误","完成工资计算"],tips:['💡 点击"进入审核"开始审核检查流程',"审核将检查工资数据的完整性和准确性","重点检查新入职和离职员工","🚀 集成计算引擎包含完整五险一金计算","📊 自动计算个人和单位扣缴，提供成本分析"]},{key:"audit_check",title:"审核检查",description:"执行自动审核和异常检测",icon:o.jsx(We,{}),status:V(1,i),disabled:!q(1,i),actions:[{key:"run_audit",label:"运行审核",type:"default",icon:o.jsx(We,{}),disabled:!q(1,i),loading:y.run_audit,onClick:B},{key:"go_back_step",label:"退回上一步",type:"default",danger:!0,icon:o.jsx(qe,{}),disabled:i<=0||!e,loading:y.go_back_step,onClick:W}],requirements:["所有数据完整性检查通过","计算规则验证无误","异常数据已处理或忽略"],tips:["审核异常必须全部处理完成才能进入下一步","可以选择忽略非关键警告","高级审核包含更详细的合规性检查"]},{key:"audit_approval",title:"审核批准",description:"等待管理员审核批准",icon:o.jsx(Ne,{}),status:V(2,i),disabled:!q(2,i),actions:[{key:"reject_payroll",label:"拒绝并退回",type:"default",danger:!0,icon:o.jsx(se,{}),disabled:!q(2,i),loading:y.reject_payroll,onClick:()=>{XS({title:"确认拒绝",content:"拒绝后工资数据将退回到数据准备阶段，需要重新处理。确定要拒绝吗？",onOk:async()=>{C("reject_payroll",!0);try{await Ft.updateAuditStatus({payroll_run_id:(null==e?void 0:e.id)||0,status:"REJECTED"}),n.success("已拒绝，工资数据已退回"),(null==l?void 0:l())||a()}catch{n.error("拒绝操作失败")}finally{C("reject_payroll",!1)}}})}},{key:"approve_payment",label:"批准支付",type:"primary",icon:o.jsx(Ne,{}),disabled:!q(2,i),loading:y.approve_payment,onClick:$}],requirements:["工资数据计算准确","审核检查已通过","所有异常已处理完毕","符合发放条件"],tips:["请仔细检查工资数据的准确性","确认符合公司薪资发放政策","批准后即可进行支付操作","如有问题可拒绝并退回修改"]},{key:"payment_preparation",title:"支付准备",description:"准备工资发放和银行文件",icon:o.jsx(H,{}),status:V(3,i),disabled:!q(3,i),actions:[{key:"revoke_approval",label:"撤销批准",type:"default",danger:!0,icon:o.jsx(se,{}),disabled:!q(3,i),loading:y.revoke_approval,onClick:()=>{XS({title:"确认撤销批准",content:"撤销后工资数据将退回到数据准备阶段，需要重新计算和审核。确定要撤销批准吗？",onOk:async()=>{C("revoke_approval",!0);try{await Ft.updateAuditStatus({payroll_run_id:(null==e?void 0:e.id)||0,status:"REJECTED"}),n.success("已撤销批准，工资数据已退回到数据准备阶段"),(null==l?void 0:l())||a()}catch{n.error("撤销批准失败")}finally{C("revoke_approval",!1)}}})}},{key:"mark_as_paid",label:"标记已支付",type:"primary",icon:o.jsx(Ne,{}),disabled:!q(3,i),loading:y.mark_paid,onClick:U}],requirements:["工资已批准发放","一键生成所有报表","银行文件已生成","支付渠道已确认","员工账户信息正确"],tips:["先生成报表，包含工资明细、汇总、银行代发等","确认报表数据准确无误","支付完成后及时标记状态",'如发现问题可点击"撤销批准"回退重新计算',"保留支付凭证和报表备查"]},{key:"completion",title:"完成归档",description:"工资发放完成，生成报表归档",icon:o.jsx(Ve,{}),status:V(4,i),disabled:!q(4,i),actions:[{key:"generate_reports",label:"生成报表",type:"primary",icon:o.jsx(Ve,{}),disabled:!q(4,i),loading:y.generate_reports,onClick:()=>{n.info("报表生成功能开发中...")}},{key:"archive_data",label:"数据归档",type:"default",icon:o.jsx(Ve,{}),disabled:!q(4,i),loading:y.archive_data,onClick:()=>{n.info("数据归档功能开发中...")}}],requirements:["工资已成功发放","所有数据已确认","报表已生成","归档流程已完成"],tips:["生成必要的工资报表","保存重要数据备份","完成合规性归档","整个流程已结束"]}]})(),K=Y[p]||Y[0];return o.jsxs(le,{title:o.jsxs(ue,{children:[o.jsx($e,{style:{color:"#1890ff"}}),o.jsx("span",{className:"typography-title-tertiary",children:"智能流程引导"})]}),className:"workflow-guide-container",style:{height:"100%"},children:[o.jsxs("div",{className:"workflow-horizontal-layout",children:[o.jsx("div",{className:"workflow-steps-horizontal",children:o.jsx("div",{className:"steps-container",children:Y.map(((e,t)=>{const n=t===p;return o.jsxs("div",{className:`horizontal-step-card ${n?"active":""} \n                              ${"finish"===e.status?"completed":""} \n                              ${"error"===e.status?"error":""} \n                              ${e.disabled?"disabled":""}`,onClick:()=>!e.disabled&&(null==c?void 0:c(e.key)),children:[o.jsxs("div",{className:"step-header",children:[o.jsx("span",{className:"step-number",children:t+1}),o.jsx("span",{className:"step-icon",children:e.icon}),o.jsxs("div",{className:"step-status",children:["finish"===e.status&&o.jsx(Ne,{style:{color:"#52c41a"}}),"process"===e.status&&o.jsx(De,{style:{color:"#1890ff"}}),"error"===e.status&&o.jsx(Ie,{style:{color:"#ff4d4f"}})]})]}),o.jsx("h3",{className:"step-title",children:e.title}),o.jsx("p",{className:"step-description",children:e.description}),t<Y.length-1&&o.jsx("div",{className:"step-connector",children:o.jsx(Be,{})})]},e.key)}))})}),o.jsxs("div",{className:"workflow-guide-detail",children:[i&&(1===p||2===p)&&o.jsx(Re,{message:o.jsxs(ue,{children:[o.jsx("span",{children:"审核状态："}),(()=>{const e=i.error_count-(i.manually_ignored_count||0);return o.jsxs(o.Fragment,{children:[o.jsx(Le,{color:e>0?"red":"green",children:e>0?"有异常":"正常"}),o.jsxs("span",{children:["异常: ",i.error_count]}),o.jsxs("span",{children:["已忽略: ",i.manually_ignored_count||0]}),o.jsxs("span",{children:["有效异常: ",e]}),o.jsxs("span",{children:["警告: ",i.warning_count]})]})})()]}),type:i.error_count-(i.manually_ignored_count||0)>0?"error":"success",style:{marginBottom:16},showIcon:!0}),o.jsxs(le,{className:"current-step-card",title:o.jsxs(ue,{children:[o.jsx("span",{className:"step-number",children:p+1}),K.icon,o.jsx("span",{className:"step-title",children:K.title}),"process"===K.status&&o.jsx(De,{style:{color:"#1890ff"}}),"error"===K.status&&o.jsx(ze,{style:{color:"#ff4d4f"}})]}),extra:o.jsx(ue,{children:o.jsx(Fe,{status:"finish"===K.status?"success":"process"===K.status?"processing":"error"===K.status?"error":"default",text:"finish"===K.status?"已完成":"process"===K.status?"进行中":"error"===K.status?"异常":"等待中"})}),bordered:!1,size:"small",style:{marginBottom:16,boxShadow:"0 2px 8px rgba(0,0,0,0.09)"},children:[o.jsxs("div",{className:"step-description-box",children:[o.jsx(J,{style:{marginRight:8,color:"#1890ff"}}),o.jsx(KS,{className:"step-description",children:K.description})]}),o.jsx("div",{className:"step-actions-container",children:o.jsxs("div",{className:"step-actions",children:[K.actions.map((e=>o.jsx(Q,{type:e.type,icon:e.icon,disabled:e.disabled,loading:e.loading,danger:e.danger,onClick:e.onClick,size:"small",className:"action-button",children:e.label},e.key))),1===p&&G(1)&&o.jsx(Q,{type:"primary",icon:o.jsx(Be,{}),loading:y.submit_review,onClick:async()=>{if(e){if(i){if(i.error_count-(i.manually_ignored_count||0)>0)return void n.error("请先解决所有审核异常后再提交审核")}XS({title:"确认提交审核",content:"提交后将进入审批流程，期间数据不可修改。确定要提交吗？",onOk:async()=>{C("submit_review",!0);try{await Ft.updateAuditStatus({payroll_run_id:e.id,status:"IN_REVIEW"}),n.success("已提交审核"),(null==l?void 0:l())||a()}catch{n.error("提交审核失败")}finally{C("submit_review",!1)}}})}},size:"small",className:"next-step-button",children:"提交审核"})]})})]}),2===p&&e&&o.jsxs(he.Group,{style:{marginBottom:16},children:[o.jsx(he,{statistic:{title:"审核状态",value:e.status_name,valueStyle:{color:"#1890ff"}},chart:o.jsx(Le,{color:"blue",children:e.status_name})}),o.jsx(he,{statistic:{title:"应发总额",value:e.total_gross_pay,precision:2,prefix:"¥",valueStyle:{color:"#52c41a"}}}),o.jsx(he,{statistic:{title:"扣发总额",value:e.total_deductions,precision:2,prefix:"¥",valueStyle:{color:"#ff4d4f"}}}),o.jsx(he,{statistic:{title:"实发总额",value:e.total_net_pay,precision:2,prefix:"¥",valueStyle:{color:"#1890ff",fontSize:"20px"}}})]}),1===p&&!G(1)&&o.jsx(Re,{message:"无法进入下一步",description:o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:8},children:(()=>{const e=i?i.error_count-(i.manually_ignored_count||0):0;return o.jsxs(o.Fragment,{children:["还有 ",o.jsx("strong",{style:{color:"#ff4d4f"},children:e})," 个审核异常需要处理",i&&i.manually_ignored_count>0&&o.jsxs("span",{style:{color:"#999",fontSize:"12px",marginLeft:"8px"},children:["(总计",i.error_count,"个，已忽略",i.manually_ignored_count,"个)"]})]})})()}),o.jsxs(ue,{children:[o.jsx(Q,{type:"primary",size:"small",icon:o.jsx(se,{}),loading:y.load_anomalies,onClick:T,children:"查看异常详情"}),o.jsx(Q,{size:"small",onClick:M,children:"批量忽略"})]})]}),type:"warning",showIcon:!0,style:{marginBottom:16}}),o.jsx(ve,{style:{margin:"16px 0"}}),o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx(YS,{strong:!0,className:"typography-label-primary",children:"完成要求："}),o.jsx("ul",{style:{marginTop:4,paddingLeft:20},children:K.requirements.map(((e,t)=>o.jsx("li",{style:{marginBottom:2},children:o.jsx(YS,{className:"typography-body-secondary",children:e})},t)))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx(YS,{strong:!0,className:"typography-label-primary",children:"操作提示："}),o.jsx("ul",{style:{marginTop:4,paddingLeft:20},children:K.tips.map(((e,t)=>o.jsx("li",{style:{marginBottom:2},children:o.jsx(YS,{className:"typography-body-secondary",children:e})},t)))})]})]}),!e&&o.jsx(Re,{message:"请先选择工资运行版本",description:"选择一个工资运行版本后，系统将自动显示对应的操作步骤",type:"info",showIcon:!0,style:{marginTop:16}})]})]}),o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(se,{style:{color:"#ff4d4f"}}),o.jsx("span",{children:"审核异常详情"}),o.jsxs(Le,{color:"red",children:[j.length," 个异常"]})]}),open:b,onCancel:()=>x(!1),width:800,footer:[o.jsx(Q,{onClick:()=>x(!1),children:"关闭"},"close"),o.jsx(Q,{danger:!0,onClick:M,disabled:0===j.length,children:"批量忽略全部"},"ignore-all"),o.jsx(Q,{type:"primary",onClick:()=>{x(!1),(null==s?void 0:s())||a()},children:"刷新数据"},"refresh")],children:j.length>0?o.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:j.map(((t,r)=>o.jsx(le,{size:"small",style:{marginBottom:8},title:o.jsxs(ue,{children:[o.jsxs(Le,{color:"red",children:["异常 #",r+1]}),o.jsx(YS,{strong:!0,className:"typography-label-primary",children:t.anomaly_type||"数据异常"})]}),children:o.jsxs("div",{className:"typography-body-secondary",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"异常描述："}),t.description||t.message||"未知异常"]}),t.employee_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"涉及员工："}),t.employee_name]}),t.field_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"异常字段："}),t.field_name]}),t.expected_value&&o.jsxs("p",{children:[o.jsx("strong",{children:"期望值："}),t.expected_value]}),t.actual_value&&o.jsxs("p",{children:[o.jsx("strong",{children:"实际值："}),t.actual_value]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs(ue,{children:[o.jsx(Q,{size:"small",type:"link",onClick:()=>(async(t,r)=>{if(e)try{await Ft.ignoreAnomalies({anomaly_ids:[t.id||`temp_${r}`],reason:"用户手动忽略"}),n.success("已忽略该异常"),await T(),(null==s?void 0:s())||a()}catch(i){n.error("忽略异常失败")}})(t,r),children:"忽略此异常"}),o.jsx(Q,{size:"small",type:"link",onClick:()=>{n.info("修复功能开发中...")},children:"尝试修复"})]})})]})},r)))}):o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:o.jsx(YS,{className:"typography-body-secondary",children:"暂无异常数据"})})}),o.jsx(Yt,{visible:O,progress:_,result:A,onClose:L,onRetry:F})]})},QS=e=>[/电话/i,/手机/i,/联系方式/i,/phone/i,/mobile/i,/账号/i,/账户/i,/account/i,/卡号/i,/银行/i,/身份证/i,/证件/i,/id.*card/i,/identity/i,/客户号/i,/编号/i,/工号/i,/员工号/i,/人员编号/i,/邮编/i,/postal/i,/zip/i,/code/i,/qq/i,/微信/i,/wechat/i,/email/i,/邮箱/i].some((t=>t.test(e))),JS=(e,t)=>{if(null==e)return"N/A";if(t&&QS(t))return String(e);if("number"==typeof e)return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof e){if(t&&QS(t))return e;const n=parseFloat(e);if(!isNaN(n)&&isFinite(n))return n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.toString()},e_=(e,t)=>{if(null==e)return"N/A";if(t&&QS(t))return String(e);if("number"==typeof e)return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof e){if(t&&QS(t))return e;const n=parseFloat(e);if(!isNaN(n)&&isFinite(n))return n.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.toString()},t_=e=>{if(null==e)return"N/A";const t=String(e);let n=null;const r=t.match(/(\d{4})年(\d{1,2})月/);if(r){const e=parseInt(r[1]),t=parseInt(r[2])-1;n=new Date(e,t)}if(!n){const e=t.match(/^(\d{4})-(\d{1,2})$/);if(e){const t=parseInt(e[1]),r=parseInt(e[2])-1;n=new Date(t,r)}}if(!n){const e=new Date(t);isNaN(e.getTime())||(n=e)}return n&&!isNaN(n.getTime())?`${n.getFullYear()}年${String(n.getMonth()+1).padStart(2,"0")}月`:t},n_=e=>{if(null==e)return"N/A";const t=String(e);let n=null;const r=t.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);if(r){const e=parseInt(r[1]),t=parseInt(r[2])-1,i=parseInt(r[3]);n=new Date(e,t,i)}if(!n){const e=t.match(/(\d{4})年(\d{1,2})月/);if(e){const t=parseInt(e[1]),r=parseInt(e[2])-1;n=new Date(t,r)}}if(!n){const e=new Date(t);isNaN(e.getTime())||(n=e)}return n&&!isNaN(n.getTime())?`${n.getFullYear()}年${String(n.getMonth()+1).padStart(2,"0")}月`:t},r_=e=>{try{if(null==e)return String(e);if("object"!=typeof e)return String(e);if(Array.isArray(e))return`[${e.length} 项]`;if("[object Object]"===e.toString()){const t=Object.keys(e);if(0===t.length)return"{}";return`{${t.slice(0,3).map((t=>{const n=e[t];return null==n?`${t}: -`:"object"==typeof n?`${t}: ${null===n?"-":Array.isArray(n)?`[${n.length}项]`:"{...}"}`:`${t}: ${String(n).substring(0,15)}${String(n).length>15?"...":""}`})).join(", ")}${t.length>3?", ...":""}}`}const t=new WeakSet,n=(e,n)=>{if("function"==typeof n||"symbol"==typeof n)return"[Function]";if(null!=n&&"object"==typeof n){if(t.has(n))return"[Circular]";if(t.add(n),e&&e.split(".").length>3)return"[Deep Object]"}return n},r=JSON.stringify(e,n,2);if(r&&r.length>500){return r.substring(0,497)+"..."}return r||String(e)}catch(t){try{if(e&&"object"==typeof e){const t=Object.keys(e);if(t.length>0){return`{${t.slice(0,3).map((t=>{try{const n=e[t];return"object"==typeof n?`${t}: [Object]`:`${t}: ${String(n).substring(0,20)}`}catch{return`${t}: [Error]`}})).join(", ")}${t.length>3?"...":""}}`}}return String(e)}catch{return"[不可序列化对象]"}}},i_=(e,t)=>{if(null==e)return!1;if(e===t)return!0;const n=String(e).toLowerCase(),r=String(t).toLowerCase();if(n===r)return!0;if("*"===r||"**"===r)return!0;if(r.startsWith("*")&&r.endsWith("*")&&r.length>2){const e=r.substring(1,r.length-1);return n.includes(e)}if(r.endsWith("*")&&!r.startsWith("*")){const e=r.substring(0,r.length-1);return n.startsWith(e)}if(r.startsWith("*")&&!r.endsWith("*")){const e=r.substring(1);return n.endsWith(e)}if(r.includes("*")||r.includes("?")){const e=r.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${e}$`,"i").test(n)}return n===r},o_=e=>"object"==typeof e&&null!==e&&!!(e.$$typeof||e.$typeof||e.type&&e.props),a_=e=>{var t;if(null==e)return"";if(Lt.isValidElement(e)||o_(e)){const n=e.props;if("span"===e.type){if(void 0!==n.children)return String(n.children);if("#999"===(null==(t=n.style)?void 0:t.color)&&"N/A"===n.children)return"N/A"}if("pre"===e.type)return n.children||"";if("function"==typeof e.type&&e.type.displayName){const t=e.type.displayName;if("CheckCircleOutlined"===t)return"是";if("CloseCircleOutlined"===t)return"否"}return n&&void 0!==n.children?a_(n.children):""}return Array.isArray(e)?e.map((e=>a_(e))).join(""):String(e)},s_=e=>{if(null==e)return null;if(o_(e)){if(e.props){if(void 0!==e.props.children)return s_(e.props.children);if("string"==typeof e.props.children){const t=e.props.children.match(/[\d,.-]+/);if(t){const e=parseFloat(t[0].replace(/,/g,""));if(!isNaN(e))return e}}}return"[React元素]"}if(Array.isArray(e))return e.map((e=>s_(e)));if("object"==typeof e&&null!==e){if(e.constructor===Object){if(0===Object.keys(e).length)return"{}";const t=Object.keys(e).slice(0,3);if(t.length>0){return`{${t.map((t=>{const n=e[t];return null==n?`${t}: -`:"object"==typeof n?`${t}: ${null===n?"-":Array.isArray(n)?`[${n.length}项]`:"{...}"}`:`${t}: ${String(n).substring(0,15)}${String(n).length>15?"...":""}`})).join(", ")}${Object.keys(e).length>3?", ...":""}}`}}return r_(e)}return e},l_=(e,t)=>{const n=s_(e);if(null==n)return"";if("boolean"==typeof n)return n?"是":"否";if("number"==typeof n)return isNaN(n)||!isFinite(n)?"":n;if("string"==typeof n){const e=n.replace(/[\x00-\x1F\x7F-\x9F]/g,"");if(t&&QS(t))return e;const r=parseFloat(e);return isNaN(r)||!isFinite(r)||e.includes("{")||e.includes("[")?e:r}return"object"==typeof n&&null!==n?r_(n):String(n).replace(/[\x00-\x1F\x7F-\x9F]/g,"")},c_=(e,t,n,r)=>{const i=t.dataIndex||t.key;if(t.render)try{const o=t.render(e,n,r,{},{}),a=a_(o);if(i&&QS(i))return a;const s=parseFloat(a);return!isNaN(s)&&isFinite(s)&&"N/A"!==a?s:a}catch(o){return l_(e,i)}return l_(e,i)},u_={all:["payrollData"],lists:()=>[...u_.all,"list"],list:e=>[...u_.lists(),e],details:()=>[...u_.all,"detail"],detail:e=>[...u_.details(),e]};function d_(e){return Array.isArray?Array.isArray(e):"[object Array]"===g_(e)}function f_(e){return"string"==typeof e}function p_(e){return"number"==typeof e}function h_(e){return!0===e||!1===e||function(e){return y_(e)&&null!==e}(e)&&"[object Boolean]"==g_(e)}function y_(e){return"object"==typeof e}function m_(e){return null!=e}function v_(e){return!e.trim().length}function g_(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const b_=Object.prototype.hasOwnProperty;class x_{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=j_(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function j_(e){let t=null,n=null,r=null,i=1,o=null;if(f_(e)||d_(e))r=e,t=w_(e),n=O_(e);else{if(!b_.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const a=e.name;if(r=a,b_.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(a));t=w_(a),n=O_(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function w_(e){return d_(e)?e:e.split(".")}function O_(e){return d_(e)?e.join("."):e}var S_={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(m_(e))if(t[o]){const a=e[t[o]];if(!m_(a))return;if(o===t.length-1&&(f_(a)||p_(a)||h_(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(d_(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)i(a[e],t,o+1)}else t.length&&i(a,t,o+1)}else n.push(e)};return i(e,f_(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const __=/[^ ]+/g;class k_{constructor({getFn:e=S_.getFn,fieldNormWeight:t=S_.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(__).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,f_(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();f_(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!m_(e)||v_(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(m_(i))if(d_(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(m_(r))if(f_(r)&&!v_(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else d_(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(f_(i)&&!v_(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function A_(e,t,{getFn:n=S_.getFn,fieldNormWeight:r=S_.fieldNormWeight}={}){const i=new k_({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(j_)),i.setSources(t),i.create(),i}function P_(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=S_.distance,ignoreLocation:o=S_.ignoreLocation}={}){const a=t/e.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const C_=32;function E_(e,t,n,{location:r=S_.location,distance:i=S_.distance,threshold:o=S_.threshold,findAllMatches:a=S_.findAllMatches,minMatchCharLength:s=S_.minMatchCharLength,includeMatches:l=S_.includeMatches,ignoreLocation:c=S_.ignoreLocation}={}){if(t.length>C_)throw new Error(`Pattern length exceeds max of ${C_}.`);const u=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let p=o,h=f;const y=s>1||l,m=y?Array(d):[];let v;for(;(v=e.indexOf(t,h))>-1;){let e=P_(t,{currentLocation:v,expectedLocation:f,distance:i,ignoreLocation:c});if(p=Math.min(e,p),h=v+u,y){let e=0;for(;e<u;)m[v+e]=1,e+=1}}h=-1;let g=[],b=1,x=u+d;const j=1<<u-1;for(let O=0;O<u;O+=1){let r=0,o=x;for(;r<o;){P_(t,{errors:O,currentLocation:f+o,expectedLocation:f,distance:i,ignoreLocation:c})<=p?r=o:x=o,o=Math.floor((x-r)/2+r)}x=o;let s=Math.max(1,f-o+1),l=a?d:Math.min(f+o,d)+u,v=Array(l+2);v[l+1]=(1<<O)-1;for(let a=l;a>=s;a-=1){let r=a-1,o=n[e.charAt(r)];if(y&&(m[r]=+!!o),v[a]=(v[a+1]<<1|1)&o,O&&(v[a]|=(g[a+1]|g[a])<<1|1|g[a+1]),v[a]&j&&(b=P_(t,{errors:O,currentLocation:r,expectedLocation:f,distance:i,ignoreLocation:c}),b<=p)){if(p=b,h=r,h<=f)break;s=Math.max(1,2*f-h)}}if(P_(t,{errors:O+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>p)break;g=v}const w={isMatch:h>=0,score:Math.max(.001,b)};if(y){const e=function(e=[],t=S_.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(m,s);e.length?l&&(w.indices=e):w.isMatch=!1}return w}function T_(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}const M_=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class N_{constructor(e,{location:t=S_.location,threshold:n=S_.threshold,distance:r=S_.distance,includeMatches:i=S_.includeMatches,findAllMatches:o=S_.findAllMatches,minMatchCharLength:a=S_.minMatchCharLength,isCaseSensitive:s=S_.isCaseSensitive,ignoreDiacritics:l=S_.ignoreDiacritics,ignoreLocation:c=S_.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreDiacritics:l,ignoreLocation:c},e=s?e:e.toLowerCase(),e=l?M_(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:T_(e),startIndex:t})},d=this.pattern.length;if(d>C_){let e=0;const t=d%C_,n=d-t;for(;e<n;)u(this.pattern.substr(e,C_),e),e+=C_;if(t){const e=d-C_;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?M_(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach((({pattern:t,alphabet:n,startIndex:p})=>{const{isMatch:h,score:y,indices:m}=E_(e,t,n,{location:i+p,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:c});h&&(f=!0),d+=y,h&&m&&(u=[...u,...m])}));let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(p.indices=u),p}}class D_{constructor(e){this.pattern=e}static isMultiMatch(e){return I_(e,this.multiRegex)}static isSingleMatch(e){return I_(e,this.singleRegex)}search(){}}function I_(e,t){const n=e.match(t);return n?n[1]:null}class B_ extends D_{constructor(e,{location:t=S_.location,threshold:n=S_.threshold,distance:r=S_.distance,includeMatches:i=S_.includeMatches,findAllMatches:o=S_.findAllMatches,minMatchCharLength:a=S_.minMatchCharLength,isCaseSensitive:s=S_.isCaseSensitive,ignoreDiacritics:l=S_.ignoreDiacritics,ignoreLocation:c=S_.ignoreLocation}={}){super(e),this._bitapSearch=new N_(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreDiacritics:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class R_ extends D_{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const L_=[class extends D_{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},R_,class extends D_{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends D_{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends D_{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends D_{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends D_{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},B_],F_=L_.length,z_=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const $_=new Set([B_.type,R_.type]);class U_{constructor(e,{isCaseSensitive:t=S_.isCaseSensitive,ignoreDiacritics:n=S_.ignoreDiacritics,includeMatches:r=S_.includeMatches,minMatchCharLength:i=S_.minMatchCharLength,ignoreLocation:o=S_.ignoreLocation,findAllMatches:a=S_.findAllMatches,location:s=S_.location,threshold:l=S_.threshold,distance:c=S_.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:s,threshold:l,distance:c},e=t?e:e.toLowerCase(),e=n?M_(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(z_).filter((e=>e&&!!e.trim())),r=[];for(let i=0,o=n.length;i<o;i+=1){const e=n[i];let o=!1,a=-1;for(;!o&&++a<F_;){const n=L_[a];let i=n.isMultiMatch(e);i&&(r.push(new n(i,t)),o=!0)}if(!o)for(a=-1;++a<F_;){const n=L_[a];let i=n.isSingleMatch(e);if(i){r.push(new n(i,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?M_(e):e;let o=0,a=[],s=0;for(let l=0,c=t.length;l<c;l+=1){const r=t[l];a.length=0,o=0;for(let t=0,i=r.length;t<i;t+=1){const i=r[t],{isMatch:l,indices:c,score:u}=i.search(e);if(!l){s=0,o=0,a.length=0;break}if(o+=1,s+=u,n){const e=i.constructor.type;$_.has(e)?a=[...a,...c]:a.push(c)}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=a),e}}return{isMatch:!1,score:1}}}const W_=[];function V_(e,t){for(let n=0,r=W_.length;n<r;n+=1){let r=W_[n];if(r.condition(e,t))return new r(e,t)}return new N_(e,t)}const q_="$and",H_="$or",G_="$path",Y_="$val",K_=e=>!(!e[q_]&&!e[H_]),X_=e=>({[q_]:Object.keys(e).map((t=>({[t]:e[t]})))});function Z_(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[G_])(e);if(!o&&i.length>1&&!K_(e))return r(X_(e));if((e=>!d_(e)&&y_(e)&&!K_(e))(e)){const r=o?e[G_]:i[0],a=o?e[Y_]:e[r];if(!f_(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:O_(r),pattern:a};return n&&(s.searcher=V_(a,t)),s}let a={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];d_(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return K_(e)||(e=X_(e)),r(e)}function Q_(e,t){const n=e.matches;t.matches=[],m_(n)&&n.forEach((e=>{if(!m_(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function J_(e,t){t.score=e.score}class ek{constructor(e,t={},n){this.options={...S_,...t},this.options.useExtendedSearch,this._keyStore=new x_(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof k_))throw new Error("Incorrect 'index' type");this._myIndex=t||A_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){m_(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=f_(e)?f_(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=S_.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),p_(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=S_.includeMatches,includeScore:r=S_.includeScore}={}){const i=[];return n&&i.push(Q_),r&&i.push(J_),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=V_(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!m_(e))return;const{isMatch:o,score:a,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})})),r}_searchLogical(e){const t=Z_(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,a=e.children.length;o<a;o+=1){const a=e.children[o],s=n(a,t,r);if(s.length)i.push(...s);else if(e.operator===q_)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(m_(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=V_(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!m_(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!m_(t))return[];let r=[];if(d_(t))t.forEach((({v:t,i:i,n:o})=>{if(!m_(t))return;const{isMatch:a,score:s,indices:l}=n.searchIn(t);a&&r.push({score:s,key:e,value:t,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=t,{isMatch:a,score:s,indices:l}=n.searchIn(i);a&&r.push({score:s,key:e,value:i,norm:o,indices:l})}return r}}ek.version="7.1.0",ek.createIndex=A_,ek.parseIndex=function(e,{getFn:t=S_.getFn,fieldNormWeight:n=S_.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new k_({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},ek.config=S_,ek.parseQuery=Z_,function(...e){W_.push(...e)}(U_);var tk=Jt(),nk=(e=>(e.FUZZY="fuzzy",e.EXACT="exact",e.RANGE="range",e.AUTO="auto",e))(nk||{});const rk={threshold:.3,includeScore:!0,includeMatches:!0,minMatchCharLength:1,keys:[]},ik=e=>{if(!e||0===e.length)return rk;const t=e[0],n=Object.keys(t),r=[],i=[],o=[],a=[/^员工姓名$|^姓名$/,/^员工编号$|^编号$/,/^身份证号$/,/^部门名称$|^部门$/,/^职位名称$|^职位$|^岗位$/,/^人员类别$/,/^编制$/],s=[/合计$/,/工资$/,/津贴$/,/奖金$/,/补贴$/,/扣除$/,/金额$/,/费用$/,/^基本/,/保险$/,/公积金$/],l=[/^id$|.*id$/i,/^key$/,/时间$|日期$/,/创建|更新|修改/,/^\$|^_/];n.forEach((e=>{if(l.some((t=>t.test(e))))return;const n=t[e];if(a.some((t=>t.test(e))))o.push(e);else{"number"==typeof n||"string"==typeof n&&!isNaN(Number(n))&&""!==n.trim()||s.some((t=>t.test(e)))?i.push(e):"string"==typeof n&&""!==n.trim()&&r.push(e)}}));const c=[...o,...r.slice(0,10),...i.slice(0,15)];return{...rk,keys:c}};const ok=class{constructor(e,n={}){t(this,"fuse"),t(this,"data",[]),t(this,"config");const r={...rk,...n};if(n.keys&&0!==n.keys.length)this.config=r;else{const t=ik(e);this.config={...r,keys:t.keys}}this.config.keys&&Array.isArray(this.config.keys)||(this.config.keys=[]),this.data=e,this.updateFuseInstance()}updateFuseInstance(){this.fuse=new ek(this.data,{threshold:this.config.threshold,includeScore:this.config.includeScore,includeMatches:this.config.includeMatches,minMatchCharLength:this.config.minMatchCharLength,keys:this.config.keys,ignoreLocation:!0,findAllMatches:!0})}updateData(e){if(this.data=e,e.length>0){const t=ik(e);this.config={...this.config,keys:t.keys}}this.config.keys&&Array.isArray(this.config.keys)||(this.config.keys=[]),this.updateFuseInstance()}search(e,t="auto"){if(!e.trim())return this.data.map((e=>({item:e})));switch("auto"===t&&(t=this.detectSearchMode(e)),t){case"range":return this.executeRangeSearch(e);case"exact":return this.executeExactSearch(e);default:return this.executeFuzzySearch(e)}}detectSearchMode(e){return[/[^><=!]+\s*(>=|<=|>|<|!=|=)\s*\d+(?:\.\d+)?/,/\d+(?:\.\d+)?\s*(>=|<=|>|<|!=|=)\s*[^><=!]+/].some((t=>t.test(e)))?"range":e.includes('"')||e.length<=2?"exact":"fuzzy"}executeFuzzySearch(e){const t=e.trim().split(/\s+/);if(1===t.length){return this.fuse.search(e).map((e=>({item:e.item,score:e.score,matches:e.matches?[...e.matches]:void 0})))}{let e=this.data.map((e=>({item:e})));for(const n of t){const t=this.fuse.search(n),r=new Set(t.map((e=>e.item)));e=e.filter((e=>r.has(e.item)))}return e}}executeExactSearch(e){const t=e.replace(/"/g,"").toLowerCase();return this.data.filter((e=>this.config.keys.some((n=>{const r=e[n];return null!=r&&String(r).toLowerCase().includes(t)})))).map((e=>({item:e})))}executeRangeSearch(e){const t=this.parseRangeQuery(e);if(0===t.length)return this.executeFuzzySearch(e);return this.data.filter((e=>t.every((t=>this.evaluateRangeExpression(e,t))))).map((e=>({item:e})))}parseRangeQuery(e){const t=[],n=[/([^><=!]+)\s*(>=|<=|>|<|!=|=)\s*(\d+(?:\.\d+)?)/g,/(\d+(?:\.\d+)?)\s*(>=|<=|>|<|!=|=)\s*([^><=!]+)/g];for(const r of n){let n;for(;null!==(n=r.exec(e));){const[e,r,i,o]=n;let a,s,l=i;if(isNaN(Number(r)))a=r.trim(),s=parseFloat(o);else{a=o.trim(),s=parseFloat(r);l={">":"<","<":">",">=":"<=","<=":">=","=":"=","!=":"!="}[i]}const c=this.findMatchingDataKey(a);c&&t.push({field:c,operator:l,value:s,originalText:e})}}return t}findMatchingDataKey(e){const t=e.toLowerCase().trim(),n=this.config.keys.find((e=>e.toLowerCase()===t));if(n)return n;const r=this.config.keys.find((e=>e.toLowerCase().includes(t)||t.includes(e.toLowerCase())));if(r)return r;if(this.data.length>0){const e=this.data[0],n=Object.keys(e).filter((t=>{const n=e[t];return"number"==typeof n||"string"==typeof n&&!isNaN(Number(n))&&""!==n.trim()})).find((e=>e.toLowerCase().includes(t)||t.includes(e.toLowerCase())));if(n)return n}return null}evaluateRangeExpression(e,t){const n=e[t.field];if(null==n)return!1;const r="number"==typeof n?n:parseFloat(String(n));if(isNaN(r))return!1;switch(t.operator){case">":return r>t.value;case"<":return r<t.value;case">=":return r>=t.value;case"<=":return r<=t.value;case"=":return r===t.value;case"!=":return r!==t.value;default:return!1}}getSuggestions(e,t=5){if(!e.trim())return[];const n=new Set,r=e.toLowerCase();return this.data.forEach((e=>{this.config.keys.forEach((t=>{const i=e[t];if(null!=i){const e=String(i);e.toLowerCase().includes(r)&&n.add(e)}}))})),Array.from(n).slice(0,t)}getSearchInfo(){return{searchKeys:this.config.keys,dataLength:this.data.length,threshold:this.config.threshold}}},ak={debounceDelay:300,enableSuggestions:!0,maxSuggestions:5},sk=(e,t={})=>{const n={...ak,...t},[r,i]=It.useState({query:"",results:[],isSearching:!1,searchMode:nk.AUTO,suggestions:[],totalResults:0,searchTime:0}),o=It.useMemo((()=>{const t={...n,keys:void 0};return new ok(e,t)}),[e,n]);It.useEffect((()=>{o.updateData(e),e.length>0&&0===r.results.length&&!r.query.trim()&&i((t=>({...t,results:e.map((e=>({item:e}))),totalResults:e.length})))}),[e.length]);const a=It.useCallback(((t,r=nk.AUTO)=>{if(0===e.length)return;const a=performance.now();i((e=>({...e,isSearching:!0,query:t,searchMode:r})));try{const e=((e,t,n="auto")=>e.search(t,n))(o,t,r),s=performance.now()-a;if(i((t=>({...t,results:e,isSearching:!1,totalResults:e.length,searchTime:s}))),n.enableSuggestions&&t.trim()){const e=o.getSuggestions(t,n.maxSuggestions);i((t=>({...t,suggestions:e})))}}catch(s){i((e=>({...e,isSearching:!1,results:[],totalResults:0})))}}),[o,n,e.length]),s=It.useCallback(((e,t=nk.AUTO)=>{a(e,t)}),[a]),l=It.useMemo((()=>((e,t=300)=>tk.debounce(((t,n)=>{n(e.search(t,"auto"))}),t))(o,n.debounceDelay)),[o,n.debounceDelay]),c=It.useCallback(((e,t=nk.AUTO)=>{i((n=>({...n,query:e,isSearching:!0,searchMode:t}))),l(e,(t=>{const r=performance.now();if(i((e=>({...e,results:t,isSearching:!1,totalResults:t.length,searchTime:r%1e3}))),n.enableSuggestions&&e.trim()){const t=o.getSuggestions(e,n.maxSuggestions);i((e=>({...e,suggestions:t})))}}))}),[l,o,n]),u=It.useCallback(((e,t=nk.AUTO)=>{s(e,t)}),[s]),d=It.useCallback((()=>{i({query:"",results:e.map((e=>({item:e}))),isSearching:!1,searchMode:nk.AUTO,suggestions:[],totalResults:e.length,searchTime:0})}),[e]),f=It.useCallback((e=>{i((t=>(t.query.trim()&&setTimeout((()=>{s(t.query,e)}),0),{...t,searchMode:e})))}),[s]),p=It.useCallback((e=>o.getSuggestions(e,n.maxSuggestions)),[o,n.maxSuggestions]);return{...r,search:c,searchImmediate:u,clearSearch:d,setSearchMode:f,getSuggestions:p,isEmptyQuery:!r.query.trim(),hasResults:r.results.length>0,performance:{searchTime:r.searchTime,resultsCount:r.totalResults,isOptimal:r.searchTime<100}}},lk="/config/user-preferences",ck={getPresets:async()=>(await Ut.get(`${lk}/payroll-data-modal`)).data,getPresetCategories:async()=>(await Ut.get(`${lk}/payroll-data-modal/categories`)).data,savePreset:async e=>(await Ut.post(`${lk}/payroll-data-modal`,e)).data,updatePreset:async(e,t)=>(await Ut.put(`${lk}/payroll-data-modal/${e}`,t)).data,async deletePreset(e){await Ut.delete(`${lk}/payroll-data-modal/${e}`)},applyPreset:async e=>(await Ut.post(`${lk}/payroll-data-modal/${e}/apply`)).data,duplicatePreset:async(e,t)=>(await Ut.post(`${lk}/payroll-data-modal/${e}/duplicate`,{newName:t})).data,async setDefaultPreset(e){await Ut.post(`${lk}/payroll-data-modal/${e}/set-default`)},async getDefaultPreset(){try{return(await Ut.get(`${lk}/payroll-data-modal/default`)).data}catch(e){return null}},exportPreset:async e=>(await Ut.get(`${lk}/payroll-data-modal/${e}/export`,{responseType:"blob"})).data,async importPreset(e){const t=new FormData;t.append("file",e);return(await Ut.post(`${lk}/payroll-data-modal/import`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},uk=()=>{const{t:e}=Wt(["payroll","common"]),[t,r]=It.useState([]),[i,o]=It.useState(!1),[a,s]=It.useState(null),l=It.useCallback((async()=>{try{o(!0);const e=await ck.getPresets();r(e.presets)}catch(t){n.error(e("common:message.load_failed"))}finally{o(!1)}}),[e]),c=It.useCallback((async()=>{try{let e=await ck.getDefaultPreset();if(!e){const t=await ck.getPresets(),n=(t.presets||[]).sort(((e,t)=>(t.usageCount||0)!==(e.usageCount||0)?(t.usageCount||0)-(e.usageCount||0):e.lastUsedAt&&t.lastUsedAt?new Date(t.lastUsedAt).getTime()-new Date(e.lastUsedAt).getTime():new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()));n.length>0&&(e=n[0])}return s(e),e}catch(e){return null}}),[]),u=It.useCallback((async(t,i,o,a={})=>{var l,c,u;try{const l={name:t,filterConfig:i,columnSettings:o,...a},c=await ck.savePreset(l);return r((e=>[...e,c])),a.isDefault&&s(c),n.success(e("payroll:presets.save_success")),c}catch(d){let t=e("payroll:presets.save_failed");throw(null==(c=null==(l=null==d?void 0:d.response)?void 0:l.data)?void 0:c.detail)&&("string"==typeof d.response.data.detail?t=d.response.data.detail:(null==(u=d.response.data.detail.error)?void 0:u.message)&&(t=d.response.data.detail.error.message)),n.error(t),d}}),[e]),d=It.useCallback((async t=>{try{return await ck.applyPreset(t.id),r((e=>e.map((e=>e.id===t.id?{...e,usageCount:(e.usageCount||0)+1,lastUsedAt:(new Date).toISOString()}:e)))),n.success(e("payroll:presets.apply_success",{name:t.name})),t}catch(i){throw n.error(e("payroll:presets.apply_failed")),i}}),[e]),f=It.useCallback((async t=>{try{await ck.deletePreset(t),r((e=>e.filter((e=>e.id!==t)))),(null==a?void 0:a.id)===t&&s(null),n.success(e("payroll:presets.delete_success"))}catch(i){throw n.error(e("payroll:presets.delete_failed")),i}}),[e,a]),p=It.useCallback((async r=>{try{await ck.setDefaultPreset(r);const i=t.find((e=>e.id===r));i&&(s(i),n.success(e("payroll:presets.set_default_success")))}catch(i){throw n.error(e("payroll:presets.set_default_failed")),i}}),[e,t]),h=It.useCallback((async(t,i)=>{var o,a,s;try{const o=await ck.duplicatePreset(t,i);return r((e=>[...e,o])),n.success(e("payroll:presets.duplicate_success")),o}catch(l){let t=e("payroll:presets.duplicate_failed");throw(null==(a=null==(o=null==l?void 0:l.response)?void 0:o.data)?void 0:a.detail)&&("string"==typeof l.response.data.detail?t=l.response.data.detail:(null==(s=l.response.data.detail.error)?void 0:s.message)&&(t=l.response.data.detail.error.message)),n.error(t),l}}),[e]),y=It.useCallback((async(t,i)=>{var o,a,l;try{const o=await ck.updatePreset(t,i);return r((e=>e.map((e=>e.id===t?o:e)))),i.isDefault&&s(o),n.success(e("payroll:presets.update_success")),o}catch(c){let t=e("payroll:presets.update_failed");throw(null==(a=null==(o=null==c?void 0:c.response)?void 0:o.data)?void 0:a.detail)&&("string"==typeof c.response.data.detail?t=c.response.data.detail:(null==(l=c.response.data.detail.error)?void 0:l.message)&&(t=c.response.data.detail.error.message)),n.error(t),c}}),[e]),m=It.useCallback((e=>{s(e)}),[]);It.useEffect((()=>{l(),c()}),[l,c]);const v=It.useCallback(((e,t,n)=>({filterConfig:e,searchQuery:t,searchMode:n,timestamp:(new Date).toISOString()})),[]);return{presets:t,defaultPreset:a,loading:i,loadPresets:l,loadDefaultPreset:c,savePreset:u,applyPreset:d,deletePreset:f,setAsDefault:p,duplicatePreset:h,updatePreset:y,setCurrentPreset:m,getCurrentConfig:v}},dk="/config/user-preferences/groups",fk={getGroups:async()=>(await Ut.get(`${dk}`)).data,getGroupsStats:async()=>(await Ut.get(`${dk}/stats`)).data,createGroup:async e=>(await Ut.post(`${dk}`,e)).data,updateGroup:async(e,t)=>(await Ut.put(`${dk}/${e}`,t)).data,async deleteGroup(e){await Ut.delete(`${dk}/${e}`)},async updateGroupsOrder(e){await Ut.put(`${dk}/reorder`,{groupIds:e})},getGroup:async e=>(await Ut.get(`${dk}/${e}`)).data},pk=()=>{const{t:e}=Wt(["payroll","common"]),[t,r]=It.useState([]),[i,o]=It.useState({}),[a,s]=It.useState(!1),l=It.useCallback((async()=>{try{s(!0);const[e,t]=await Promise.all([fk.getGroups(),fk.getGroupsStats()]);r(e.groups);const n=t.reduce(((e,t)=>(e[t.groupId]={presetCount:t.presetCount,lastUsedAt:t.lastUsedAt},e)),{});o(n)}catch(t){n.error(e("payroll:presets.group_manager.load_failed"))}finally{s(!1)}}),[e]),c=It.useCallback((async t=>{var i,a;try{s(!0);const i=await fk.createGroup(t);return r((e=>[...e,i])),o((e=>({...e,[i.id]:{presetCount:0}}))),n.success(e("payroll:presets.group_manager.create_success")),i}catch(l){let t=e("payroll:presets.group_manager.create_failed");throw(null==(a=null==(i=null==l?void 0:l.response)?void 0:i.data)?void 0:a.detail)&&"string"==typeof l.response.data.detail&&(t=l.response.data.detail),n.error(t),l}finally{s(!1)}}),[e]),u=It.useCallback((async(t,i)=>{var o,a;try{s(!0);const o=await fk.updateGroup(t,i);return r((e=>e.map((e=>e.id===t?o:e)))),n.success(e("payroll:presets.group_manager.update_success")),o}catch(l){let t=e("payroll:presets.group_manager.update_failed");throw(null==(a=null==(o=null==l?void 0:l.response)?void 0:o.data)?void 0:a.detail)&&"string"==typeof l.response.data.detail&&(t=l.response.data.detail),n.error(t),l}finally{s(!1)}}),[e]),d=It.useCallback((async t=>{var i,a;try{s(!0),await fk.deleteGroup(t),r((e=>e.filter((e=>e.id!==t)))),o((e=>{const{[t]:n,...r}=e;return r})),n.success(e("payroll:presets.group_manager.delete_success"))}catch(l){let t=e("payroll:presets.group_manager.delete_failed");throw(null==(a=null==(i=null==l?void 0:l.response)?void 0:i.data)?void 0:a.detail)&&"string"==typeof l.response.data.detail&&(t=l.response.data.detail),n.error(t),l}finally{s(!1)}}),[e]),f=It.useCallback((async i=>{try{await fk.updateGroupsOrder(i);const o=i.map((e=>t.find((t=>t.id===e)))).filter(Boolean);r(o),n.success(e("payroll:presets.group_manager.reorder_success"))}catch(o){throw n.error(e("payroll:presets.group_manager.reorder_failed")),o}}),[t,e]),p=It.useCallback((e=>{var t;return(null==(t=i[e])?void 0:t.presetCount)||0}),[i]),h=It.useCallback((e=>{var t;return null==(t=i[e])?void 0:t.lastUsedAt}),[i]),y=It.useCallback((async()=>{try{const e=(await fk.getGroupsStats()).reduce(((e,t)=>(e[t.groupId]={presetCount:t.presetCount,lastUsedAt:t.lastUsedAt},e)),{});o(e)}catch(e){}}),[]);return It.useEffect((()=>{l()}),[l]),{groups:t,groupStats:i,loading:a,loadGroups:l,createGroup:c,updateGroup:u,deleteGroup:d,updateGroupsOrder:f,getGroupPresetCount:p,getGroupLastUsed:h,refreshStats:y}},{Text:hk,Title:yk}=V,{TextArea:mk}=Pe,vk=[{value:"FolderOutlined",label:"文件夹",icon:o.jsx(Ge,{})},{value:"AppstoreOutlined",label:"应用",icon:o.jsx(_e,{})},{value:"FileTextOutlined",label:"文档",icon:o.jsx(Ve,{})},{value:"BarChartOutlined",label:"图表",icon:o.jsx(G,{})},{value:"SettingOutlined",label:"设置",icon:o.jsx(Qe,{})},{value:"UserOutlined",label:"用户",icon:o.jsx(Y,{})},{value:"TeamOutlined",label:"团队",icon:o.jsx(K,{})},{value:"BankOutlined",label:"银行",icon:o.jsx(H,{})},{value:"CalendarOutlined",label:"日历",icon:o.jsx(Te,{})},{value:"CheckCircleOutlined",label:"完成",icon:o.jsx(Ne,{})},{value:"ExclamationCircleOutlined",label:"重要",icon:o.jsx(se,{})}],gk=["#1890ff","#52c41a","#722ed1","#fa8c16","#f5222d","#eb2f96","#13c2c2","#faad14","#a0d911","#2f54eb","#fa541c","#c41d7f"],bk=e=>{switch(e){case"AppstoreOutlined":return o.jsx(_e,{});case"FileTextOutlined":return o.jsx(Ve,{});case"BarChartOutlined":return o.jsx(G,{});case"SettingOutlined":return o.jsx(Qe,{});case"UserOutlined":return o.jsx(Y,{});case"TeamOutlined":return o.jsx(K,{});case"BankOutlined":return o.jsx(H,{});case"CalendarOutlined":return o.jsx(Te,{});case"CheckCircleOutlined":return o.jsx(Ne,{});case"ExclamationCircleOutlined":return o.jsx(se,{});default:return o.jsx(Ge,{})}},xk=({visible:e,group:t,onClose:n,onSave:i,loading:a=!1})=>{const{t:s}=Wt(["payroll","common"]),[l]=ke.useForm();It.useEffect((()=>{e&&t?l.setFieldsValue({name:t.name,description:t.description,color:t.color||"#1890ff",icon:t.icon||"FolderOutlined"}):e&&!t&&l.setFieldsValue({color:"#1890ff",icon:"FolderOutlined"})}),[e,t,l]);const c=()=>{l.resetFields(),n()};return o.jsx(r,{title:s(t?"payroll:presets.group_manager.edit_group":"payroll:presets.group_manager.create_group"),open:e,onCancel:c,footer:[o.jsx(Q,{onClick:c,children:s("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:a,onClick:async()=>{var e,t;try{const n=await l.validateFields(),r={...n,color:"string"==typeof n.color?n.color:(null==(t=null==(e=n.color)?void 0:e.toHexString)?void 0:t.call(e))||"#1890ff",sort_order:0,is_active:!0};i(r),l.resetFields()}catch(n){}},children:s("common:button.save")},"save")],width:600,children:o.jsxs(ke,{form:l,layout:"vertical",children:[o.jsx(ke.Item,{name:"name",label:s("payroll:presets.group_manager.group_name"),rules:[{required:!0,message:s("payroll:presets.group_manager.name_required")},{max:50,message:s("payroll:presets.group_manager.name_too_long")}],children:o.jsx(Pe,{placeholder:s("payroll:presets.group_manager.name_placeholder")})}),o.jsx(ke.Item,{name:"description",label:s("payroll:presets.group_manager.group_description"),rules:[{max:200,message:s("payroll:presets.group_manager.description_too_long")}],children:o.jsx(mk,{rows:3,placeholder:s("payroll:presets.group_manager.description_placeholder")})}),o.jsxs(ye,{gutter:16,children:[o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"color",label:s("payroll:presets.group_manager.group_color"),children:o.jsx(Je,{presets:[{label:s("payroll:presets.group_manager.preset_colors"),colors:gk}],showText:!0,format:"hex",size:"large"})})}),o.jsx(me,{span:12,children:o.jsx(ke.Item,{name:"icon",label:s("payroll:presets.group_manager.group_icon"),children:o.jsx(Ce,{placeholder:s("payroll:presets.group_manager.icon_placeholder"),optionRender:e=>o.jsxs(ue,{children:[e.data.icon,o.jsx("span",{children:e.data.label})]}),children:vk.map((e=>o.jsx(Ce.Option,{value:e.value,icon:e.icon,label:e.label,children:o.jsxs(ue,{children:[e.icon,o.jsx("span",{children:e.label})]})},e.value)))})})})]}),o.jsx(ke.Item,{label:s("payroll:presets.group_manager.preview"),children:o.jsx(le,{size:"small",style:{backgroundColor:"#fafafa"},children:o.jsx(ke.Item,{noStyle:!0,shouldUpdate:!0,children:({getFieldValue:e})=>{var t,n;const r=e("name")||s("payroll:presets.group_manager.preview_name"),i="string"==typeof e("color")?e("color"):(null==(n=null==(t=e("color"))?void 0:t.toHexString)?void 0:n.call(t))||"#1890ff",a=e("icon")||"FolderOutlined";return o.jsx("div",{children:o.jsxs(ue,{children:[o.jsx("span",{style:{color:i,fontSize:"18px"},children:bk(a)}),o.jsx(hk,{strong:!0,style:{color:i},children:r}),o.jsx(Le,{color:i,children:s("payroll:presets.group_manager.preview_tag")})]})})}})})})]})})},jk=({visible:e,onClose:t})=>{const{t:n}=Wt(["payroll","common"]),[i,a]=It.useState(!1),[s,l]=It.useState(null),{groups:c,loading:u,createGroup:d,updateGroup:f,deleteGroup:p,getGroupPresetCount:h}=pk(),y=()=>{l(null),a(!0)},m=e=>{const t=h(e.id);return o.jsxs(ue,{size:"small",children:[o.jsxs(hk,{type:"secondary",style:{fontSize:"12px"},children:[t," ",n("payroll:presets.group_manager.presets_count")]}),e.createdAt&&o.jsxs(hk,{type:"secondary",style:{fontSize:"12px"},children:[n("payroll:presets.group_manager.created_at"),": ",new Date(e.createdAt).toLocaleDateString()]})]})};return o.jsxs(o.Fragment,{children:[o.jsxs(r,{title:o.jsxs(ue,{children:[o.jsx(Ge,{}),n("payroll:presets.group_manager.title")]}),open:e,onCancel:t,footer:[o.jsx(Q,{onClick:t,children:n("common:button.close")},"close")],width:800,style:{top:20},children:[o.jsx("div",{style:{marginBottom:16},children:o.jsxs(ye,{justify:"space-between",align:"middle",children:[o.jsx(me,{children:o.jsxs(ue,{children:[o.jsx(yk,{level:5,style:{margin:0},children:n("payroll:presets.group_manager.manage_groups")}),o.jsxs(hk,{type:"secondary",children:["(",c.length," ",n("payroll:presets.group_manager.total_groups"),")"]})]})}),o.jsx(me,{children:o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),onClick:y,children:n("payroll:presets.group_manager.create_group")})})]})}),o.jsx(ve,{style:{margin:"16px 0"}}),o.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:0===c.length?o.jsx(le,{style:{textAlign:"center",padding:"40px 20px"},children:o.jsxs(ue,{direction:"vertical",size:"large",children:[o.jsx(Ge,{style:{fontSize:"48px",color:"#d9d9d9"}}),o.jsxs("div",{children:[o.jsx(hk,{type:"secondary",style:{fontSize:"16px"},children:n("payroll:presets.group_manager.no_groups")}),o.jsx("br",{}),o.jsx(hk,{type:"secondary",children:n("payroll:presets.group_manager.create_first_group")})]}),o.jsx(Q,{type:"primary",icon:o.jsx(xe,{}),size:"large",onClick:y,children:n("payroll:presets.group_manager.create_group")})]})}):o.jsx(Ye,{dataSource:c,loading:u,renderItem:(e,t)=>o.jsx(Ye.Item,{actions:[o.jsx(Z,{title:n("payroll:presets.group_manager.drag_to_reorder"),children:o.jsx(Q,{type:"text",icon:o.jsx(Ke,{}),size:"small",style:{cursor:"grab"}})}),o.jsx(Q,{type:"text",icon:o.jsx(Xe,{}),size:"small",onClick:()=>(e=>{l(e),a(!0)})(e),children:n("common:button.edit")},"edit"),o.jsx(Ze,{title:n("payroll:presets.group_manager.delete_confirm_title"),description:n("payroll:presets.group_manager.delete_confirm_content",{name:e.name}),okText:n("common:button.delete"),cancelText:n("common:button.cancel"),okType:"danger",onConfirm:()=>(async e=>{try{await p(e)}catch(t){}})(e.id),children:o.jsx(Q,{type:"text",danger:!0,icon:o.jsx(Se,{}),size:"small",children:n("common:button.delete")})},"delete")],children:o.jsx(Ye.Item.Meta,{avatar:o.jsx("div",{style:{color:e.color||"#1890ff",fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",backgroundColor:`${e.color||"#1890ff"}15`,borderRadius:"8px"},children:bk(e.icon)}),title:o.jsxs(ue,{children:[o.jsx(hk,{strong:!0,style:{color:e.color||"#1890ff"},children:e.name}),o.jsxs(Le,{color:e.color||"#1890ff",style:{fontSize:"11px"},children:["#",t+1]})]}),description:o.jsxs("div",{children:[e.description&&o.jsx("div",{style:{marginBottom:8},children:o.jsx(hk,{type:"secondary",children:e.description})}),m(e)]})})},e.id)})})]}),o.jsx(xk,{visible:i,group:s,onClose:()=>{a(!1),l(null)},onSave:async e=>{try{s?await f(s.id,e):await d(e),a(!1),l(null)}catch(t){}},loading:u})]})},{Text:wk,Title:Ok}=V,{Panel:Sk}=rt,_k=({visible:e,onClose:t,onSave:n,loading:i=!1,availableGroups:a=[],presets:s=[],getGroupPresetCount:l=()=>0})=>{const{t:c}=Wt(["payroll","common"]),[u]=ke.useForm();return o.jsx(r,{title:c("payroll:presets.save_modal.title"),open:e,onCancel:t,footer:[o.jsx(Q,{onClick:t,children:c("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:i,onClick:async()=>{try{const e=await u.validateFields();n(e.name,e.description,e.isDefault,e.isPublic,e.category),u.resetFields()}catch(e){}},children:c("common:button.save")},"save")],width:500,children:o.jsxs(ke,{form:u,layout:"vertical",children:[o.jsx(ke.Item,{name:"name",label:c("payroll:presets.save_modal.name"),rules:[{required:!0,message:c("payroll:presets.save_modal.name_required")}],children:o.jsx(Pe,{placeholder:c("payroll:presets.save_modal.name_placeholder")})}),o.jsx(ke.Item,{name:"description",label:c("payroll:presets.save_modal.description"),children:o.jsx(Pe.TextArea,{rows:3,placeholder:c("payroll:presets.save_modal.description_placeholder")})}),o.jsx(ke.Item,{name:"category",label:c("payroll:presets.save_modal.category"),children:o.jsx(Ce,{placeholder:c("payroll:presets.save_modal.category_placeholder"),allowClear:!0,options:[{value:"",label:c("payroll:presets.save_modal.no_category")},...a.map((e=>{const t=l(e.id);return{value:e.name,label:o.jsxs(ue,{children:[o.jsx("span",{style:{color:e.color},children:e.name}),o.jsxs(Le,{color:e.color,style:{fontSize:"11px"},children:[t," 个预设"]})]})}}))]})}),o.jsxs(ke.Item,{name:"isDefault",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:c("payroll:presets.save_modal.set_as_default")})]}),o.jsxs(ke.Item,{name:"isPublic",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:c("payroll:presets.save_modal.make_public")})]})]})})},kk=({visible:e,preset:t,onClose:n,onSave:i,loading:a=!1,availableGroups:s=[],presets:l=[],getGroupPresetCount:c=()=>0})=>{const{t:u}=Wt(["payroll","common"]),[d]=ke.useForm();Lt.useEffect((()=>{t&&e&&d.setFieldsValue({name:t.name,description:t.description,category:t.category,isDefault:t.isDefault,isPublic:t.isPublic})}),[t,e,d]);const f=()=>{d.resetFields(),n()};return o.jsx(r,{title:u("payroll:presets.edit_modal.title"),open:e,onCancel:f,footer:[o.jsx(Q,{onClick:f,children:u("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",loading:a,onClick:async()=>{if(null==t?void 0:t.id)try{const e=await d.validateFields();i(t.id,e.name,e.description,e.isDefault,e.isPublic,e.category)}catch(e){}},children:u("common:button.save")},"save")],width:500,children:o.jsxs(ke,{form:d,layout:"vertical",children:[o.jsx(ke.Item,{name:"name",label:u("payroll:presets.edit_modal.name"),rules:[{required:!0,message:u("payroll:presets.edit_modal.name_required")}],children:o.jsx(Pe,{placeholder:u("payroll:presets.edit_modal.name_placeholder")})}),o.jsx(ke.Item,{name:"description",label:u("payroll:presets.edit_modal.description"),children:o.jsx(Pe.TextArea,{rows:3,placeholder:u("payroll:presets.edit_modal.description_placeholder")})}),o.jsx(ke.Item,{name:"category",label:u("payroll:presets.edit_modal.category"),children:o.jsx(Ce,{placeholder:u("payroll:presets.edit_modal.category_placeholder"),allowClear:!0,options:[{value:"",label:u("payroll:presets.edit_modal.no_category")},...s.map((e=>{const t=c(e.id);return{value:e.name,label:o.jsxs(ue,{children:[o.jsx("span",{style:{color:e.color},children:e.name}),o.jsxs(Le,{color:e.color,style:{fontSize:"11px"},children:[t," 个预设"]})]})}}))]})}),o.jsxs(ke.Item,{name:"isDefault",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:u("payroll:presets.edit_modal.set_as_default")})]}),o.jsxs(ke.Item,{name:"isPublic",valuePropName:"checked",children:[o.jsx(it,{}),o.jsx("span",{style:{marginLeft:8},children:u("payroll:presets.edit_modal.make_public")})]})]})})},Ak=({visible:e,onClose:t,currentFilterConfig:i,currentColumnSettings:a,getCurrentConfig:s,onApplyPreset:l})=>{var c;const{t:u}=Wt(["payroll","common"]),[d,f]=It.useState(!1),[p,h]=It.useState(null),[y,m]=It.useState(!1),[v,g]=It.useState(null),[b,x]=It.useState(null),[j,w]=It.useState(!1),{groups:O,getGroupPresetCount:S,refreshStats:_}=pk(),{presets:k,defaultPreset:A,loading:P,savePreset:C,applyPreset:E,deletePreset:T,setAsDefault:M,duplicatePreset:N,updatePreset:D}=uk(),I=async e=>{var t,r,i,o;if(v)try{await N(v.id,e),m(!1),g(null)}catch(a){if(400===(null==(t=null==a?void 0:a.response)?void 0:t.status)&&(null==(o=null==(i=null==(r=null==a?void 0:a.response)?void 0:r.data)?void 0:i.detail)?void 0:o.includes("已存在"))){const e=(new Date).getTime(),t=`${v.name} - 副本${e}`;try{await N(v.id,t),m(!1),g(null),n.success(u("payroll:presets.duplicate_auto_renamed",{name:t}))}catch(s){}}}},B=e=>{const t=[{key:"view",icon:o.jsx(be,{}),label:u("common:button.view"),onClick:()=>x(e)},{key:"edit",icon:o.jsx(Xe,{}),label:u("common:button.edit"),onClick:()=>h(e)},{key:"write_current",icon:o.jsx(tt,{}),label:u("payroll:presets.write_current_config"),onClick:()=>(async e=>{r.confirm({title:u("payroll:presets.write_current_confirm.title"),content:u("payroll:presets.write_current_confirm.content",{name:e.name}),okText:u("payroll:presets.write_current_confirm.ok"),cancelText:u("common:button.cancel"),onOk:async()=>{try{const t=s?s():{filterConfig:i,columnSettings:a,tableFilterState:{}};await D(e.id,{name:e.name,description:e.description,category:e.category,isDefault:e.isDefault,isPublic:e.isPublic,filterConfig:t.filterConfig,columnSettings:t.columnSettings,tableFilterState:t.tableFilterState}),n.success(u("payroll:presets.write_current_success",{name:e.name}))}catch(t){n.error(u("payroll:presets.write_current_error"))}}})})(e)},{key:"duplicate",icon:o.jsx(ot,{}),label:u("payroll:presets.duplicate"),onClick:()=>{g(e),m(!0)}},{key:"set_default",icon:(null==A?void 0:A.id)===e.id?o.jsx(nt,{}):o.jsx(at,{}),label:(null==A?void 0:A.id)===e.id?u("payroll:presets.default_preset"):u("payroll:presets.set_as_default"),disabled:(null==A?void 0:A.id)===e.id,onClick:()=>M(e.id)},{type:"divider"},{key:"export",icon:o.jsx(ne,{}),label:u("payroll:presets.export"),onClick:()=>{n.info(u("payroll:presets.export_coming_soon"))}},{type:"divider"},{key:"delete",icon:o.jsx(Se,{}),label:u("common:button.delete"),danger:!0,onClick:()=>{r.confirm({title:u("payroll:presets.delete_confirm.title"),content:u("payroll:presets.delete_confirm.content",{name:e.name}),okText:u("common:button.delete"),cancelText:u("common:button.cancel"),okType:"danger",onOk:()=>T(e.id)})}}];return o.jsx(st,{menu:{items:t},trigger:["click"],children:o.jsx(Q,{type:"text",icon:o.jsx(lt,{}),size:"small"})})},R=e=>{var t;return o.jsx(Ye.Item,{style:{padding:"8px 12px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"12px"},children:[o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px",flexWrap:"wrap"},children:[o.jsx(wk,{strong:!0,style:{fontSize:"14px"},children:e.name}),(null==A?void 0:A.id)===e.id&&o.jsx(nt,{style:{color:"#faad14",fontSize:"12px"}}),e.category&&o.jsx(Le,{color:(null==(t=O.find((t=>t.name===e.category)))?void 0:t.color)||"default",style:{fontSize:"11px",margin:0,padding:"1px 4px"},children:e.category}),e.isPublic&&o.jsx(Le,{color:"blue",style:{fontSize:"11px",margin:0,padding:"1px 4px"},children:"公开"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[e.description&&o.jsx(wk,{type:"secondary",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},title:e.description,children:e.description}),o.jsxs(wk,{type:"secondary",style:{fontSize:"11px"},children:["使用次数: ",e.usageCount||0]}),e.lastUsedAt&&o.jsxs(wk,{type:"secondary",style:{fontSize:"11px"},children:["最后使用: ",new Date(e.lastUsedAt).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[o.jsx(Q,{type:"primary",size:"small",icon:o.jsx(be,{}),onClick:()=>(async e=>{try{await E(e),l(e),n.success(u("payroll:presets.applied_successfully",{name:e.name}))}catch(t){}})(e),style:{fontSize:"12px"},children:"应用"}),B(e)]})]})},e.id)};return o.jsxs(o.Fragment,{children:[o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(Qe,{}),u("payroll:presets.manager_title")]}),open:e,onCancel:t,footer:[o.jsx(Q,{icon:o.jsx(Ge,{}),onClick:()=>w(!0),children:u("payroll:presets.manage_groups")},"manage-groups"),o.jsx(Q,{type:"primary",icon:o.jsx(tt,{}),onClick:()=>f(!0),children:u("payroll:presets.save_current")},"save-current"),o.jsx(Q,{onClick:t,children:u("common:button.close")},"close")],width:800,style:{top:20},children:o.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:0===k.length?o.jsx(et,{description:u("payroll:presets.no_presets"),image:et.PRESENTED_IMAGE_SIMPLE,children:o.jsx(Q,{type:"primary",icon:o.jsx(tt,{}),onClick:()=>f(!0),children:u("payroll:presets.create_first")})}):(()=>{const e=k.reduce(((e,t)=>{const n=t.category||"未分组";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),t=Object.keys(e);return t.length<=1?o.jsx(Ye,{dataSource:k,loading:P,renderItem:e=>R(e),size:"small",style:{border:"1px solid #f0f0f0",borderRadius:"6px",backgroundColor:"#fafafa"}}):o.jsx(rt,{defaultActiveKey:t,ghost:!0,items:t.map((t=>{const n=O.find((e=>e.name===t));return{key:t,label:o.jsxs(ue,{children:[o.jsx(Ge,{style:{color:(null==n?void 0:n.color)||"#666"}}),o.jsx("span",{children:t}),o.jsx(Le,{color:(null==n?void 0:n.color)||"default",children:e[t].length})]}),children:o.jsx(Ye,{dataSource:e[t],renderItem:e=>R(e),size:"small",style:{border:"1px solid #f0f0f0",borderRadius:"6px",backgroundColor:"#fafafa"}})}}))})})()})}),o.jsx(_k,{visible:d,onClose:()=>f(!1),onSave:async(e,t,n,r,o)=>{try{const l=s?s():{filterConfig:i,columnSettings:a,tableFilterState:{}};await C(e,l.filterConfig,l.columnSettings,{description:t,category:o,isDefault:n,isPublic:r,tableFilterState:l.tableFilterState}),_(),f(!1)}catch(l){}},availableGroups:O,presets:k,getGroupPresetCount:S}),o.jsx(kk,{visible:!!p,preset:p,onClose:()=>h(null),onSave:async(e,t,n,r,i,o)=>{try{await D(e,{name:t,description:n,category:o,isDefault:r,isPublic:i}),h(null)}catch(a){}},loading:P,availableGroups:O,presets:k,getGroupPresetCount:S}),o.jsx(r,{title:o.jsxs(ue,{children:[o.jsx(be,{}),u("payroll:presets.view_modal.title")]}),open:!!b,onCancel:()=>x(null),footer:[o.jsx(Q,{onClick:()=>x(null),children:u("common:button.close")},"close"),o.jsx(Q,{type:"primary",icon:o.jsx(Xe,{}),onClick:()=>{h(b),x(null)},children:u("common:button.edit")},"edit")],width:700,children:b&&o.jsxs("div",{children:[o.jsxs(le,{size:"small",style:{marginBottom:16},children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(wk,{strong:!0,children:u("payroll:presets.view_modal.basic_info")})}),o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.name"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.name})]}),b.description&&o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.description"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.description})]}),b.category&&o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.category"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.category})]}),o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.properties"),":"]}),o.jsx("div",{style:{marginLeft:8,marginTop:4},children:o.jsxs(ue,{children:[b.isDefault&&o.jsx(Le,{color:"gold",icon:o.jsx(nt,{}),children:u("payroll:presets.default")}),b.isPublic&&o.jsx(Le,{color:"blue",children:u("payroll:presets.public")}),o.jsxs(Le,{children:[u("payroll:presets.usage_count"),": ",b.usageCount||0]})]})})]})]})]}),o.jsxs(le,{size:"small",style:{marginBottom:16},children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(wk,{strong:!0,children:u("payroll:presets.view_modal.filter_config")})}),o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.hide_jsonb_columns"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.filterConfig.hideJsonbColumns?u("common:yes"):u("common:no")})]}),o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.hide_zero_columns"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.filterConfig.hideZeroColumns?u("common:yes"):u("common:no")})]}),o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.hide_empty_columns"),":"]}),o.jsx(wk,{style:{marginLeft:8},children:b.filterConfig.hideEmptyColumns?u("common:yes"):u("common:no")})]}),(null==(c=b.filterConfig.excludePatterns)?void 0:c.length)>0&&o.jsxs("div",{children:[o.jsxs(wk,{type:"secondary",children:[u("payroll:presets.view_modal.exclude_patterns"),":"]}),o.jsx("div",{style:{marginLeft:8,marginTop:4},children:b.filterConfig.excludePatterns.map(((e,t)=>o.jsx(Le,{style:{marginBottom:4},children:e},t)))})]})]})]}),o.jsxs(le,{size:"small",children:[o.jsx("div",{style:{marginBottom:8},children:o.jsx(wk,{strong:!0,children:u("payroll:presets.view_modal.column_settings")})}),o.jsx("div",{style:{maxHeight:200,overflowY:"auto"},children:o.jsx(ue,{direction:"vertical",style:{width:"100%"},children:Object.entries(b.columnSettings).map((([e,t])=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(wk,{children:e}),o.jsxs(ue,{children:[void 0!==t.show&&o.jsx(Le,{color:t.show?"green":"red",children:t.show?u("payroll:presets.view_modal.visible"):u("payroll:presets.view_modal.hidden")}),t.fixed&&o.jsxs(Le,{color:"blue",children:[u("payroll:presets.view_modal.fixed"),": ",t.fixed]})]})]},e)))})})]})]})}),o.jsxs(r,{title:u("payroll:presets.duplicate_modal.title"),open:y,onCancel:()=>{m(!1),g(null)},footer:[o.jsx(Q,{onClick:()=>{m(!1),g(null)},children:u("common:button.cancel")},"cancel"),o.jsx(Q,{type:"primary",onClick:()=>{var e;const t=document.getElementById("duplicate-name-input");(null==(e=null==t?void 0:t.value)?void 0:e.trim())?I(t.value.trim()):n.warning(u("payroll:presets.duplicate_modal.name_required"))},children:u("payroll:presets.duplicate")},"duplicate")],width:500,children:[o.jsx("div",{style:{marginBottom:16},children:o.jsx(wk,{type:"secondary",children:u("payroll:presets.duplicate_modal.description",{name:null==v?void 0:v.name})})}),o.jsx(ke,{layout:"vertical",children:o.jsx(ke.Item,{label:u("payroll:presets.duplicate_modal.new_name_label"),required:!0,children:o.jsx(Pe,{id:"duplicate-name-input",placeholder:u("payroll:presets.duplicate_modal.new_name_placeholder"),defaultValue:v?`${v.name} - 副本`:"",onPressEnter:()=>{var e;const t=document.getElementById("duplicate-name-input");(null==(e=null==t?void 0:t.value)?void 0:e.trim())&&I(t.value.trim())}})})})]}),o.jsx(jk,{visible:j,onClose:()=>w(!1)})]})};var Pk,Ck={exports:{}};var Ek,Tk=(Pk||(Pk=1,Ek=Ck,function(){function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof globalThis&&globalThis.global===globalThis?globalThis:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,a){var s=i.URL||i.webkitURL,l=document.createElement("a");o=o||e.name||"download",l.download=o,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,o,a):r(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(i,o,a){if(o=o||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(e(i,a),o);else if(n(i))t(i,o,a);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout((function(){r(s)}))}}:function(e,n,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});i.saveAs=a.saveAs=a,Ek.exports=a}()),Ck.exports);const Mk=[{name:"basic",priority:1,patterns:["*姓名*","*身份证号*","*部门*","*岗位*","*职务*","*账号*","*人员编号*","*员工编号*","*人员类别*","*编制*"]},{name:"salary",priority:2,patterns:["*工资*","*薪酬*","*基本*","*岗位*","*职务*","*津贴*","*补贴*"]},{name:"bonus",priority:3,patterns:["*奖金*","*绩效*","*考核*","*年终*"]},{name:"allowance",priority:4,patterns:["*补助*","*费用*","*交通*","*通讯*","*住房*"]},{name:"deduction",priority:5,patterns:["*扣除*","*扣*","*代扣*","*个税*","*社保*","*公积金*"]},{name:"insurance",priority:6,patterns:["*保险*","*医疗*","*养老*","*失业*","*工伤*","*生育*"]},{name:"fund",priority:7,patterns:["*公积金*","*住房*基金*"]},{name:"other",priority:8,patterns:["*其他*","*备注*","*说明*"]},{name:"period",priority:9,patterns:["*期间*","*月份*","*年月*"]},{name:"total",priority:10,patterns:["*合计*","*总计*","*应发*","*实发*","*净额*"]}],Nk=(e,t=Mk)=>{for(const n of t)for(const t of n.patterns)if(i_(e,t))return n;return{name:"unknown",priority:999,patterns:[]}},Dk=(e,t,n,r)=>{if(!r)return!0;if(r.includePatterns&&r.includePatterns.length>0){let t=!1;for(const n of r.includePatterns)if(i_(e,n)){t=!0;break}if(!t)return!1}if(r.excludePatterns&&r.excludePatterns.length>0)for(const i of r.excludePatterns)if(i_(e,i))return!1;if(!0===r.hideJsonbColumns){if(n.some((t=>{const n=t[e];return"object"==typeof n&&null!==n}))&&"object"==typeof t&&null!==t)return!1}if(!0===r.hideEmptyColumns){if(!n.some((t=>{const n=t[e];return null!=n&&""!==n&&0!==n})))return!1}if(!0===r.hideZeroColumns){if(n.some((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))}))){if(!n.some((t=>{const n=t[e];if("number"==typeof n)return 0!==n;if("string"==typeof n){const e=parseFloat(n);return!isNaN(e)&&0!==e}return!1})))return!1}}if(!0===r.showOnlyNumericColumns){if(!n.some((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))})))return!1}if(r.minValueThreshold&&r.minValueThreshold>0||r.maxValueThreshold&&r.maxValueThreshold<1/0){const t=Math.max(...n.map((t=>{const n=t[e];if("number"==typeof n)return n;if("string"==typeof n){const e=parseFloat(n);return isNaN(e)?0:e}return 0})));if(r.minValueThreshold&&t<r.minValueThreshold||r.maxValueThreshold&&t>r.maxValueThreshold)return!1}return!0},Ik=(e,t)=>{if(!e||0===e.length)return[];const n=(e[0]?Object.keys(e[0]).map((t=>((e,t)=>{const n={title:e,dataIndex:e,key:e,ellipsis:!0,width:150};("员工姓名"===e||"employee_name"===e||e.includes("姓名"))&&(n.fixed="left",n.width=120);const r=e=>[/电话/i,/手机/i,/联系方式/i,/phone/i,/mobile/i,/账号/i,/账户/i,/account/i,/卡号/i,/银行/i,/身份证/i,/证件/i,/id.*card/i,/identity/i,/客户号/i,/编号/i,/工号/i,/员工号/i,/人员编号/i,/邮编/i,/postal/i,/zip/i,/code/i,/qq/i,/微信/i,/wechat/i,/email/i,/邮箱/i].some((t=>t.test(e))),i=((e,t)=>{if(r(e))return!1;if("number"==typeof t)return!0;if("string"==typeof t){const e=parseFloat(t);return!isNaN(e)&&isFinite(e)}return[/金额/i,/工资/i,/薪/i,/费/i,/津贴/i,/补贴/i,/奖金/i,/保险/i,/公积金/i,/税/i,/扣/i,/合计/i,/总/i,/实发/i,/应发/i,/比例/i,/率/i,/percent/i,/ratio/i,/amount/i,/salary/i,/pay/i].some((t=>t.test(e)))})(e,t);n.render=(t,n,o)=>{if((a=t)&&(a.$$typeof===Symbol.for("react.element")||a.$$typeof===Symbol.for("react.portal")||a.$$typeof===Symbol.for("react.fragment")||"object"==typeof a&&null!==a&&(a.$$typeof||a.$typeof||a.type&&a.props||void 0!==a._owner))){try{if(t.props&&void 0!==t.props.children)return s(t.props.children);if(t.props&&void 0!==t.props.value)return s(t.props.value);if(t.props){const e=Object.keys(t.props);for(const n of e){const e=t.props[n];if("string"==typeof e||"number"==typeof e)return s(e)}}}catch(l){}return"[无法提取数据]"}var a;if(null==t)return"-";if("object"==typeof t&&null!==t){if(Array.isArray(t))return`[数组:${t.length}项]`;const e=["value","text","label","name","title","content","data"];for(const r of e)if(r in t&&null!==t[r]&&void 0!==t[r])return s(t[r]);const n=Object.keys(t);for(const r of n){const e=t[r];if("function"!=typeof e&&null!=e)return s(e)}try{const e=JSON.stringify(t);return e.length>50?`[对象: ${n.slice(0,3).join(", ")}]`:e}catch(l){return"[复杂对象]"}}return s(t);function s(t){if(null==t)return"-";if("boolean"==typeof t)return t?"是":"否";if(r(e))return String(t);if("number"==typeof t)return t.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});if("string"==typeof t&&i){const e=parseFloat(t);if(!isNaN(e)&&isFinite(e))return e.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}return String(t)||"-"}};const o=t&&"number"==typeof t.value;return n.sorter=o?(t,n)=>{const r=t[e],i=n[e];return(r&&"object"==typeof r&&"value"in r?r.value||0:r||0)-(i&&"object"==typeof i&&"value"in i?i.value||0:i||0)}:(t,n)=>{const r=t[e],i=n[e],o=String(r&&"object"==typeof r&&"value"in r?r.value||"":r||""),a=String(i&&"object"==typeof i&&"value"in i?i.value||"":i||"");return o.localeCompare(a,"zh-CN")},n})(t,e[0][t]))):[]).filter((n=>{const r=n.title,i=Dk(r,e[0][r],e,t);return i}));return Bk(n,t,e)},Bk=(e,t,n)=>{switch(t.columnSortMode||"byCategory"){case"byCategory":default:return Lk(e);case"byAlphabet":return Fk(e);case"byImportance":return zk(e);case"byDataType":return $k(e,n);case"custom":return Uk(e,t.customColumnOrder||[])}},Rk=e=>"员工姓名"===e||"employee_name"===e||e.includes("姓名")||"姓名"===e,Lk=e=>e.sort(((e,t)=>{const n=e.title,r=t.title;if(Rk(n)&&!Rk(r))return-1;if(!Rk(n)&&Rk(r))return 1;if(Rk(n)&&Rk(r))return 0;const i=Nk(n),o=Nk(r);return i.priority!==o.priority?i.priority-o.priority:n.localeCompare(r,"zh-CN")})),Fk=e=>e.sort(((e,t)=>{const n=e.title,r=t.title;return Rk(n)&&!Rk(r)?-1:!Rk(n)&&Rk(r)?1:Rk(n)&&Rk(r)?0:n.localeCompare(r,"zh-CN")})),zk=e=>{const t={"员工姓名":1,"员工编号":2,"身份证号":3,"部门名称":4,"职位名称":5,"基本工资":10,"岗位工资":11,"津贴合计":12,"补贴合计":13,"奖金合计":14,"应发合计":15,"实发合计":16,"个人所得税":20,"养老保险":21,"医疗保险":22,"失业保险":23,"住房公积金":24,"工作天数":30,"考勤天数":31,"加班费":32};return e.sort(((e,n)=>{const r=e.title,i=n.title;if(Rk(r)&&!Rk(i))return-1;if(!Rk(r)&&Rk(i))return 1;const o=t[r]||999,a=t[i]||999;return o!==a?o-a:r.localeCompare(i,"zh-CN")}))},$k=(e,t)=>e.sort(((e,n)=>{const r=e.title,i=n.title;if(Rk(r)&&!Rk(i))return-1;if(!Rk(r)&&Rk(i))return 1;if(Rk(r)&&Rk(i))return 0;const o=Wk(r,t),a=Wk(i,t);return o&&!a?-1:!o&&a?1:r.localeCompare(i,"zh-CN")})),Uk=(e,t)=>{if(!t||0===t.length)return Lk(e);const n=new Map;let r=1;return t.forEach((e=>{Rk(e)||n.set(e,r++)})),e.sort(((e,t)=>{const r=e.title,i=t.title;if(Rk(r)&&!Rk(i))return-1;if(!Rk(r)&&Rk(i))return 1;if(Rk(r)&&Rk(i))return 0;const o=n.get(r),a=n.get(i);if(void 0!==o&&void 0!==a)return o-a;if(void 0!==o&&void 0===a)return-1;if(void 0===o&&void 0!==a)return 1;const s=Nk(r),l=Nk(i);return s.priority!==l.priority?s.priority-l.priority:r.localeCompare(i,"zh-CN")}))},Wk=(e,t)=>{if(!t||0===t.length)return!1;const n=[/金额/i,/工资/i,/薪/i,/费/i,/津贴/i,/补贴/i,/奖金/i,/保险/i,/公积金/i,/税/i,/扣/i,/合计/i,/总/i,/实发/i,/应发/i,/天数/i,/小时/i,/次数/i,/比例/i,/率/i].some((t=>t.test(e))),r=t.slice(0,10),i=r.filter((t=>{const n=t[e];return"number"==typeof n||"string"==typeof n&&!isNaN(parseFloat(n))&&isFinite(parseFloat(n))})).length/r.length>.7;return n||i},Vk={hideJsonbColumns:!0,hideZeroColumns:!0,hideEmptyColumns:!0,includePatterns:[],excludePatterns:["*id","*时间","*日期"],minValueThreshold:0,maxValueThreshold:1/0,showOnlyNumericColumns:!1,columnSortMode:"byCategory",customColumnOrder:[]},qk="_searchContainer_u8wom_2",{Text:Hk}=V,Gk={[nk.AUTO]:{label:"智能搜索",icon:o.jsx(mt,{}),color:"blue",description:"自动判断搜索模式，支持数值范围查询"},[nk.FUZZY]:{label:"模糊搜索",icon:o.jsx(pt,{}),color:"green",description:"支持拼写错误和部分匹配"},[nk.EXACT]:{label:"精确搜索",icon:o.jsx(yt,{}),color:"orange",description:"完全匹配搜索内容"},[nk.RANGE]:{label:"数值范围",icon:o.jsx(yt,{}),color:"purple",description:"支持数值范围搜索，如: 实发合计>10000"}},Yk=({value:e="",placeholder:t="搜索员工姓名、编号、部门、职位... 或 实发合计>10000",onSearch:n,onClear:r,suggestions:i=[],searchMode:a=nk.AUTO,onSearchModeChange:s,isSearching:l=!1,totalResults:c=0,searchTime:u=0,disabled:d=!1,showHistory:f=!0,showPerformance:p=!0,className:h})=>{var y;const[m,v]=It.useState(!1),g=It.useRef(null),{history:b,addToHistory:x,clearHistory:j}=((e=10)=>{const[t,n]=It.useState([]);return{history:t,addToHistory:It.useCallback((t=>{t.trim()&&n((n=>{const r=n.filter((e=>e!==t));return[t,...r].slice(0,e)}))}),[e]),clearHistory:It.useCallback((()=>{n([])}),[]),removeFromHistory:It.useCallback((e=>{n((t=>t.filter((t=>t!==e))))}),[])}})(),w=It.useCallback(tk.debounce(((e,t)=>{e.trim()&&n(e.trim(),t)}),300),[n]);It.useEffect((()=>()=>{w.cancel()}),[w]);const O=async e=>{const{searchQuery:t,searchMode:r}=e,i=(null==t?void 0:t.trim())||"";return i&&x(i),n(i,r||nk.AUTO),v(!1),Promise.resolve()};p&&(c>0||u>0)&&u>0&&(o.Fragment,u.toFixed(1));const S=Lt.useMemo((()=>({searchQuery:e,searchMode:a})),[]);return It.useEffect((()=>{g.current&&g.current.setFieldsValue({searchQuery:e,searchMode:a})}),[e,a]),o.jsx("div",{className:`${h} search-form-controls`,children:o.jsx(ct,{formRef:g,layout:"horizontal",submitter:{render:()=>null},onFinish:O,onValuesChange:(e,t)=>{var i;const{searchQuery:o,searchMode:a}=t;if(e.searchMode&&s&&(s(e.searchMode),(null==o?void 0:o.trim())&&n(o.trim(),e.searchMode)),void 0!==e.searchQuery){const t=(null==(i=e.searchQuery)?void 0:i.trim())||"";t?(v(!0),w(t,a||nk.AUTO)):(v(!1),w.cancel(),""===e.searchQuery&&r())}},initialValues:S,autoFocusFirstInput:!1,preserve:!1,style:{margin:0},children:o.jsxs("div",{className:qk,children:[o.jsx("div",{style:{flexShrink:0},children:o.jsx(ut,{name:"searchMode",width:96,options:Object.entries(Gk).map((([e,t])=>({label:o.jsxs(ue,{size:1,style:{height:"18px",lineHeight:"18px"},children:[o.jsx("span",{style:{fontSize:"11px",lineHeight:"18px"},children:t.icon}),o.jsx("span",{style:{fontSize:"12px",lineHeight:"18px"},children:t.label})]}),value:e}))),fieldProps:{size:"small",disabled:d,style:{minWidth:96,maxHeight:"26px",overflow:"hidden"},optionLabelProp:"label"},tooltip:(null==(y=Gk[a])?void 0:y.description)||"选择搜索模式"})}),o.jsx("div",{style:{flex:1},children:o.jsx(dt,{name:"searchQuery",placeholder:t,fieldProps:{size:"small",style:{width:"100%"},disabled:d,prefix:l?o.jsx(De,{style:{color:"#1890ff",fontSize:"12px"}}):o.jsx(pt,{style:{color:"#999",fontSize:"12px"}}),suffix:o.jsx(ue,{size:2,children:o.jsx(Q,{type:"text",size:"small",icon:o.jsx(ft,{style:{fontSize:"12px"}}),onClick:()=>{var e;null==(e=g.current)||e.setFieldsValue({searchQuery:""}),v(!1),r()},style:{color:"#999",padding:"0 2px"}})}),onPressEnter:()=>{var e;const t=null==(e=g.current)?void 0:e.getFieldsValue();t&&O(t)},autoComplete:"off"}})}),f&&b.length>0&&o.jsx("div",{style:{flexShrink:0},children:o.jsx(Z,{title:"清空搜索历史",children:o.jsx(Q,{size:"small",icon:o.jsx(ht,{style:{fontSize:"12px"}}),onClick:j,disabled:d,style:{padding:"0 4px"}})})})]})})})},Kk=({searchQuery:e,searchResults:t,isSearching:n,searchMode:r,suggestions:i,totalResults:a,searchTime:s,isEmptyQuery:l,hasResults:c,performance:u,onSearch:d,onClear:f,onSearchModeChange:p,placeholder:h="搜索员工姓名、编号、部门、职位...",showPerformance:y=!0})=>{const{t:m}=Wt(["payroll","common"]),[v,g]=It.useState(!1);return o.jsx(le,{title:o.jsxs(ye,{justify:"space-between",align:"middle",wrap:!1,children:[o.jsx(me,{flex:"auto",children:o.jsxs(ue,{wrap:!0,size:4,align:"center",children:[o.jsx(pt,{}),o.jsx("span",{children:"智能搜索"}),!l&&o.jsxs(Le,{color:"blue",style:{margin:0},children:[a," 条结果",u.isOptimal&&o.jsx("span",{style:{color:"#52c41a"},children:" ⚡"})]}),l&&o.jsx("span",{style:{fontSize:"12px",color:"#666",marginLeft:"2px"},children:"💡 支持多关键词搜索，用空格分隔"})]})}),o.jsx(me,{flex:"none",children:o.jsx(Q,{type:"text",size:"small",onClick:()=>g(!v),icon:v?o.jsx(vt,{}):o.jsx(gt,{}),style:{padding:"2px 6px",height:"auto",lineHeight:1},children:o.jsx("span",{style:{fontSize:"12px"},className:"search-card-toggle-text",children:v?"展开":"收起"})})})]}),size:"small",style:{marginBottom:8,border:"1px solid #d9d9d9",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.02)",overflow:"hidden"},styles:{header:{padding:"4px 8px",minHeight:"28px",borderBottom:v?"0px":"1px solid #f0f0f0"},body:{padding:v?0:"4px 6px",backgroundColor:"#fafafa"}},children:!v&&o.jsx("div",{style:{margin:0,padding:0},children:o.jsx(Yk,{value:e,onSearch:d,onClear:f,suggestions:i,searchMode:r,onSearchModeChange:p,isSearching:n,totalResults:a,searchTime:s,showPerformance:y,placeholder:h})})})},{Text:Xk}=V,Zk=({availableColumns:e,filterConfig:t,onFilterConfigChange:i})=>{const[a,s]=It.useState(!1),[l,c]=It.useState(t.customColumnOrder||[]),u=[{key:"byCategory",label:"按类别排序",icon:o.jsx(wt,{}),onClick:()=>d("byCategory")},{key:"byAlphabet",label:"按字母排序",icon:o.jsx(wt,{}),onClick:()=>d("byAlphabet")},{key:"byImportance",label:"按重要性排序",icon:o.jsx(wt,{}),onClick:()=>d("byImportance")},{key:"byDataType",label:"数字列优先",icon:o.jsx(wt,{}),onClick:()=>d("byDataType")},{type:"divider"},{key:"custom",label:"自定义排序",icon:o.jsx(bt,{}),onClick:()=>s(!0)}],d=e=>{i({...t,columnSortMode:e,customColumnOrder:[]});n.success(`已应用"${{byCategory:"按类别排序",byAlphabet:"按字母排序",byImportance:"按重要性排序",byDataType:"数字列优先"}[e]}"`)},f=e=>"员工姓名"===e||"employee_name"===e||e.includes("姓名")||"姓名"===e;return o.jsxs(o.Fragment,{children:[o.jsx(st,{menu:{items:u},placement:"bottomLeft",trigger:["click"],children:o.jsx(Q,{size:"small",icon:o.jsx(bt,{}),title:`当前排序: ${{byCategory:"类别",byAlphabet:"字母",byImportance:"重要性",byDataType:"数字优先",custom:"自定义"}[t.columnSortMode||"byCategory"]||"类别"}`,children:"字段排序"})}),o.jsxs(r,{title:o.jsxs(ue,{children:[o.jsx(Qe,{}),"自定义字段排序"]}),open:a,onCancel:()=>s(!1),onOk:()=>{i({...t,columnSortMode:"custom",customColumnOrder:l}),s(!1),n.success(`已设置自定义排序，${l.length}个字段优先显示`)},width:600,okText:"应用排序",cancelText:"取消",children:[o.jsxs("div",{style:{marginBottom:16},children:[o.jsx(Xk,{type:"secondary",children:"选择的字段将按顺序显示在表格前面，未选择的字段保持默认排序"}),o.jsx("br",{}),o.jsx(Xk,{type:"secondary",style:{fontSize:"12px",color:"#52c41a"},children:"💡 员工姓名已自动固定在最左侧，无需手动排序"})]}),o.jsxs("div",{style:{display:"flex",gap:16,height:400},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx(Xk,{strong:!0,children:"可选字段"}),o.jsx("div",{style:{border:"1px solid #d9d9d9",borderRadius:6,padding:8,marginTop:8,height:350,overflowY:"auto"},children:e.filter((e=>!l.includes(e)&&!f(e))).map((e=>o.jsxs("div",{style:{padding:"4px 8px",margin:"2px 0",background:"#fafafa",borderRadius:4,cursor:"pointer",fontSize:"12px",transition:"background 0.2s"},onClick:()=>{var t;f(t=e)?n.info("员工姓名已固定在最左侧，无需手动排序"):l.includes(t)||c([...l,t])},onMouseEnter:e=>{e.currentTarget.style.background="#e6f7ff"},onMouseLeave:e=>{e.currentTarget.style.background="#fafafa"},children:["+ ",e]},e)))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx(Xk,{strong:!0,children:"排序字段"}),o.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:6,padding:8,marginTop:8,height:350,overflowY:"auto"},children:[l.map(((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",margin:"2px 0",background:"#f6ffed",border:"1px solid #d9f7be",borderRadius:4,fontSize:"12px"},children:[o.jsxs("span",{style:{flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},children:[t+1,". ",e]}),o.jsxs(ue,{size:"small",children:[o.jsx(Q,{type:"text",size:"small",icon:o.jsx(xt,{}),disabled:0===t,onClick:()=>(e=>{if(e>0){const t=[...l];[t[e-1],t[e]]=[t[e],t[e-1]],c(t)}})(t),style:{padding:"0 4px",minWidth:"auto"}}),o.jsx(Q,{type:"text",size:"small",icon:o.jsx(jt,{}),disabled:t===l.length-1,onClick:()=>(e=>{if(e<l.length-1){const t=[...l];[t[e],t[e+1]]=[t[e+1],t[e]],c(t)}})(t),style:{padding:"0 4px",minWidth:"auto"}}),o.jsx(Q,{type:"text",size:"small",onClick:()=>(e=>{const t=l.filter(((t,n)=>n!==e));c(t)})(t),style:{padding:"0 4px",minWidth:"auto",color:"#ff4d4f"},children:"×"})]})]},e))),0===l.length&&o.jsx("div",{style:{textAlign:"center",color:"#999",padding:"20px",fontSize:"12px"},children:"点击左侧字段添加到排序列表"})]})]})]})]})]})},{Panel:Qk}=rt,{Option:Jk}=Ce,eA={hideJsonbColumns:!0,hideZeroColumns:!0,hideEmptyColumns:!0,includePatterns:[],excludePatterns:["*id","*时间","*日期"],minValueThreshold:0,maxValueThreshold:1/0,showOnlyNumericColumns:!1},tA=({visible:e,onClose:t,filterConfig:r,onFilterConfigChange:i,dataSource:a})=>{const{t:s}=Wt(["payroll","common"]),l=It.useRef(null),[c,u]=Lt.useState(!1),[d,f]=Lt.useState(!1),p=It.useRef(null),h=Lt.useMemo((()=>{if(!a||0===a.length)return[];const e=new Set;return a.forEach((t=>{Object.keys(t).forEach((t=>{"id"===t||"key"===t||t.startsWith("_")||e.add(t)}))})),Array.from(e).sort()}),[a]),y=Lt.useMemo((()=>{const e={basic:[],salary:[],insurance:[],deduction:[],others:[]};return h.forEach((t=>{const n=t.toLowerCase();n.includes("姓名")||n.includes("编号")||n.includes("部门")||n.includes("职位")?e.basic.push(t):n.includes("工资")||n.includes("薪")||n.includes("津贴")||n.includes("补贴")||n.includes("奖金")?e.salary.push(t):n.includes("保险")||n.includes("公积金")||n.includes("社保")?e.insurance.push(t):n.includes("扣")||n.includes("税")||n.includes("费")?e.deduction.push(t):e.others.push(t)})),e}),[h]),m=e=>{i({...r,...e})},v=()=>{p.current&&clearTimeout(p.current),f(!1),t()};It.useEffect((()=>()=>{p.current&&clearTimeout(p.current)}),[]),It.useEffect((()=>{const t=t=>{"Escape"===t.key&&e&&!c&&v()};if(e)return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e,c]);const g=o.jsxs("div",{style:{maxWidth:280,fontSize:"13px"},children:[o.jsx("div",{style:{marginBottom:12,fontWeight:600,color:"#1890ff",borderBottom:"1px solid #f0f0f0",paddingBottom:6},children:"🎯 智能面板控制"}),o.jsxs("div",{style:{lineHeight:"1.7"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"🖱️"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"智能收起"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["鼠标离开后 ",o.jsx("span",{style:{color:"#f5222d",fontWeight:500},children:"800ms"})," 自动收起"]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"📌"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"固定模式"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["点击图钉",c&&o.jsx("span",{style:{color:"#52c41a",fontWeight:500},children:" (当前已固定)"})]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:8,padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"⌨️"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"快捷键"}),o.jsxs("div",{style:{color:"#666",fontSize:"12px"},children:["按 ",o.jsx("kbd",{style:{padding:"1px 4px",background:"linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%)",border:"1px solid #d9d9d9",borderRadius:"3px",fontSize:"11px",fontFamily:"monospace"},children:"ESC"})," 快速关闭"]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"4px 0"},children:[o.jsx("span",{style:{minWidth:"20px",fontSize:"16px",marginRight:"8px"},children:"✕"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:500,color:"#333"},children:"手动关闭"}),o.jsx("div",{style:{color:"#666",fontSize:"12px"},children:"点击关闭按钮随时关闭"})]})]})]})]}),b=e=>{switch(e){case"salary":m({...eA,includePatterns:["*工资*","*薪资*","*薪酬*","*合计*","*金额*","*应发*","*实发*","*津贴*","*补贴*","*奖金*"],excludePatterns:["*id*","*时间*","*日期*","*编号*"]}),n.success('已应用"工资相关"预设');break;case"insurance":m({...eA,includePatterns:["*保险*","*公积金*","*社保*","*医疗*","*养老*","*失业*","*工伤*","*生育*"],excludePatterns:["*id*","*时间*","*日期*"]}),n.success('已应用"保险公积金"预设');break;case"amounts":m({...eA,showOnlyNumericColumns:!0,excludePatterns:["*id*","*比例*","*费率*"]}),n.success('已应用"只看金额"预设');break;case"reset":m(eA),n.success("已重置为默认配置");break;case"all":m({...eA,includePatterns:["*"],excludePatterns:[]}),n.success('已应用"显示所有列"预设')}},x=e=>{switch(e){case"byCategory":m({...r,columnSortMode:"byCategory",customColumnOrder:[]}),n.success('已应用"按类别排序"');break;case"byAlphabet":m({...r,columnSortMode:"byAlphabet",customColumnOrder:[]}),n.success('已应用"按字母排序"');break;case"byImportance":m({...r,columnSortMode:"byImportance",customColumnOrder:[]}),n.success('已应用"按重要性排序"');break;case"byDataType":m({...r,columnSortMode:"byDataType",customColumnOrder:[]}),n.success('已应用"数字列优先"')}};return e?o.jsx(le,{ref:l,title:o.jsxs(ue,{style:{width:"100%",justifyContent:"space-between"},children:[o.jsxs(ue,{children:[o.jsx(yt,{}),o.jsx("span",{children:"列筛选配置"}),o.jsx(St,{content:g,title:null,trigger:["hover","click"],placement:"bottomLeft",overlayStyle:{zIndex:1050,maxWidth:350},mouseEnterDelay:.5,mouseLeaveDelay:.1,destroyTooltipOnHide:!0,children:o.jsx(_t,{style:{color:"#999",fontSize:"14px",cursor:"help",marginLeft:"4px",transition:"color 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#1890ff"},onMouseLeave:e=>{e.currentTarget.style.color="#999"}})}),d&&o.jsx("span",{style:{color:"#999",fontSize:"12px"},children:"即将收起..."})]}),o.jsxs(ue,{children:[o.jsx(Zk,{availableColumns:h,filterConfig:r,onFilterConfigChange:i}),o.jsx(Z,{title:c?"取消固定":"固定面板",children:o.jsx(Q,{type:"text",size:"small",icon:c?o.jsx(kt,{}):o.jsx(At,{}),onClick:()=>{u(!c),p.current&&(clearTimeout(p.current),f(!1))},style:{color:c?"#1890ff":"#999",padding:"0 4px"}})}),o.jsx(Z,{title:"关闭面板 (ESC)",children:o.jsx(Q,{type:"text",size:"small",icon:o.jsx(Pt,{}),onClick:v,style:{color:"#999",padding:"0 4px"}})})]})]}),size:"small",style:{marginBottom:16,border:c?"2px solid #1890ff":void 0,boxShadow:c?"0 4px 12px rgba(24, 144, 255, 0.2)":void 0,transition:"all 0.3s ease",opacity:d?.7:1},onMouseEnter:()=>{p.current&&(clearTimeout(p.current),f(!1))},onMouseLeave:()=>{!c&&e&&(f(!0),p.current=setTimeout((()=>{t(),f(!1)}),800))},children:o.jsxs(rt,{size:"small",children:[o.jsx(Qk,{header:"基础筛选",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideJsonbColumns,onChange:e=>m({hideJsonbColumns:e})}),o.jsx("span",{children:"隐藏 JSONB 列（原始数据列）"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideZeroColumns,onChange:e=>m({hideZeroColumns:e})}),o.jsx("span",{children:"隐藏全零列"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.hideEmptyColumns,onChange:e=>m({hideEmptyColumns:e})}),o.jsx("span",{children:"隐藏空列"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(it,{checked:r.showOnlyNumericColumns,onChange:e=>m({showOnlyNumericColumns:e})}),o.jsx("span",{children:"只显示数值列"})]})]})},"basic"),o.jsx(Qk,{header:"模式匹配",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs("label",{children:["包含模式（支持通配符 * 和 ?）：",o.jsx("span",{style:{color:"#666",fontSize:"12px",marginLeft:"8px"},children:'设置后仅显示匹配的列，例如 "*工资*" 显示所有包含"工资"的列'})]}),o.jsxs(Ce,{mode:"tags",style:{width:"100%",minHeight:"32px"},placeholder:"例如：*工资*、*保险*、*金额*（使用*通配符）",value:r.includePatterns,onChange:e=>{m({includePatterns:e})},maxTagCount:"responsive",maxTagPlaceholder:e=>`+${e.length}项...`,allowClear:!0,showSearch:!0,tokenSeparators:[",","，",";","；"," "],filterOption:(e,t)=>("string"==typeof(null==t?void 0:t.children)?t.children:String((null==t?void 0:t.children)||"")).toLowerCase().includes(e.toLowerCase()),dropdownStyle:{maxHeight:400,overflow:"auto"},tagRender:e=>{const{label:t,closable:n,onClose:r}=e;return o.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",margin:"2px",backgroundColor:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"4px",fontSize:"12px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:String(t),children:[t,n&&o.jsx("span",{style:{marginLeft:"4px",cursor:"pointer"},onClick:r,children:"×"})]})},children:[o.jsx(Jk,{value:"*工资*",children:'*工资*（包含"工资"）'}),o.jsx(Jk,{value:"*保险*",children:'*保险*（包含"保险"）'}),o.jsx(Jk,{value:"*金额*",children:'*金额*（包含"金额"）'}),o.jsx(Jk,{value:"*合计*",children:'*合计*（包含"合计"）'}),o.jsx(Jk,{value:"*津贴*",children:'*津贴*（包含"津贴"）'}),o.jsx(Jk,{value:"*补贴*",children:'*补贴*（包含"补贴"）'}),o.jsx(Jk,{value:"*奖金*",children:'*奖金*（包含"奖金"）'}),o.jsx(Jk,{value:"基本*",children:'基本*（以"基本"开头）'}),o.jsx(Jk,{value:"*费额",children:'*费额（以"费额"结尾）'}),y.basic.length>0&&o.jsxs(o.Fragment,{children:[y.basic.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确匹配）"]},e))),y.basic.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.salary.length>0&&o.jsxs(o.Fragment,{children:[y.salary.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确匹配）"]},e))),y.salary.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.insurance.length>0&&o.jsxs(o.Fragment,{children:[y.insurance.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确匹配）"]},e))),y.insurance.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.deduction.length>0&&o.jsxs(o.Fragment,{children:[y.deduction.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确匹配）"]},e))),y.deduction.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]}),y.others.length>0&&o.jsxs(o.Fragment,{children:[y.others.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确匹配）"]},e))),y.others.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含匹配）"]},`*${e}*`)))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{children:"排除模式（支持通配符 * 和 ?）："}),o.jsxs(Ce,{mode:"tags",style:{width:"100%",minHeight:"32px"},placeholder:"例如：*id、*时间、*日期",value:r.excludePatterns,onChange:e=>{m({excludePatterns:e})},maxTagCount:"responsive",maxTagPlaceholder:e=>`+${e.length}项...`,allowClear:!0,showSearch:!0,tokenSeparators:[",","，",";","；"," "],filterOption:(e,t)=>("string"==typeof(null==t?void 0:t.children)?t.children:String((null==t?void 0:t.children)||"")).toLowerCase().includes(e.toLowerCase()),dropdownStyle:{maxHeight:400,overflow:"auto"},tagRender:e=>{const{label:t,closable:n,onClose:r}=e;return o.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",margin:"2px",backgroundColor:"#fff2e8",border:"1px solid #ffbb96",borderRadius:"4px",fontSize:"12px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:String(t),children:[t,n&&o.jsx("span",{style:{marginLeft:"4px",cursor:"pointer"},onClick:r,children:"×"})]})},children:[o.jsx(Jk,{value:"*id",children:"*id"}),o.jsx(Jk,{value:"*时间",children:"*时间"}),o.jsx(Jk,{value:"*日期",children:"*日期"}),o.jsx(Jk,{value:"*编号",children:"*编号"}),Object.entries(y).map((([e,t])=>t.length>0?o.jsxs(Lt.Fragment,{children:[t.map((e=>o.jsxs(Jk,{value:e,children:[e,"（精确排除）"]},`exclude-${e}`))),t.map((e=>o.jsxs(Jk,{value:`*${e}*`,children:["*",e,"*（包含排除）"]},`exclude-*${e}*`)))]},e):null))]})]})]})},"patterns"),o.jsx(Qk,{header:"数值范围",children:o.jsxs(ue,{wrap:!0,children:[o.jsx("span",{children:"最小值阈值："}),o.jsx(Ot,{value:r.minValueThreshold,onChange:e=>m({minValueThreshold:e||0}),placeholder:"0"}),o.jsx("span",{children:"最大值阈值："}),o.jsx(Ot,{value:r.maxValueThreshold===1/0?void 0:r.maxValueThreshold,onChange:e=>m({maxValueThreshold:e||1/0}),placeholder:"无限制"})]})},"values"),o.jsx(Qk,{header:"快速预设",children:o.jsxs(ue,{wrap:!0,children:[o.jsx(Q,{size:"small",onClick:()=>b("salary"),children:"工资相关"}),o.jsx(Q,{size:"small",onClick:()=>b("insurance"),children:"保险公积金"}),o.jsx(Q,{size:"small",onClick:()=>b("amounts"),children:"只看金额"}),o.jsx(Q,{size:"small",type:"primary",onClick:()=>b("all"),children:"显示所有列"}),o.jsx(Q,{size:"small",onClick:()=>b("reset"),children:"重置默认"})]})},"presets"),o.jsx(Qk,{header:"智能排序",children:o.jsxs(ue,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{marginBottom:"8px",display:"block"},children:["按字段类型排序：",o.jsx("span",{style:{color:"#666",fontSize:"12px",marginLeft:"8px"},children:"基础信息 → 薪资项目 → 扣减项目 → 合计金额"})]}),o.jsxs(ue,{wrap:!0,children:[o.jsx(Q,{size:"small",onClick:()=>x("byCategory"),children:"按类别排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byAlphabet"),children:"按字母排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byImportance"),children:"按重要性排序"}),o.jsx(Q,{size:"small",onClick:()=>x("byDataType"),children:"数字列优先"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{marginBottom:"8px",display:"block"},children:"自定义排序模式："}),o.jsx(Ce,{style:{width:"100%"},placeholder:"选择字段排序到前面",mode:"tags",onChange:e=>{return t=e,m({...r,columnSortMode:"custom",customColumnOrder:t}),void(t.length>0&&n.success(`已设置自定义排序，${t.length}个字段优先显示`));var t},tokenSeparators:[",","，",";","；"," "],children:h.map((e=>o.jsx(Jk,{value:e,children:e},e)))}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"选中的字段将按选择顺序排在前面，其他字段保持默认顺序"})]})]})},"sorting"),!1]})}):null},nA={filename:"",sheetName:"工资数据",presetName:"默认预设",includeHeaders:!0,autoWidth:!0,maxColumnWidth:50,dateFormat:"YYYY年MM月",numberFormat:"#,##0.00"},rA=(e,t,n)=>{const r=n||"",i=[e||"薪资数据",t||"默认预设",(new Date).toISOString().slice(0,19).replace(/[:-]/g,"").replace("T","_")];return r&&i.splice(2,0,r),`${i.join("_")}.xlsx`},iA=(e,t)=>{const n=t.filter((e=>{const t="action"===e.key||"action"===e.dataIndex||"操作"===e.title,n=!0===e.hideInTable,r=!t&&!n;return r})).map(((e,t)=>{const n=e.title,r=`col_${t}`;let i=Math.max(2*n.length,12);return n.includes("姓名")&&(i=Math.max(i,15)),n.includes("编号")&&(i=Math.max(i,18)),(n.includes("金额")||n.includes("工资")||n.includes("合计"))&&(i=Math.max(i,16)),{header:n,key:r,width:i,column:e}})),r=e.map(((e,t)=>{const r={};return n.forEach(((n,i)=>{const o=n.column,a=o.dataIndex,s=e[a];try{let i;if(o.render&&"function"==typeof o.render){const n=o.render(s,e,t,{},{}),r=a_(n);if(a&&!QS(a)){const e=r.replace(/[,\s]/g,""),t=parseFloat(e);i=!isNaN(t)&&isFinite(t)&&"N/A"!==e&&"-"!==e?t:r||"-"}else i=r||"-"}else i=c_(s,o,e,t);r[n.key]=i}catch(l){r[n.key]="-"}})),r}));return{orderedColumns:n,processedData:r,stats:{recordCount:e.length,columnCount:n.length}}},oA=async(e,t,n)=>{const r=new en.Workbook;r.creator="Payroll System",r.lastModifiedBy="Payroll System",r.created=new Date,r.modified=new Date;const i=r.addWorksheet(n.sheetName);i.columns=e.map((e=>({header:e.header,key:e.key,width:e.width})));const o=i.getRow(1);return o.height=25,o.font={bold:!0,size:12},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},o.alignment={vertical:"middle",horizontal:"center"},o.eachCell((e=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})),t.forEach(((t,n)=>{const r={};e.forEach((e=>{const n=t[e.key];r[e.key]=n}));i.addRow(r).eachCell(((t,n)=>{const r=e[n-1];r&&("number"==typeof t.value?(t.alignment={horizontal:"right",vertical:"middle"},r.column.dataIndex&&!QS(r.column.dataIndex)&&(t.numFmt="#,##0.00")):t.alignment={horizontal:"left",vertical:"middle"},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),i.eachRow((e=>{e.number>1&&(e.height=20)})),r},aA=async(e,t,r,i)=>{try{n.loading({content:"正在生成Excel文件...",key:"export"});const o={...nA,...i,filename:(null==i?void 0:i.filename)||rA(r,(null==i?void 0:i.presetName)||nA.presetName,(null==i?void 0:i.sheetName)!==nA.sheetName?null==i?void 0:i.sheetName:void 0)},{orderedColumns:a,processedData:s,stats:l}=iA(e,t);if(0===s.length)return n.warning({content:"没有数据可导出",key:"export"}),{success:!1,error:"没有数据可导出"};const c=await oA(a,s,o),u=await c.xlsx.writeBuffer(),d=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return Tk.saveAs(d,o.filename),n.success({content:`导出完成！文件：${o.filename}`,key:"export",duration:5}),{success:!0,filename:o.filename,recordCount:l.recordCount,columnCount:l.columnCount}}catch(o){const e=o instanceof Error?o.message:"未知错误";return n.error({content:`导出失败：${e}`,key:"export",duration:10}),{success:!1,error:e}}},sA=async(e,t,r,i)=>{if(0===e.length)return n.warning("请先选择要导出的数据行"),{success:!1,error:"没有选中任何数据"};const o={...i,sheetName:`选中数据_${e.length}条`,filename:rA(r,(null==i?void 0:i.presetName)||"默认预设",`选中数据_${e.length}条`)};return aA(e,t,r,o)},lA=Object.freeze(Object.defineProperty({__proto__:null,createWorkbookWithExcelJS:oA,exportSelectedRows:sA,exportToExcel:aA,generateExportFilename:rA,processExportDataWithExcelJS:iA},Symbol.toStringTag,{value:"Module"})),cA=({record:e,onViewDetail:t,onEdit:r,onDelete:i})=>{const{t:a}=Wt(["payroll","common"]);return o.jsxs(ue,{size:"small",children:[o.jsx(Ht,{icon:o.jsx(be,{}),onClick:()=>t(e),tooltipTitle:a("common:button.view"),actionType:"view"}),o.jsx(Ht,{icon:o.jsx(Xe,{}),onClick:()=>r(e),tooltipTitle:a("common:button.edit"),actionType:"edit"}),o.jsx(Ht,{icon:o.jsx(Se,{}),onClick:()=>{i?i(e):n.warning("删除功能开发中...")},tooltipTitle:a("common:button.delete"),actionType:"delete"})]})},uA=({dataCount:e,onExport:t,onOpenPresets:n,onOpenFilter:r,onRefresh:i,isExporting:a=!1,isRefreshing:s=!1})=>{const l=[o.jsxs(Q,{type:"primary",icon:o.jsx(ne,{}),onClick:t,disabled:0===e,loading:a,children:["导出Excel (",e,")"]},"export"),o.jsx(Q,{icon:o.jsx(Ct,{}),onClick:n,children:"预设报表管理"},"presets")];return r&&l.splice(l.length-1,0,o.jsx(Q,{icon:o.jsx(yt,{}),onClick:r,children:"列筛选"},"filter")),l},dA=({selectedRowKeys:e,selectedRows:t})=>{if(0===e.length)return null;const n=t.reduce(((e,t)=>{const n=t.应发合计,r="number"==typeof n?n:"string"==typeof n?parseFloat(n):0;return e+(isNaN(r)?0:r)}),0),r=t.reduce(((e,t)=>{const n=t.实发合计,r="number"==typeof n?n:"string"==typeof n?parseFloat(n):0;return e+(isNaN(r)?0:r)}),0);return o.jsxs("div",{children:["已选择 ",o.jsx("a",{style:{fontWeight:600},children:e.length})," 项   ",o.jsxs("span",{children:["应发合计: ¥",n.toFixed(2),"   实发合计: ¥",r.toFixed(2)]})]})},fA=({selectedRowKeys:e,selectedRows:t,onCleanSelected:r,onBatchDelete:i,onBatchExport:a})=>{const{t:s}=Wt(["payroll","common"]);return o.jsxs(ue,{children:[o.jsx("a",{onClick:()=>{i?i(e):n.warning("批量删除功能开发中...")},style:{color:"#ff4d4f"},children:"批量删除"}),o.jsx("a",{onClick:()=>{a?a(t):n.info("批量导出功能开发中...")},children:"批量导出"}),o.jsx("a",{onClick:r,children:"取消选择"})]})},pA=({onClose:e,extraActions:t=[]})=>{const{t:n}=Wt(["common"]);return[...t,o.jsx(Q,{onClick:e,children:n("common:button.close")},"close")]},hA=({visible:e,onClose:t,periodId:i,periodName:a})=>{const{t:s}=Wt(["payroll","common","employee"]),l=It.useRef(null),c=Zt();Lt.useEffect((()=>{e&&i>0&&c.removeQueries({queryKey:u_.list({periodId:i.toString(),size:100,page:1})})}),[e,i,c]);const u=It.useMemo((()=>({periodId:i&&i>0?i.toString():void 0,size:100,page:1})),[i]),d=It.useMemo((()=>({enabled:e&&i>0,staleTime:3e4,gcTime:3e5})),[e,i]),{data:f,isLoading:p,error:h,refetch:y}=function(e,t={}){const{t:r}=Wt();Zt();const{enabled:i=!0,refetchInterval:o,onError:a,onSuccess:s}=t;return Qt({queryKey:u_.list(e),queryFn:async()=>{var t,i,o,l;try{const t=(await Ut.get(`/reports/payroll-modal/period/${e.periodId}?limit=${e.size||100}`)).data,n=e=>e&&(e.$$typeof===Symbol.for("react.element")||e.$$typeof===Symbol.for("react.portal")||e.$$typeof===Symbol.for("react.fragment")||"object"==typeof e&&null!==e&&(e.$$typeof||e.$typeof||e.type&&e.props||void 0!==e._owner)),r=e=>{if(null==e)return e;if(n(e))return"[已清理的React元素]";if(Array.isArray(e))return e.map((e=>r(e)));if("object"==typeof e){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]=r(n)})),t}return e},i=e=>{if(!e||"object"!=typeof e)return{};const t=r(e),n={};return Object.entries(t).forEach((([e,t])=>{if("object"==typeof t&&null!==t)if(Array.isArray(t))n[e]=t;else try{n[e]=JSON.stringify(t)}catch(r){n[e]="[无法序列化的对象]"}else n[e]=t})),n},o=t.map(((e,t)=>{var n,r,o,a,s,l,c,u,d,f,p,h,y,m,v,g,b,x,j,w,O,S,_,k,A,P,C,E,T,M,N,D,I,B,R,L,F,z,$,U,W,V,q,H,G,Y,K,X,Z,Q,J,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,fe,pe,he,ye,me,ve,ge,be,xe,je,we;return{id:e.薪资条目id||t,key:e.薪资条目id||`row-${t}`,"薪资条目id":e.薪资条目id,"员工编号":null==(n=e.基础信息)?void 0:n.员工编号,"员工姓名":null==(r=e.基础信息)?void 0:r.员工姓名,"部门名称":null==(o=e.基础信息)?void 0:o.部门名称,"职位名称":null==(a=e.基础信息)?void 0:a.职位名称,"人员类别":null==(s=e.基础信息)?void 0:s.人员类别,"编制":null==(l=e.基础信息)?void 0:l.编制,"薪资期间名称":null==(c=e.基础信息)?void 0:c.薪资期间名称,"应发合计":null==(u=e.汇总信息)?void 0:u.应发合计,"扣除合计":null==(d=e.汇总信息)?void 0:d.扣除合计,"实发合计":null==(f=e.汇总信息)?void 0:f.实发合计,"电话":null==(h=null==(p=e.员工详细信息)?void 0:p.联系信息)?void 0:h.电话,"邮箱":null==(m=null==(y=e.员工详细信息)?void 0:y.联系信息)?void 0:m.邮箱,"家庭住址":null==(g=null==(v=e.员工详细信息)?void 0:v.联系信息)?void 0:g.家庭住址,"紧急联系人":null==(x=null==(b=e.员工详细信息)?void 0:b.联系信息)?void 0:x.紧急联系人,"紧急联系电话":null==(w=null==(j=e.员工详细信息)?void 0:j.联系信息)?void 0:w.紧急联系电话,"身份证号":null==(S=null==(O=e.员工详细信息)?void 0:O.个人信息)?void 0:S.身份证号,"出生日期":null==(k=null==(_=e.员工详细信息)?void 0:_.个人信息)?void 0:k.出生日期,"性别":null==(P=null==(A=e.员工详细信息)?void 0:A.个人信息)?void 0:P.性别,"民族":null==(E=null==(C=e.员工详细信息)?void 0:C.个人信息)?void 0:E.民族,"民族详情":null==(M=null==(T=e.员工详细信息)?void 0:T.个人信息)?void 0:M.民族详情,"婚姻状况":null==(D=null==(N=e.员工详细信息)?void 0:N.个人信息)?void 0:D.婚姻状况,"学历":null==(B=null==(I=e.员工详细信息)?void 0:I.个人信息)?void 0:B.学历,"政治面貌":null==(L=null==(R=e.员工详细信息)?void 0:R.个人信息)?void 0:L.政治面貌,"入职日期":null==(z=null==(F=e.员工详细信息)?void 0:F.工作信息)?void 0:z.入职日期,"首次工作日期":null==(U=null==($=e.员工详细信息)?void 0:$.工作信息)?void 0:U.首次工作日期,"现职位开始日期":null==(V=null==(W=e.员工详细信息)?void 0:W.工作信息)?void 0:V.现职位开始日期,"中断服务年限":null==(H=null==(q=e.员工详细信息)?void 0:q.工作信息)?void 0:H.中断服务年限,"员工状态":null==(Y=null==(G=e.员工详细信息)?void 0:G.工作信息)?void 0:Y.员工状态,"用工类型":null==(X=null==(K=e.员工详细信息)?void 0:K.工作信息)?void 0:X.用工类型,"合同类型":null==(Q=null==(Z=e.员工详细信息)?void 0:Z.工作信息)?void 0:Q.合同类型,"薪级":null==(ee=null==(J=e.员工详细信息)?void 0:J.工作信息)?void 0:ee.薪级,"薪档":null==(ne=null==(te=e.员工详细信息)?void 0:te.工作信息)?void 0:ne.薪档,"职位等级":null==(ie=null==(re=e.员工详细信息)?void 0:re.工作信息)?void 0:ie.职位等级,"社保客户号":null==(ae=null==(oe=e.员工详细信息)?void 0:oe.社保公积金信息)?void 0:ae.社保客户号,"住房公积金客户号":null==(le=null==(se=e.员工详细信息)?void 0:se.社保公积金信息)?void 0:le.住房公积金客户号,"开户银行":null==(ue=null==(ce=e.员工详细信息)?void 0:ce.银行账号信息)?void 0:ue.开户银行,"账户持有人":null==(fe=null==(de=e.员工详细信息)?void 0:de.银行账号信息)?void 0:fe.账户持有人,"银行账号":null==(he=null==(pe=e.员工详细信息)?void 0:pe.银行账号信息)?void 0:he.银行账号,"开户支行":null==(me=null==(ye=e.员工详细信息)?void 0:ye.银行账号信息)?void 0:me.开户支行,"银行代码":null==(ge=null==(ve=e.员工详细信息)?void 0:ve.银行账号信息)?void 0:ge.银行代码,"账户类型":null==(xe=null==(be=e.员工详细信息)?void 0:be.银行账号信息)?void 0:xe.账户类型,...i(e.应发明细),...i(null==(je=e.扣除明细)?void 0:je.个人扣缴项目),...i(null==(we=e.扣除明细)?void 0:we.单位扣缴项目),...i(e.计算参数)}})).map((e=>{const t={};return Object.keys(e).forEach((n=>{t[n]=s_(e[n])})),t})).map(((e,t)=>{const n={};return Object.keys(e).forEach((t=>{const r=e[t];if("object"==typeof r&&null!==r){const e=r.$$typeof||r.$typeof||r.type&&r.props;n[t]=e?"[数据错误:React元素]":r}else n[t]=r})),n})),a={data:o,total:o.length,page:e.page||1,size:e.size||100};return null==s||s(a),a}catch(h){const s=(null==(l=null==(o=null==(i=null==(t=null==h?void 0:h.response)?void 0:t.data)?void 0:i.detail)?void 0:o.error)?void 0:l.message)||(null==h?void 0:h.message)||r("common.error.fetchFailed");throw n.error(s),null==a||a(h),h}},enabled:i,refetchInterval:o,staleTime:0,gcTime:0,retry:(e,t)=>{var n,r;return!((null==(n=null==t?void 0:t.response)?void 0:n.status)>=400&&(null==(r=null==t?void 0:t.response)?void 0:r.status)<500)&&e<1},retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!0,throwOnError:!1})}(u,d),m=It.useMemo((()=>{if(!(null==f?void 0:f.data))return[];return f.data.map(((e,t)=>({...e,id:e.id||t})))}),[f]),v=It.useMemo((()=>m.map(((e,t)=>{const n={...e};return Object.keys(n).forEach((e=>{const t=n[e];if("object"==typeof t&&null!==t){(t.$$typeof||t.$typeof||t.type&&t.props)&&(n[e]="[数据错误:React元素]")}})),n}))),[m]),{query:g,results:b,isSearching:x,searchMode:j,suggestions:w,totalResults:O,searchTime:S,search:_,clearSearch:k,setSearchMode:A,isEmptyQuery:P,hasResults:C,performance:E}=sk(v,{threshold:.3,debounceDelay:300,enableSuggestions:!0,maxSuggestions:5}),T=It.useMemo((()=>{if(P||!b||0===b.length)return;const e=b.map((e=>v.findIndex((t=>t===e.item)))).filter((e=>-1!==e));return new Set(e)}),[b,v,P]),{filteredDataSource:M,filterConfig:N,currentColumnsState:D,generateColumns:I,setFilterConfig:B}=(({data:e,periodName:t,searchResults:n,searchMode:r=nk.AUTO})=>{var i,o,a;const[s,l]=It.useState(Vk),[c,u]=It.useState({}),[d,f]=It.useState([]),[p,h]=It.useState({current:1,pageSize:10}),y=It.useMemo((()=>{let t=e||[];return n&&n.size>0&&(t=t.filter(((e,t)=>n.has(t)))),c.filters&&Object.entries(c.filters).forEach((([e,n])=>{n&&n.length>0&&(t=t.filter((t=>{const r=t[e];return n.includes(r)})))})),t}),[e,n,c.filters]),m=It.useMemo((()=>[{name:"basic",priority:1,patterns:["姓名","身份证号","部门","岗位","职务","账号","人员编号"]},{name:"salary",priority:2,patterns:["*工资*","*薪酬*","*基本*","*岗位*","*职务*","*津贴*","*补贴*"]},{name:"bonus",priority:3,patterns:["*奖金*","*绩效*","*考核*","*年终*"]},{name:"allowance",priority:4,patterns:["*补助*","*费用*","*交通*","*通讯*","*住房*"]},{name:"deduction",priority:5,patterns:["*扣除*","*扣*","*代扣*","*个税*","*社保*","*公积金*"]},{name:"insurance",priority:6,patterns:["*保险*","*医疗*","*养老*","*失业*","*工伤*","*生育*"]},{name:"fund",priority:7,patterns:["*公积金*","*住房*基金*"]},{name:"other",priority:8,patterns:["*其他*","*备注*","*说明*"]},{name:"period",priority:9,patterns:["*期间*","*月份*","*年月*"]},{name:"total",priority:10,patterns:["*合计*","*总计*","*应发*","*实发*","*净额*"]}]),[]),v=It.useCallback((e=>{for(const t of m)for(const n of t.patterns)if(i_(e,n))return t;return{name:"unknown",priority:999,patterns:[]}}),[m]),g=It.useCallback((async(e,n,r)=>{const{exportToExcel:i}=await qt((async()=>{const{exportToExcel:e}=await Promise.resolve().then((()=>lA));return{exportToExcel:e}}),void 0);return(await i(e,n,t,{presetName:r||"默认预设"})).success}),[t]);return It.useEffect((()=>{if(e&&e.length>0){const t=Ik(e,s);f(t)}else f([])}),[e.length,null==(i=s.includePatterns)?void 0:i.join(","),null==(o=s.excludePatterns)?void 0:o.join(","),s.hideJsonbColumns,s.hideZeroColumns,s.hideEmptyColumns,s.showOnlyNumericColumns,s.minValueThreshold,s.maxValueThreshold,s.columnSortMode,null==(a=s.customColumnOrder)?void 0:a.join(",")]),{filteredDataSource:y,currentColumnsState:d,filterConfig:s,tableFilterState:c,pagination:p,setFilterConfig:l,setTableFilterState:u,setPagination:h,setCurrentColumnsState:f,generateColumns:Ik,exportToExcel:g,shouldShowField:Dk,getFieldGroup:v,formatNumber:JS,renderNumber:e_,formatDate:t_,formatDateToChinese:n_,safeStringify:r_,matchesPattern:i_,extractTextFromRender:a_,cleanValue:l_,processValue:c_}})({data:v,periodName:a,searchResults:T,searchMode:j});uk();const[R,L]=It.useState(!1),[F,z]=It.useState(!1),[$,U]=It.useState("默认预设");It.useEffect((()=>{}),[F,N]);const[W,V]=It.useState(!1),[q,H]=It.useState(!1),[G,Y]=It.useState(""),[K,X]=It.useState(null),[Z,Q]=It.useState(null),[J,ee]=It.useState(!1),[te,ne]=It.useState(!1),re=It.useMemo((()=>{if(!M||0===M.length)return D.length>0?[...D,{title:s("common:table.action"),key:"action",fixed:"right",width:120,render:(e,t)=>o.jsx(cA,{record:t,onViewDetail:ie,onEdit:oe,onDelete:ae})}]:[];return[...D.length>0?D:I(M,N),{title:s("common:table.action"),key:"action",fixed:"right",width:120,render:(e,t)=>o.jsx(cA,{record:t,onViewDetail:ie,onEdit:oe,onDelete:ae})}]}),[D,I,M,N,s]),ie=async e=>{e.薪资条目id?(Y(String(e.薪资条目id)),V(!0)):n.warning(s("payroll:entry_form.message.update_success_no_data"))},oe=async e=>{if(e.薪资条目id)try{const t=await Kt(e.薪资条目id);if(t.data){const e=t.data;X(e),Q(e.payroll_run_id),H(!0)}else n.error(s("payroll:entry_detail_modal.not_found"))}catch(t){n.error(`${s("payroll:entry_form.error_fetch_employee")}: ${t.message||s("common:unknown_error")}`)}else n.warning(s("payroll:runs_page.form.placeholder.payroll_period"))},ae=e=>{n.warning("删除功能开发中...")},se=()=>{ne(!0),y().finally((()=>{ne(!1),n.success(s("common:table.refreshSuccess"))}))},le=async e=>{if(0!==e.length){ee(!0);try{const t=[...re];await sA(e,t,a,{presetName:$})}catch(t){}finally{ee(!1)}}else n.warning("请先选择要导出的数据")};return o.jsxs(r,{title:`工资数据详情 - ${a||"未知期间"}`,open:e,onCancel:t,width:"90%",style:{top:20},footer:o.jsx(pA,{onClose:t}),destroyOnClose:!0,children:[o.jsx(Kk,{searchQuery:g,searchResults:b,isSearching:x,searchMode:j,suggestions:w,totalResults:O,searchTime:S,isEmptyQuery:P,hasResults:C,performance:E,onSearch:_,onClear:k,onSearchModeChange:A,placeholder:"搜索员工姓名、编号、部门、职位... 或 实发合计>10000",showPerformance:!0}),o.jsx(tA,{visible:F,onClose:()=>z(!1),filterConfig:N,onFilterConfigChange:B,dataSource:v}),o.jsx(Et,{actionRef:l,columns:re,dataSource:M,rowKey:"id",loading:p,size:"small",scroll:{x:"max-content",y:600},search:!1,onLoad:()=>{},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t[0]}-${t[1]} 条/总共 ${e} 条`,pageSizeOptions:["10","20","50","100"],defaultPageSize:20},toolbar:{actions:uA({dataCount:M.length,onExport:async()=>{if(0!==M.length){ee(!0);try{const e=[...re];await aA(M,e,a,{presetName:$})}catch(e){}finally{ee(!1)}}else n.warning(s("payroll:batch_import.result.no_result"))},onOpenPresets:()=>L(!0),onOpenFilter:()=>z(!0),onRefresh:se,isExporting:J,isRefreshing:te})},rowSelection:{type:"checkbox"},tableAlertRender:({selectedRowKeys:e,selectedRows:t})=>o.jsx(dA,{selectedRowKeys:e,selectedRows:t}),tableAlertOptionRender:({selectedRowKeys:e,selectedRows:t,onCleanSelected:n})=>o.jsx(fA,{selectedRowKeys:e,selectedRows:t,onCleanSelected:n,onBatchExport:le}),options:{reload:se,density:!0,fullScreen:!0,setting:{draggable:!0,checkable:!0,listsHeight:500}}}),o.jsx(Ak,{visible:R,onClose:()=>L(!1),currentFilterConfig:N,currentColumnSettings:{},getCurrentConfig:()=>({filterConfig:N,columnSettings:{},tableFilterState:{searchQuery:g||void 0,searchMode:j||nk.AUTO,pagination:{current:1,pageSize:20}}}),onApplyPreset:e=>{var t,r;U(e.name||"默认预设"),e.filterConfig&&B(e.filterConfig);const i=(null==(t=e.tableFilterState)?void 0:t.searchQuery)||e.searchQuery;i&&_(i);const o=(null==(r=e.tableFilterState)?void 0:r.searchMode)||e.searchMode||nk.AUTO;A(o),n.success(`已应用预设: ${e.name}`)}}),o.jsx(Xt,{visible:W,entryId:G,onClose:()=>{V(!1),Y("")}}),o.jsx(zt,{visible:q,entry:K,payrollPeriodId:i,payrollRunId:Z,onSuccess:()=>{H(!1),X(null),Q(null),y(),n.success(s("payroll:entry_form.message.update_success"))},onClose:()=>{H(!1),X(null),Q(null)}})]})},{Text:yA}=V,mA=({currentPeriod:e,currentVersion:t,onPeriodChange:n,onVersionChange:r,onSettings:a,onDateChange:s})=>{const l=()=>{if(!t)return 0;const e=c(t.status_name);return Math.round((e+1)/5*100)},c=e=>{switch(e){case"DRAFT":case"草稿":default:return 0;case"PRUN_CALCULATED":case"已计算":return 1;case"IN_REVIEW":case"审核中":return 2;case"APPROVED_FOR_PAYMENT":case"批准支付":return 3;case"PAID":case"已支付":return 4}};return o.jsx(Tt,{offsetTop:0,children:o.jsx("div",{className:"payroll-context-bar",children:o.jsxs("div",{className:"context-content",children:[o.jsx("div",{className:"context-left",children:o.jsxs(ue,{size:"large",children:[o.jsxs(ue,{className:"context-section",children:[o.jsx(Te,{className:"context-icon period-icon"}),o.jsx("div",{className:"context-info",children:o.jsx(yA,{strong:!0,className:"context-label",children:"薪资周期"})}),o.jsx("div",{className:"period-actions",children:o.jsx(Ee,{picker:"month",format:"YYYY年MM月",placeholder:"选择月份",size:"small",value:(null==e?void 0:e.start_date)?i(e.start_date):null,onChange:e=>{e&&s&&s(e.year(),e.month()+1)},className:"period-date-picker",allowClear:!1})})]}),o.jsx(ve,{type:"vertical",className:"context-divider"}),o.jsxs(ue,{className:"context-section",children:[o.jsx(Ve,{className:"context-icon version-icon"}),o.jsxs("div",{className:"context-info",children:[o.jsx(yA,{strong:!0,className:"context-label",children:"工资运行"}),o.jsxs("div",{className:"version-status",children:[o.jsx(yA,{className:"context-value",children:(u=t,u?`版本 ${u.version_number||"1.0"}`:"无版本")}),t&&o.jsx(Le,{color:(()=>{if(!t)return"default";return{DRAFT:"processing","草稿":"processing",PRUN_CALCULATED:"warning","已计算":"warning",IN_REVIEW:"processing","审核中":"processing",APPROVED_FOR_PAYMENT:"success","批准支付":"success",PAID:"success","已支付":"success"}[t.status_name]||"default"})(),className:"status-tag",children:t.status_name})]})]}),r&&t&&o.jsx(Q,{size:"small",type:"text",icon:o.jsx(Mt,{}),onClick:r,className:"context-action",children:"切换"})]}),o.jsx(ve,{type:"vertical",className:"context-divider"}),t&&o.jsx("div",{className:"progress-section",children:o.jsxs(ue,{align:"center",children:[o.jsx($e,{className:"context-icon progress-icon"}),o.jsxs("div",{className:"progress-info",children:[o.jsx(yA,{className:"progress-label",children:(e=>{switch(e){case"DRAFT":case"草稿":default:return"数据准备";case"PRUN_CALCULATED":case"已计算":return"审核检查";case"IN_REVIEW":case"审核中":return"审核批准";case"APPROVED_FOR_PAYMENT":case"批准支付":return"支付准备";case"PAID":case"已支付":return"完成归档"}})(t.status_name)}),o.jsx(Nt,{percent:l(),size:"small",showInfo:!1,strokeColor:{"0%":"#108ee9","50%":"#52c41a","100%":"#87d068"},className:"progress-bar"})]}),o.jsxs("div",{className:"progress-detail",children:[o.jsxs(yA,{className:"progress-text",children:[l(),"%"]}),o.jsxs(yA,{className:"progress-step",children:["第",c(t.status_name)+1,"/5步"]})]})]})})]})}),o.jsx("div",{className:"context-right",children:o.jsxs(ue,{children:[e&&t&&o.jsx(Z,{title:`创建时间: ${i(t.initiated_at).format("YYYY-MM-DD HH:mm")}`,children:o.jsx(Q,{size:"small",type:"text",icon:o.jsx(J,{}),className:"context-info-btn"})}),a&&o.jsx(Q,{size:"small",type:"text",icon:o.jsx(Qe,{}),onClick:a,className:"context-settings",children:"设置"})]})})]})})});var u},{Header:vA,Content:gA}=Dt,bA=()=>{const{t:e}=Wt(["simplePayroll","common"]),{selectedPeriodId:t,selectedVersionId:n,payrollDataModalVisible:r,payrollStats:a,dataIntegrityStats:s,currentPeriod:l,currentVersion:c,versions:u,auditSummary:d,periodsLoading:f,auditLoading:p,setPayrollDataModalVisible:h,handleRefresh:y,handleRefreshAfterDelete:m,handleVersionRefresh:v,handleAuditRefresh:g,resetLoadingStates:b,handleNavigateToBulkImport:x,handleImportTaxData:j,handleDateChange:w,handleDeleteVersion:O}=tn();return!(null==l?void 0:l.start_date)||i(l.start_date).format("YYYY年MM月"),o.jsxs(Dt,{className:"simple-payroll-modern",children:[o.jsx(vA,{className:"payroll-header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{className:"header-title",children:e("simplePayroll:title")}),o.jsx("p",{className:"header-subtitle",children:e("simplePayroll:subtitle")})]})}),o.jsx(mA,{currentPeriod:l||null,currentVersion:c||null,onPeriodChange:()=>{},onVersionChange:()=>{},onSettings:()=>{},onDateChange:w}),o.jsx(gA,{className:"payroll-content",children:f?o.jsx("div",{className:"loading-container",children:o.jsx(W,{size:"large"})}):o.jsxs(o.Fragment,{children:[o.jsx($S,{selectedVersionId:n,currentPeriod:l,currentVersion:c,versions:u,payrollStats:a,dataIntegrityStats:s,auditSummary:d,auditLoading:p,resetLoadingStates:b}),o.jsxs("div",{className:"main-grid",children:[o.jsx("div",{className:"sidebar-controls",children:o.jsx(VS,{selectedPeriodId:t,selectedVersionId:n,handleNavigateToBulkImport:x,handleImportTaxData:j,setPayrollDataModalVisible:h,onRefresh:y,onRefreshAfterDelete:m})}),o.jsx("div",{className:"main-workspace",children:t?o.jsx(ZS,{selectedPeriod:l||null,selectedVersion:c||null,auditSummary:d,onRefresh:y,onAuditRefresh:g,onVersionRefresh:v,onDeleteVersion:O}):o.jsx(qS,{})})]})]})}),o.jsx(hA,{visible:r,onClose:()=>h(!1),periodId:t||0,periodName:null==l?void 0:l.name})]})};export{bA as default};
