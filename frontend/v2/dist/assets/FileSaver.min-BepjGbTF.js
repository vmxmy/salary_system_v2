var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{r as n}from"./utils-vendor-CFhz7Dje.js";function s(e){return Array.isArray?Array.isArray(e):"[object Array]"===h(e)}function i(e){return"string"==typeof e}function r(e){return"number"==typeof e}function o(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==h(e)}function c(e){return"object"==typeof e}function u(e){return null!=e}function a(e){return!e.trim().length}function h(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const l=Object.prototype.hasOwnProperty;class d{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=f(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function f(e){let t=null,n=null,r=null,o=1,c=null;if(i(e)||s(e))r=e,t=g(e),n=p(e);else{if(!l.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const s=e.name;if(r=s,l.call(e,"weight")&&(o=e.weight,o<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=g(s),n=p(s),c=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:c}}function g(e){return s(e)?e:e.split(".")}function p(e){return s(e)?e.join("."):e}var A={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],c=!1;const a=(e,t,h)=>{if(u(e))if(t[h]){const l=e[t[h]];if(!u(l))return;if(h===t.length-1&&(i(l)||r(l)||o(l)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(l));else if(s(l)){c=!0;for(let e=0,n=l.length;e<n;e+=1)a(l[e],t,h+1)}else t.length&&a(l,t,h+1)}else n.push(e)};return a(e,i(t)?t.split("."):t,0),c?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const m=/[^ ]+/g;class y{constructor({getFn:e=A.getFn,fieldNormWeight:t=A.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(t){const i=t.match(m).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),o=parseFloat(Math.round(r*s)/s);return n.set(i,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,i(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();i(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!u(e)||a(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(u(o))if(s(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(u(r))if(i(r)&&!a(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else s(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(i(o)&&!a(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function C(e,t,{getFn:n=A.getFn,fieldNormWeight:s=A.fieldNormWeight}={}){const i=new y({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(f)),i.setSources(t),i.create(),i}function M(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=A.distance,ignoreLocation:r=A.ignoreLocation}={}){const o=t/e.length;if(r)return o;const c=Math.abs(s-n);return i?o+c/i:c?1:o}const E=32;function x(e,t,n,{location:s=A.location,distance:i=A.distance,threshold:r=A.threshold,findAllMatches:o=A.findAllMatches,minMatchCharLength:c=A.minMatchCharLength,includeMatches:u=A.includeMatches,ignoreLocation:a=A.ignoreLocation}={}){if(t.length>E)throw new Error(`Pattern length exceeds max of ${E}.`);const h=t.length,l=e.length,d=Math.max(0,Math.min(s,l));let f=r,g=d;const p=c>1||u,m=p?Array(l):[];let y;for(;(y=e.indexOf(t,g))>-1;){let e=M(t,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:a});if(f=Math.min(e,f),g=y+h,p){let e=0;for(;e<h;)m[y+e]=1,e+=1}}g=-1;let C=[],x=1,F=h+l;const v=1<<h-1;for(let A=0;A<h;A+=1){let s=0,r=F;for(;s<r;){M(t,{errors:A,currentLocation:d+r,expectedLocation:d,distance:i,ignoreLocation:a})<=f?s=r:F=r,r=Math.floor((F-s)/2+s)}F=r;let c=Math.max(1,d-r+1),u=o?l:Math.min(d+r,l)+h,y=Array(u+2);y[u+1]=(1<<A)-1;for(let o=u;o>=c;o-=1){let s=o-1,r=n[e.charAt(s)];if(p&&(m[s]=+!!r),y[o]=(y[o+1]<<1|1)&r,A&&(y[o]|=(C[o+1]|C[o])<<1|1|C[o+1]),y[o]&v&&(x=M(t,{errors:A,currentLocation:s,expectedLocation:d,distance:i,ignoreLocation:a}),x<=f)){if(f=x,g=s,g<=d)break;c=Math.max(1,2*d-g)}}if(M(t,{errors:A+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:a})>f)break;C=y}const B={isMatch:g>=0,score:Math.max(.001,x)};if(p){const e=function(e=[],t=A.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===s?s=r:o||-1===s||(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}(m,c);e.length?u&&(B.indices=e):B.isMatch=!1}return B}function F(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}const v=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class B{constructor(e,{location:t=A.location,threshold:n=A.threshold,distance:s=A.distance,includeMatches:i=A.includeMatches,findAllMatches:r=A.findAllMatches,minMatchCharLength:o=A.minMatchCharLength,isCaseSensitive:c=A.isCaseSensitive,ignoreDiacritics:u=A.ignoreDiacritics,ignoreLocation:a=A.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:a},e=c?e:e.toLowerCase(),e=u?v(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(e,t)=>{this.chunks.push({pattern:e,alphabet:F(e),startIndex:t})},l=this.pattern.length;if(l>E){let e=0;const t=l%E,n=l-t;for(;e<n;)h(this.pattern.substr(e,E),e),e+=E;if(t){const e=l-E;h(this.pattern.substr(e),e)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=n?v(e):e,this.pattern===e){let t={isMatch:!0,score:0};return s&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:r,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:a}=this.options;let h=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:n,startIndex:f})=>{const{isMatch:g,score:p,indices:A}=x(e,t,n,{location:i+f,distance:r,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:s,ignoreLocation:a});g&&(d=!0),l+=p,g&&A&&(h=[...h,...A])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&s&&(f.indices=h),f}}class D{constructor(e){this.pattern=e}static isMultiMatch(e){return L(e,this.multiRegex)}static isSingleMatch(e){return L(e,this.singleRegex)}search(){}}function L(e,t){const n=e.match(t);return n?n[1]:null}class k extends D{constructor(e,{location:t=A.location,threshold:n=A.threshold,distance:s=A.distance,includeMatches:i=A.includeMatches,findAllMatches:r=A.findAllMatches,minMatchCharLength:o=A.minMatchCharLength,isCaseSensitive:c=A.isCaseSensitive,ignoreDiacritics:u=A.ignoreDiacritics,ignoreLocation:a=A.ignoreLocation}={}){super(e),this._bitapSearch=new B(e,{location:t,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class w extends D{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const s=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,s.push([t,n-1]);const r=!!s.length;return{isMatch:r,score:r?0:1,indices:s}}}const S=[class extends D{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},w,class extends D{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends D{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends D{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends D{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends D{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},k],b=S.length,$=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const _=new Set([k.type,w.type]);class R{constructor(e,{isCaseSensitive:t=A.isCaseSensitive,ignoreDiacritics:n=A.ignoreDiacritics,includeMatches:s=A.includeMatches,minMatchCharLength:i=A.minMatchCharLength,ignoreLocation:r=A.ignoreLocation,findAllMatches:o=A.findAllMatches,location:c=A.location,threshold:u=A.threshold,distance:a=A.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:c,threshold:u,distance:a},e=t?e:e.toLowerCase(),e=n?v(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split($).filter((e=>e&&!!e.trim())),s=[];for(let i=0,r=n.length;i<r;i+=1){const e=n[i];let r=!1,o=-1;for(;!r&&++o<b;){const n=S[o];let i=n.isMultiMatch(e);i&&(s.push(new n(i,t)),r=!0)}if(!r)for(o=-1;++o<b;){const n=S[o];let i=n.isSingleMatch(e);if(i){s.push(new n(i,t));break}}}return s}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:i}=this.options;e=s?e:e.toLowerCase(),e=i?v(e):e;let r=0,o=[],c=0;for(let u=0,a=t.length;u<a;u+=1){const s=t[u];o.length=0,r=0;for(let t=0,i=s.length;t<i;t+=1){const i=s[t],{isMatch:u,indices:a,score:h}=i.search(e);if(!u){c=0,r=0,o.length=0;break}if(r+=1,c+=h,n){const e=i.constructor.type;_.has(e)?o=[...o,...a]:o.push(a)}}if(r){let e={isMatch:!0,score:c/r};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const I=[];function N(e,t){for(let n=0,s=I.length;n<s;n+=1){let s=I[n];if(s.condition(e,t))return new s(e,t)}return new B(e,t)}const O="$and",j="$or",z="$path",T="$val",W=e=>!(!e[O]&&!e[j]),U=e=>({[O]:Object.keys(e).map((t=>({[t]:e[t]})))});function K(e,t,{auto:n=!0}={}){const r=e=>{let o=Object.keys(e);const u=(e=>!!e[z])(e);if(!u&&o.length>1&&!W(e))return r(U(e));if((e=>!s(e)&&c(e)&&!W(e))(e)){const s=u?e[z]:o[0],r=u?e[T]:e[s];if(!i(r))throw new Error((e=>`Invalid value for key ${e}`)(s));const c={keyId:p(s),pattern:r};return n&&(c.searcher=N(r,t)),c}let a={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];s(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return W(e)||(e=U(e)),r(e)}function P(e,t){const n=e.matches;t.matches=[],u(n)&&n.forEach((e=>{if(!u(e.indices)||!e.indices.length)return;const{indices:n,value:s}=e;let i={indices:n,value:s};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function q(e,t){t.score=e.score}class H{constructor(e,t={},n){this.options={...A,...t},this.options.useExtendedSearch,this._keyStore=new d(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof y))throw new Error("Incorrect 'index' type");this._myIndex=t||C(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){u(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,s=this._docs.length;n<s;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,s-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:o,sortFn:c,ignoreFieldNorm:u}=this.options;let a=i(e)?i(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=A.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:s,score:i})=>{const r=e?e.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(t?1:s))})),e.score=n}))}(a,{ignoreFieldNorm:u}),o&&a.sort(c),r(t)&&t>-1&&(a=a.slice(0,t)),function(e,t,{includeMatches:n=A.includeMatches,includeScore:s=A.includeScore}={}){const i=[];return n&&i.push(P),s&&i.push(q),e.map((e=>{const{idx:n}=e,s={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,s)})),s}))}(a,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(e){const t=N(e,this.options),{records:n}=this._myIndex,s=[];return n.forEach((({v:e,i:n,n:i})=>{if(!u(e))return;const{isMatch:r,score:o,indices:c}=t.searchIn(e);r&&s.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:c}]})})),s}_searchLogical(e){const t=K(e,this.options),n=(e,t,s)=>{if(!e.children){const{keyId:n,searcher:i}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return r&&r.length?[{idx:s,item:t,matches:r}]:[]}const i=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],c=n(o,t,s);if(c.length)i.push(...c);else if(e.operator===O)return[]}return i},s=this._myIndex.records,i={},r=[];return s.forEach((({$:e,i:s})=>{if(u(e)){let o=n(t,e,s);o.length&&(i[s]||(i[s]={idx:s,item:e,matches:[]},r.push(i[s])),o.forEach((({matches:e})=>{i[s].matches.push(...e)})))}})),r}_searchObjectList(e){const t=N(e,this.options),{keys:n,records:s}=this._myIndex,i=[];return s.forEach((({$:e,i:s})=>{if(!u(e))return;let r=[];n.forEach(((n,s)=>{r.push(...this._findMatches({key:n,value:e[s],searcher:t}))})),r.length&&i.push({idx:s,item:e,matches:r})})),i}_findMatches({key:e,value:t,searcher:n}){if(!u(t))return[];let i=[];if(s(t))t.forEach((({v:t,i:s,n:r})=>{if(!u(t))return;const{isMatch:o,score:c,indices:a}=n.searchIn(t);o&&i.push({score:c,key:e,value:t,idx:s,norm:r,indices:a})}));else{const{v:s,n:r}=t,{isMatch:o,score:c,indices:u}=n.searchIn(s);o&&i.push({score:c,key:e,value:s,norm:r,indices:u})}return i}}H.version="7.1.0",H.createIndex=C,H.parseIndex=function(e,{getFn:t=A.getFn,fieldNormWeight:n=A.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new y({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r},H.config=A,H.parseQuery=K,function(...e){I.push(...e)}(R);var X=n(),G=(e=>(e.FUZZY="fuzzy",e.EXACT="exact",e.RANGE="range",e.AUTO="auto",e.REGEX="regex",e.SMART="smart",e))(G||{});const J={threshold:.3,includeScore:!0,includeMatches:!0,minMatchCharLength:1,keys:[]},Q=e=>{if(!e||0===e.length)return J;const t=e[0],n=Object.keys(t),s=[],i=[],r=[],o=[/^员工姓名$|^姓名$/,/^员工编号$|^编号$/,/^身份证号$/,/^部门名称$|^部门$/,/^职位名称$|^职位$|^岗位$/,/^人员类别$/,/^编制$/],c=[/合计$/,/工资$/,/津贴$/,/奖金$/,/补贴$/,/扣除$/,/金额$/,/费用$/,/^基本/,/保险$/,/公积金$/],u=[/^id$|.*id$/i,/^key$/,/时间$|日期$/,/创建|更新|修改/,/^\$|^_/];n.forEach((e=>{if(u.some((t=>t.test(e))))return;const n=t[e];if(o.some((t=>t.test(e))))r.push(e);else{"number"==typeof n||"string"==typeof n&&!isNaN(Number(n))&&""!==n.trim()||c.some((t=>t.test(e)))?i.push(e):"string"==typeof n&&""!==n.trim()&&s.push(e)}}));const a=[...r,...s.slice(0,10),...i.slice(0,15)];return{...J,keys:a}};const V=(e,t=300)=>X.debounce(((t,n)=>{n(e.search(t,"auto"))}),t),Z=class{constructor(e,n={}){t(this,"fuse"),t(this,"data",[]),t(this,"config");const s={...J,...n};if(n.keys&&0!==n.keys.length)this.config=s;else{const t=Q(e);this.config={...s,keys:t.keys}}this.config.keys&&Array.isArray(this.config.keys)||(this.config.keys=[]),this.data=e,this.updateFuseInstance()}updateFuseInstance(){this.fuse=new H(this.data,{threshold:this.config.threshold,includeScore:this.config.includeScore,includeMatches:this.config.includeMatches,minMatchCharLength:this.config.minMatchCharLength,keys:this.config.keys,ignoreLocation:!0,findAllMatches:!0})}updateData(e){if(this.data=e,e.length>0){const t=Q(e);this.config={...this.config,keys:t.keys}}this.config.keys&&Array.isArray(this.config.keys)||(this.config.keys=[]),this.updateFuseInstance()}search(e,t="auto"){if(!e.trim())return this.data.map((e=>({item:e})));switch("auto"===t&&(t=this.detectSearchMode(e)),t){case"range":return this.executeRangeSearch(e);case"exact":return this.executeExactSearch(e);default:return this.executeFuzzySearch(e)}}detectSearchMode(e){return[/[^><=!]+\s*(>=|<=|>|<|!=|=)\s*\d+(?:\.\d+)?/,/\d+(?:\.\d+)?\s*(>=|<=|>|<|!=|=)\s*[^><=!]+/].some((t=>t.test(e)))?"range":e.includes('"')||e.length<=2?"exact":"fuzzy"}executeFuzzySearch(e){const t=e.trim().split(/\s+/);if(1===t.length){return this.fuse.search(e).map((e=>({item:e.item,score:e.score,matches:e.matches?[...e.matches]:void 0})))}{let e=this.data.map((e=>({item:e})));for(const n of t){const t=this.fuse.search(n),s=new Set(t.map((e=>e.item)));e=e.filter((e=>s.has(e.item)))}return e}}executeExactSearch(e){const t=e.replace(/"/g,"").toLowerCase();return this.data.filter((e=>this.config.keys.some((n=>{const s=e[n];return null!=s&&String(s).toLowerCase().includes(t)})))).map((e=>({item:e})))}executeRangeSearch(e){const t=this.parseRangeQuery(e);if(0===t.length)return this.executeFuzzySearch(e);return this.data.filter((e=>t.every((t=>this.evaluateRangeExpression(e,t))))).map((e=>({item:e})))}parseRangeQuery(e){const t=[],n=[/([^><=!]+)\s*(>=|<=|>|<|!=|=)\s*(\d+(?:\.\d+)?)/g,/(\d+(?:\.\d+)?)\s*(>=|<=|>|<|!=|=)\s*([^><=!]+)/g];for(const s of n){let n;for(;null!==(n=s.exec(e));){const[e,s,i,r]=n;let o,c,u=i;if(isNaN(Number(s)))o=s.trim(),c=parseFloat(r);else{o=r.trim(),c=parseFloat(s);u={">":"<","<":">",">=":"<=","<=":">=","=":"=","!=":"!="}[i]}const a=this.findMatchingDataKey(o);a&&t.push({field:a,operator:u,value:c,originalText:e})}}return t}findMatchingDataKey(e){const t=e.toLowerCase().trim(),n=this.config.keys.find((e=>e.toLowerCase()===t));if(n)return n;const s=this.config.keys.find((e=>e.toLowerCase().includes(t)||t.includes(e.toLowerCase())));if(s)return s;if(this.data.length>0){const e=this.data[0],n=Object.keys(e).filter((t=>{const n=e[t];return"number"==typeof n||"string"==typeof n&&!isNaN(Number(n))&&""!==n.trim()})).find((e=>e.toLowerCase().includes(t)||t.includes(e.toLowerCase())));if(n)return n}return null}evaluateRangeExpression(e,t){const n=e[t.field];if(null==n)return!1;const s="number"==typeof n?n:parseFloat(String(n));if(isNaN(s))return!1;switch(t.operator){case">":return s>t.value;case"<":return s<t.value;case">=":return s>=t.value;case"<=":return s<=t.value;case"=":return s===t.value;case"!=":return s!==t.value;default:return!1}}getSuggestions(e,t=5){if(!e.trim())return[];const n=new Set,s=e.toLowerCase();return this.data.forEach((e=>{this.config.keys.forEach((t=>{const i=e[t];if(null!=i){const e=String(i);e.toLowerCase().includes(s)&&n.add(e)}}))})),Array.from(n).slice(0,t)}getSearchInfo(){return{searchKeys:this.config.keys,dataLength:this.data.length,threshold:this.config.threshold}}},Y=(e,t,n="auto")=>e.search(t,n);var ee,te={exports:{}};var ne,se=(ee||(ee=1,ne=te,function(){function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){o(s.response,t,n)},s.onerror=function(){},s.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof globalThis&&globalThis.global===globalThis?globalThis:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,o){var c=i.URL||i.webkitURL,u=document.createElement("a");r=r||e.name||"download",u.download=r,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?s(u):n(u.href)?t(e,r,o):s(u,u.target="_blank")):(u.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(u.href)}),4e4),setTimeout((function(){s(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(i,r,o){if(r=r||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(e(i,o),r);else if(n(i))t(i,r,o);else{var c=document.createElement("a");c.href=i,c.target="_blank",setTimeout((function(){s(c)}))}}:function(e,n,s,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,s);var c="application/octet-stream"===e.type,u=/constructor/i.test(i.HTMLElement)||i.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||c&&u||r)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},h.readAsDataURL(e)}else{var l=i.URL||i.webkitURL,d=l.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});i.saveAs=o.saveAs=o,ne.exports=o}()),te.exports);export{se as F,Z as P,G as S,V as c,X as l,Y as s};
