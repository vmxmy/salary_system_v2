{
  "timestamp": "20250609_082239",
  "optimization_summary": {
    "original_view_performance": {
      "小样本查询(10行)": {
        "execution_time_ms": 1.523,
        "planning_time_ms": 23.618,
        "total_time_ms": 25.141,
        "measured_time_ms": 145.12991905212402
      },
      "中等样本查询(50行)": {
        "execution_time_ms": 1.886,
        "planning_time_ms": 9.291,
        "total_time_ms": 11.177,
        "measured_time_ms": 102.9050350189209
      },
      "部门过滤查询": {
        "execution_time_ms": 1.572,
        "planning_time_ms": 8.736,
        "total_time_ms": 10.308,
        "measured_time_ms": 99.61390495300293
      },
      "薪资范围查询": {
        "execution_time_ms": 1.652,
        "planning_time_ms": 8.829,
        "total_time_ms": 10.481,
        "measured_time_ms": 100.15201568603516
      }
    },
    "bottleneck_analysis": {
      "cte_time": 0.232,
      "jsonb_time": 0.119,
      "join_time": 0.392
    },
    "performance_comparison": {
      "小样本查询对比": {
        "original_time": 10.233,
        "optimized_time": 10.621,
        "improvement_percent": -3.791654451285057
      },
      "中等样本查询对比": {
        "original_time": 11.254,
        "optimized_time": 11.036000000000001,
        "improvement_percent": 1.9370890350097585
      },
      "部门过滤查询对比": {
        "original_time": 9.417,
        "optimized_time": 9.186,
        "improvement_percent": 2.453010512902197
      }
    }
  },
  "optimization_techniques": [
    "分离递归CTE到独立辅助视图",
    "减少多层嵌套JOIN",
    "优化JSONB字段访问",
    "添加COALESCE防止NULL值",
    "使用索引友好的JOIN顺序"
  ],
  "recommendations": [
    "考虑为高频查询创建物化视图",
    "定期VACUUM ANALYZE相关表",
    "监控查询计划变化",
    "根据业务需求调整视图字段"
  ]
}