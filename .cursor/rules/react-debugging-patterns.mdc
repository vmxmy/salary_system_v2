---
description:
globs:
alwaysApply: false
---
# React Debugging Patterns

## Object Spread Operator Conflicts

### Common Issue: Property Overrides
When using spread operator in object configuration, later properties override earlier ones:

```javascript
// ❌ Problem: render function gets overwritten
const columnConfig = {
  render: (_, record) => customRenderLogic(record),
  ...helperFunction(), // If this returns { render: ... }, it overwrites above
}

// ✅ Solution: Be explicit about property order
const columnConfig = {
  ...helperFunction(),
  render: (_, record) => customRenderLogic(record), // This takes precedence
}
```

## Console Logging Best Practices

### Structured Logging for Component Debugging

```javascript
// ✅ Good: Structured, searchable logs
console.log('[ComponentName] Event - Action:', { 
  data, 
  state: relevantState,
  timestamp: new Date().toISOString()
});

// ❌ Avoid: Generic logs without context
console.log('data:', data);
```

### Render Function Debugging

```javascript
render: (_, record) => {
  // Add debugging with clear markers
  console.log('[TableColumn] === RENDER FUNCTION CALLED ===');
  console.log('[TableColumn] Record structure:', JSON.parse(JSON.stringify(record)));
  
  // Your render logic here
  return processedData;
}
```

## Component Props Flow Debugging

### Template for Tracking Data Flow

1. **API Response Level**
   ```javascript
   console.log('[API] Response received:', response.data);
   ```

2. **State Update Level**
   ```javascript
   console.log('[Component] State updated:', { 
     dataLength: newData.length,
     firstItem: newData[0] 
   });
   ```

3. **Props Passing Level**
   ```javascript
   console.log('[Parent] Passing props to child:', { 
     dataSource: data.length,
     config: configObject 
   });
   ```

4. **Render Level**
   ```javascript
   console.log('[Child] Rendering with props:', props);
   ```

## React DevTools Integration

- Use React DevTools to inspect component props and state
- Look for prop drilling issues
- Check for unnecessary re-renders
- Verify context values

## Related Files

- Table utilities: [frontend/v2/src/components/common/TableUtils.tsx](mdc:frontend/v2/src/components/common/TableUtils.tsx)
- Standard list template: [frontend/v2/src/components/common/StandardListPageTemplate.tsx](mdc:frontend/v2/src/components/common/StandardListPageTemplate.tsx)
